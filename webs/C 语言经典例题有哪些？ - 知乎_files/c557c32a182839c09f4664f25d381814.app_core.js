PLOVR_MODULE_INFO={"sign":["app_core"],"app":["app_core","sign"],"app_core":[],"rich_text_editor":["app"]};
PLOVR_MODULE_URIS={"sign":"http://static.zhihu.com/static/compiled/sign.js","app":"http://static.zhihu.com/static/compiled/app.js","app_core":"http://static.zhihu.com/static/compiled/app_core.js","rich_text_editor":"http://static.zhihu.com/static/compiled/rich_text_editor.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
zhihu={};(function(a){with(a){
a.f=function(b){throw b;},a.i=void 0,a.j=!0,a.k=null,a.m=!1,a.aa=function(){return function(b){return b}},a.ba=function(){return function(){}},a.ca=function(b){return function(c){this[b]=c}},a.p=function(b){return function(){return this[b]}},a.s=function(b){return function(){return b}},a.t=void 0,a.da=[],a.u=function(b){return function(){return da[b].apply(this,arguments)}},a.ea=a.ea||{},a.fa=this,a.ga=function(b){for(var b=b.split("."),c=fa,d;d=b.shift();)if(c[d]!=k)c=c[d];else return k;return c},
a.ha=function(){},a.ia=function(b){b.D=function(){return b.sj?b.sj:b.sj=new b}},a.ja=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&
"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},a.ka=function(b){return b!==i},a.la=function(b){return"array"==ja(b)},a.ma=function(b){var c=ja(b);return"array"==c||"object"==c&&"number"==typeof b.length},a.oa=function(b){return"string"==typeof b},a.pa=function(b){return"number"==typeof b},a.qa=function(b){return"function"==ja(b)},a.ra=function(b){var c=typeof b;
return"object"==c&&b!=k||"function"==c},a.ua=function(b){return b[sa]||(b[sa]=++ta)},a.sa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),a.ta=0,a.va=function(b,c,d){return b.call.apply(b.bind,arguments)},a.wa=function(b,c,d){b||f(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},a.v=function(b,
c,d){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return v.apply(k,arguments)},a.xa=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}},a.ya=function(b,c){for(var d in c)b[d]=c[d]},a.za=Date.now||function(){return+new Date},a.Ba=function(b){if(fa.execScript)fa.execScript(b,"JavaScript");else if(fa.eval)if(Aa==k&&(fa.eval("var _et_ = 1;"),
"undefined"!=typeof fa._et_?(delete fa._et_,Aa=j):Aa=m),Aa)fa.eval(b);else{var c=fa.document,d=c.createElement("script");d.type="text/javascript";d.defer=m;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else f(Error("goog.globalEval not available"))},a.Aa=k,a.w=function(b,c){var d=c||{},e;for(e in d)var g=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),g);return b},a.Ca=function(b,c){var d=b.split("."),e=fa;!(d[0]in e)&&e.execScript&&e.execScript("var "+
d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&ka(c)?e[g]=c:e=e[g]?e[g]:e[g]={}},a.y=function(b,c){function d(){}d.prototype=c.prototype;b.m=c.prototype;b.prototype=new d;b.prototype.constructor=b};a.Da=function(b){Error.captureStackTrace?Error.captureStackTrace(this,Da):this.stack=Error().stack||"";b&&(this.message=String(b))};y(Da,Error);Da.prototype.name="CustomError";a.Ea=function(b,c){return 0==b.lastIndexOf(c,0)},a.Fa=function(b,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b},a.Ga=function(b){return/^[\s\xa0]*$/.test(b)},a.Ha=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")},a.Ia=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")},a.Ja=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},a.Ka=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},a.La=
function(b){return b.replace(/[\s\xa0]+$/,"")},a.Ma=function(b){return b.replace(/(\r\n|\r|\n)/g,"<br>")},a.Ua=function(b){if(!Oa.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Pa,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Qa,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(Ra,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Sa,"&quot;"));return b},a.Pa=/&/g,a.Qa=/</g,a.Ra=/>/g,a.Sa=/\"/g,a.Oa=/[&<>\"]/,a.Ya=function(b){if(Va(b,"&"))if("document"in fa)var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=
document.createElement("div"),b=b.replace(Wa,function(b,g){var h=c[b];if(h)return h;if("#"==g.charAt(0)){var l=Number("0"+g.substr(1));isNaN(l)||(h=String.fromCharCode(l))}h||(d.innerHTML=b+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[b]=h});else b=b.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return b}});return b},
a.Wa=/&([^;\s<&]+);?/g,a.Za=function(b,c,d){d&&(b=Ya(b));b.length>c&&(b=b.substring(0,c-3)+"...");d&&(b=Ua(b));return b},a.Va=function(b,c){return-1!=b.indexOf(c)},a.$a=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.ab=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^za()).toString(36)},a.bb=function(b,c){for(var d=0,e=Ka(String(b)).split("."),g=Ka(String(c)).split("."),h=Math.max(e.length,
g.length),l=0;0==d&&l<h;l++){var n=e[l]||"",q=g[l]||"",r=RegExp("(\\d*)(\\D*)","g"),x=RegExp("(\\d*)(\\D*)","g");do{var E=r.exec(n)||["","",""],G=x.exec(q)||["","",""];if(0==E[0].length&&0==G[0].length)break;d=((0==E[1].length?0:parseInt(E[1],10))<(0==G[1].length?0:parseInt(G[1],10))?-1:(0==E[1].length?0:parseInt(E[1],10))>(0==G[1].length?0:parseInt(G[1],10))?1:0)||((0==E[2].length)<(0==G[2].length)?-1:(0==E[2].length)>(0==G[2].length)?1:0)||(E[2]<G[2]?-1:E[2]>G[2]?1:0)}while(0==d)}return d},a.cb=
2147483648*Math.random()|0,a.db=function(){return"goog_"+cb++},a.eb=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};a.z={rf:function(b){return b[b.length-1]}};z.wb=Array.prototype;z.indexOf=z.wb.indexOf?function(b,c,d){return z.wb.indexOf.call(b,c,d)}:function(b,c,d){d=d==k?0:0>d?Math.max(0,b.length+d):d;if(oa(b))return!oa(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
z.lastIndexOf=z.wb.lastIndexOf?function(b,c,d){return z.wb.lastIndexOf.call(b,c,d==k?b.length-1:d)}:function(b,c,d){d=d==k?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(oa(b))return!oa(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};z.forEach=z.wb.forEach?function(b,c,d){z.wb.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)h in g&&c.call(d,g[h],h,b)};
z.$L=function(b,c){for(var d=oa(b)?b.split(""):b,e=b.length-1;0<=e;--e)e in d&&c.call(i,d[e],e,b)};z.filter=z.wb.filter?function(b,c,d){return z.wb.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=[],h=0,l=oa(b)?b.split(""):b,n=0;n<e;n++)if(n in l){var q=l[n];c.call(d,q,n,b)&&(g[h++]=q)}return g};z.map=z.wb.map?function(b,c,d){return z.wb.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=Array(e),h=oa(b)?b.split(""):b,l=0;l<e;l++)l in h&&(g[l]=c.call(d,h[l],l,b));return g};
z.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(v(c,e),d):b.reduce(c,d);var g=d;z.forEach(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(v(c,e),d):b.reduceRight(c,d);var g=d;z.$L(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.some=z.wb.some?function(b,c,d){return z.wb.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return j;return m};
z.every=z.wb.every?function(b,c,d){return z.wb.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&!c.call(d,g[h],h,b))return m;return j};z.count=function(b,c,d){var e=0;z.forEach(b,function(b,h,l){c.call(d,b,h,l)&&++e},d);return e};z.find=function(b,c,d){c=z.Tv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Tv=function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return h;return-1};
z.JX=function(b,c,d){c=z.Uv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Uv=function(b,c,d){for(var e=oa(b)?b.split(""):b,g=b.length-1;0<=g;g--)if(g in e&&c.call(d,e[g],g,b))return g;return-1};z.contains=function(b,c){return 0<=z.indexOf(b,c)};z.Hb=function(b){return 0==b.length};z.clear=function(b){if(!la(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};z.Rr=function(b,c){z.contains(b,c)||b.push(c)};z.Wn=function(b,c,d){z.splice(b,d,0,c)};
z.cY=function(b,c,d){xa(z.splice,b,d,0).apply(k,c)};z.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=z.indexOf(b,d))?b.push(c):z.Wn(b,c,e)};z.remove=function(b,c){var d=z.indexOf(b,c),e;(e=0<=d)&&z.ez(b,d);return e};z.ez=function(b,c){return 1==z.wb.splice.call(b,c,1).length};z.XR=function(b,c){var d=z.Tv(b,c,i);return 0<=d?(z.ez(b,d),j):m};z.concat=function(b){return z.wb.concat.apply(z.wb,arguments)};
z.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};z.clone=z.toArray;z.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;if(la(e)||(g=ma(e))&&Object.prototype.hasOwnProperty.call(e,"callee"))b.push.apply(b,e);else if(g)for(var h=b.length,l=e.length,n=0;n<l;n++)b[h+n]=e[n];else b.push(e)}};z.splice=function(b,c,d,e){return z.wb.splice.apply(b,z.slice(arguments,1))};
z.slice=function(b,c,d){return 2>=arguments.length?z.wb.slice.call(b,c):z.wb.slice.call(b,c,d)};z.fz=function(b,c){for(var d=c||b,e={},g=0,h=0;h<b.length;){var l=b[h++],n=ra(l)?"o"+ua(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(e,n)||(e[n]=j,d[g++]=l)}d.length=g};z.NB=function(b,c,d){return z.OB(b,d||z.Ji,m,c)};z.eX=function(b,c,d){return z.OB(b,c,j,i,d)};
z.OB=function(b,c,d,e,g){for(var h=0,l=b.length,n;h<l;){var q=h+l>>1,r;r=d?c.call(g,b[q],q,b):c(e,b[q]);0<r?h=q+1:(l=q,n=!r)}return n?h:~h};z.sort=function(b,c){z.wb.sort.call(b,c||z.Ji)};z.bZ=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||z.Ji;z.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};z.vH=function(b,c,d){var e=d||z.Ji;z.sort(b,function(b,d){return e(b[c],d[c])})};
z.jY=function(b,c,d){for(var c=c||z.Ji,e=1;e<b.length;e++){var g=c(b[e-1],b[e]);if(0<g||0==g&&d)return m}return j};z.Ui=function(b,c,d){if(!ma(b)||!ma(c)||b.length!=c.length)return m;for(var e=b.length,d=d||z.mL,g=0;g<e;g++)if(!d(b[g],c[g]))return m;return j};z.rX=function(b,c,d){return z.Ui(b,c,d)};z.sX=function(b,c,d){for(var d=d||z.Ji,e=Math.min(b.length,c.length),g=0;g<e;g++){var h=d(b[g],c[g]);if(0!=h)return h}return z.Ji(b.length,c.length)};z.Ji=function(b,c){return b>c?1:b<c?-1:0};
z.mL=function(b,c){return b===c};z.cX=function(b,c,d){d=z.NB(b,c,d);return 0>d?(z.Wn(b,c,-(d+1)),j):m};z.dX=function(b,c,d){c=z.NB(b,c,d);return 0<=c?z.ez(b,c):m};z.lX=function(b,c){for(var d={},e=0;e<b.length;e++){var g=b[e],h=c(g,e,b);ka(h)&&(d[h]||(d[h]=[])).push(g)}return d};z.It=function(b,c,d){var e={};z.forEach(b,function(g,h){e[c.call(d,g,h,b)]=g});return e};z.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};
z.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];la(e)?c.push.apply(c,z.flatten.apply(k,e)):c.push(e)}return c};z.rotate=function(b,c){b.length&&(c%=b.length,0<c?z.wb.unshift.apply(b,b.splice(-c,c)):0>c&&z.wb.push.apply(b,b.splice(0,-c)));return b};z.sZ=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],g=0;g<arguments.length;g++){var h=arguments[g];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};
z.$S=function(b){for(var c=Math.random,d=b.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),g=b[d];b[d]=b[e];b[e]=g}};a.fb=void 0,a.gb=void 0,a.hb=void 0,a.ib=void 0,a.jb=void 0,a.kb=void 0,a.lb=void 0,a.mb=void 0,a.nb=function(){return fa.navigator?fa.navigator.userAgent:k},a.ob=function(){return fa.navigator};jb=ib=hb=gb=fb=m;a.pb=void 0;if(pb=nb()){var qb=ob();fb=0==pb.indexOf("Opera");gb=!fb&&-1!=pb.indexOf("MSIE");ib=(hb=!fb&&-1!=pb.indexOf("WebKit"))&&-1!=pb.indexOf("Mobile");jb=!fb&&!hb&&"Gecko"==qb.product}a.rb=fb,a.A=gb,a.B=jb,a.C=hb,a.sb=ib,a.tb=void 0,a.ub=ob();tb=ub&&ub.platform||"";kb=Va(tb,"Mac");
lb=Va(tb,"Win");mb=Va(tb,"Linux");a.vb=!!ob()&&Va(ob().appVersion||"","X11"),a.wb=function(){var b=fa.document;return b?b.documentMode:i},a.xb=void 0;a:{var yb="",zb;if(rb&&fa.opera)var Ab=fa.opera.version,yb="function"==typeof Ab?Ab():Ab;else if(B?zb=/rv\:([^\);]+)(\)|;)/:A?zb=/MSIE\s+([^\);]+)(\)|;)/:C&&(zb=/WebKit\/(\S+)/),zb)var Bb=zb.exec(nb()),yb=Bb?Bb[1]:"";if(A){var Cb=wb();if(Cb>parseFloat(yb)){xb=String(Cb);break a}}xb=yb}
a.Db={},a.Eb=function(b){return Db[b]||(Db[b]=0<=bb(xb,b))},a.Gb=function(b){return A&&Fb>=b},a.Hb=fa.document,a.Fb=!Hb||!A?i:wb()||("CSS1Compat"==Hb.compatMode?parseInt(xb,10):5);a.Ib=void 0,a.Jb=!A||Gb(9),a.Kb=!B&&!A||A&&Gb(9)||B&&Eb("1.9.1"),a.Lb=A&&!Eb("9");a.D={set:function(b,c){b.className=c},get:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},add:function(b,c){var d=D.get(b),e=z.slice(arguments,1),g=d.length+e.length;D.lB(d,e);b.className=d.join(" ");return d.length==g},remove:function(b,c){var d=D.get(b),e=z.slice(arguments,1),g=D.wD(d,e);b.className=g.join(" ");return g.length==d.length-e.length},lB:function(b,c){for(var d=0;d<c.length;d++)z.contains(b,c[d])||b.push(c[d])},wD:function(b,c){return z.filter(b,function(b){return!z.contains(c,
b)})},qT:function(b,c,d){for(var e=D.get(b),g=m,h=0;h<e.length;h++)e[h]==c&&(z.splice(e,h--,1),g=j);g&&(e.push(d),b.className=e.join(" "));return g},xi:function(b,c,d){var e=D.get(b);oa(c)?z.remove(e,c):la(c)&&(e=D.wD(e,c));oa(d)&&!z.contains(e,d)?e.push(d):la(d)&&D.lB(e,d);b.className=e.join(" ")},has:function(b,c){return z.contains(D.get(b),c)},enable:function(b,c,d){d?D.add(b,c):D.remove(b,c)},toggle:function(b,c){var d=!D.has(b,c);D.enable(b,c,d);return d}};a.Mb=function(b,c){this.x=ka(b)?b:0;this.y=ka(c)?c:0};Mb.prototype.clone=function(){return new Mb(this.x,this.y)};a.Nb=function(b,c){return new Mb(b.x-c.x,b.y-c.y)};a.Ob=function(b,c){this.width=b;this.height=c},a.Pb=function(b,c){return b==c?j:!b||!c?m:b.width==c.width&&b.height==c.height};t=Ob.prototype;t.clone=function(){return new Ob(this.width,this.height)};t.Hb=function(){return!(this.width*this.height)};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.F={forEach:function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},filter:function(b,c,d){var e={},g;for(g in b)c.call(d,b[g],g,b)&&(e[g]=b[g]);return e},map:function(b,c,d){var e={},g;for(g in b)e[g]=c.call(d,b[g],g,b);return e},some:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return j;return m},every:function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return m;return j},cb:function(b){var c=0,d;for(d in b)c++;return c},QX:function(b){for(var c in b)return c},RX:function(b){for(var c in b)return b[c]},
contains:function(b,c){return F.Bg(b,c)},Fa:function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c},Eb:function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c},WX:function(b,c){for(var d=ma(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!ka(b));d++);return b},Md:function(b,c){return c in b},Bg:function(b,c){for(var d in b)if(b[d]==c)return j;return m},iD:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e},Vv:function(b,c,d){return(c=F.iD(b,c,d))&&b[c]},Hb:function(b){for(var c in b)return m;
return j},clear:function(b){for(var c in b)delete b[c]},remove:function(b,c){var d;(d=c in b)&&delete b[c];return d},add:function(b,c,d){c in b&&f(Error('The object already contains the key "'+c+'"'));F.set(b,c,d)},get:function(b,c,d){return c in b?b[c]:d},set:function(b,c,d){b[c]=d},YY:function(b,c,d){return c in b?b[c]:b[c]=d},clone:function(b){var c={},d;for(d in b)c[d]=b[d];return c},$T:function(b){var c=ja(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=
F.$T(b[d]);return c}return b},ym:function(b){var c={},d;for(d in b)c[b[d]]=d;return c},$A:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(b,c){for(var d,e,g=1;g<arguments.length;g++){e=arguments[g];for(d in e)b[d]=e[d];for(var h=0;h<F.$A.length;h++)d=F.$A[h],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},create:function(b){var c=arguments.length;if(1==c&&la(arguments[0]))return F.create.apply(k,arguments[0]);c%2&&
f(Error("Uneven number of arguments"));for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d},Dh:function(b){var c=arguments.length;if(1==c&&la(arguments[0]))return F.Dh.apply(k,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=j;return d},wX:function(b){var c=b;Object.isFrozen&&!Object.isFrozen(b)&&(c=Object.create(b),Object.freeze(c));return c},hY:function(b){return!!Object.isFrozen&&Object.isFrozen(b)}};a.Sb=function(b){return b?new Qb(Rb(b)):Ib||(Ib=new Qb)},a.H=function(b){return oa(b)?document.getElementById(b):b},a.Ub=function(b,c,d){return Tb(document,b,c,d)},a.Vb=function(b,c){var d=c||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):Tb(document,"*",b,c)},a.J=function(b,c){var d=c||document,e=k;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+b):Vb(b,c)[0])||k},a.Tb=function(b,c,d,e){b=e||b;c=
c&&"*"!=c?c.toUpperCase():"";if(b.querySelectorAll&&b.querySelector&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},g=0,h=0,l;l=b[h];h++)c==l.nodeName&&(e[g++]=l);e.length=g;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(h=g=0;l=b[h];h++)c=l.className,"function"==typeof c.split&&z.contains(c.split(/\s+/),d)&&(e[g++]=l);e.length=g;return e}return b},a.Xb=function(b,c){F.forEach(c,function(c,e){"style"==
e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in Wb?b.setAttribute(Wb[e],c):Ea(e,"aria-")||Ea(e,"data-")?b.setAttribute(e,c):b[e]=c})},a.Wb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},a.Yb=function(b){b=(b||window).document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new Ob(b.clientWidth,
b.clientHeight)},a.$b=function(b){var c=Zb(b),b=b.parentWindow||b.defaultView;return new Mb(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)},a.Zb=function(b){return!C&&"CSS1Compat"==b.compatMode?b.documentElement:b.body},a.ac=function(b){return b?b.parentWindow||b.defaultView:window},a.K=function(b,c,d){return bc(document,arguments)},a.bc=function(b,c){var d=c[0],e=c[1];if(!Jb&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',Ua(e.name),'"');if(e.type){d.push(' type="',Ua(e.type),'"');
var g={};F.extend(g,e);delete g.type;e=g}d.push(">");d=d.join("")}d=b.createElement(d);e&&(oa(e)?d.className=e:la(e)?D.add.apply(k,[d].concat(e)):Xb(d,e));2<c.length&&cc(b,d,c,2);return d},a.cc=function(b,c,d,e){function g(d){d&&c.appendChild(oa(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];ma(h)&&!(ra(h)&&0<h.nodeType)?z.forEach(dc(h)?z.toArray(h):h,g):g(h)}},a.fc=function(b){return ec(document,b)},a.ec=function(b,c){var d=b.createElement("div");A?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):
d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e},a.gc=function(b){if(1!=b.nodeType)return m;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return m}return j},
a.hc=function(b,c){cc(Rb(b),b,arguments,1)},a.ic=function(b){for(var c;c=b.firstChild;)b.removeChild(c)},a.jc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)},a.kc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)},a.lc=function(b,c,d){b.insertBefore(c,b.childNodes[d]||k)},a.L=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):k},a.mc=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)},a.nc=function(b){var c,d=b.parentNode;if(d&&11!=d.nodeType){if(b.removeNode)return b.removeNode(m);
for(;c=b.firstChild;)d.insertBefore(c,b);return L(b)}},a.oc=function(b){return Kb&&b.children!=i?b.children:z.filter(b.childNodes,function(b){return 1==b.nodeType})},a.qc=function(b){return b.firstElementChild!=i?b.firstElementChild:pc(b.firstChild,j)},a.rc=function(b){return b.previousElementSibling!=i?b.previousElementSibling:pc(b.previousSibling,m)},a.pc=function(b,c){for(;b&&1!=b.nodeType;)b=c?b.nextSibling:b.previousSibling;return b},a.sc=function(b,c){if(b.contains&&1==c.nodeType)return b==
c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b},a.vc=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if(A&&!Gb(9)){if(9==b.nodeType)return-1;if(9==c.nodeType)return 1}if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=1==b.nodeType,e=1==c.nodeType;if(d&&e)return b.sourceIndex-c.sourceIndex;var g=b.parentNode,h=
c.parentNode;return g==h?tc(b,c):!d&&sc(g,c)?-1*uc(b,c):!e&&sc(h,b)?uc(c,b):(d?b.sourceIndex:g.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=Rb(b);d=e.createRange();d.selectNode(b);d.collapse(j);e=e.createRange();e.selectNode(c);e.collapse(j);return d.compareBoundaryPoints(fa.Range.START_TO_END,e)},a.uc=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return tc(e,b)},a.tc=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1},a.wc=function(b){var c,
d=arguments.length;if(d){if(1==d)return arguments[0]}else return k;var e=[],g=Infinity;for(c=0;c<d;c++){for(var h=[],l=arguments[c];l;)h.unshift(l),l=l.parentNode;e.push(h);g=Math.min(g,h.length)}h=k;for(c=0;c<g;c++){for(var l=e[0][c],n=1;n<d;n++)if(l!=e[n][c])return h;h=l}return h},a.Rb=function(b){return 9==b.nodeType?b:b.ownerDocument||b.document},a.xc=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);
b.firstChild.data=c}else ic(b),b.appendChild(Rb(b).createTextNode(c))},a.zc=function(b,c){var d=[];yc(b,c,d,m);return d},a.yc=function(b,c,d,e){if(b!=k)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||yc(b,c,d,e))return j;b=b.nextSibling}return m},a.Ac={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},a.Bc={IMG:" ",BR:"\n"},a.Cc=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,pa(b)&&0<=b&&32768>b):m},a.Dc=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))},
a.Fc=function(b){if(Lb&&"innerText"in b)b=Ia(b.innerText);else{var c=[];Ec(b,c,j);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");Lb||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b},a.Gc=function(b){var c=[];Ec(b,c,m);return c.join("")},a.Ec=function(b,c,d){if(!(b.nodeName in Ac))if(3==b.nodeType)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in Bc)c.push(Bc[b.nodeName]);else for(b=b.firstChild;b;)Ec(b,
c,d),b=b.nextSibling},a.dc=function(b){if(b&&"number"==typeof b.length){if(ra(b))return"function"==typeof b.item||"string"==typeof b.item;if(qa(b))return"function"==typeof b.item}return m},a.Ic=function(b,c,d){if(!c&&!d)return k;var e=c?c.toUpperCase():k;return Hc(b,function(b){return(!e||b.nodeName==e)&&(!d||D.has(b,d))},j)},a.Hc=function(b,c,d,e){d||(b=b.parentNode);for(var d=e==k,g=0;b&&(d||g<=e);){if(c(b))return b;b=b.parentNode;g++}return k},a.Jc=function(b){try{return b&&b.activeElement}catch(c){}return k},
a.Qb=function(b){this.Ca=b||fa.document||document};t=Qb.prototype;t.H=Sb;t.za=p("Ca");t.h=function(b){return oa(b)?this.Ca.getElementById(b):b};t.Wt=Qb.prototype.h;t.Zi=function(b,c){return J(b,c||this.Ca)};t.o=function(b,c,d){return bc(this.Ca,arguments)};t.createElement=function(b){return this.Ca.createElement(b)};t.createTextNode=function(b){return this.Ca.createTextNode(b)};t.jv=u(22);a.Kc=function(b){return"CSS1Compat"==b.Ca.compatMode};t.Pa=function(){return this.Ca.parentWindow||this.Ca.defaultView};
a.Lc=function(b){return $b(b.Ca)};t.jr=function(b){return Jc(b||this.Ca)};t.appendChild=function(b,c){b.appendChild(c)};t.append=hc;t.Ws=ic;t.Xn=jc;t.tx=kc;t.removeNode=L;t.TL=nc;t.vD=oc;t.xD=qc;t.contains=sc;t.gM=Ic;a.Mc=function(b,c){b.setAttribute("role",c)},a.Nc=function(b,c,d){b.setAttribute("aria-"+c,d)},a.Oc=function(b,c){var d=b.getAttribute("aria-"+c);return d===j||d===m?d?"true":"false":d?String(d):""};a.M=function(){0!=Pc&&(this.xX=Error().stack,Qc[ua(this)]=this)},a.Pc=0,a.Qc={};M.prototype.Mf=m;M.prototype.C=function(){if(!this.Mf&&(this.Mf=j,this.p(),0!=Pc)){var b=ua(this);delete Qc[b]}};a.Rc=function(b,c){b.Qq||(b.Qq=[]);b.Qq.push(c)};M.prototype.p=function(){this.Qq&&Sc.apply(k,this.Qq);if(this.Do)for(;this.Do.length;)this.Do.shift()()};a.Tc=function(b){b&&"function"==typeof b.C&&b.C()},a.Sc=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];ma(e)?Sc.apply(k,e):Tc(e)}};a.Uc={Fm:"activedescendant",DU:"atomic",yI:"autocomplete",LU:"busy",Qp:"checked",SU:"controls",WU:"describedby",DI:"disabled",ZU:"dropeffect",UA:"expanded",cV:"flowto",jV:"grabbed",zk:"haspopup",pV:"hidden",wV:"invalid",Tp:"label",fu:"labelledby",CV:"level",FV:"live",OV:"multiline",PV:"multiselectable",VV:"orientation",XV:"owns",ZV:"posinset",MI:"pressed",gW:"readonly",jW:"relevant",kW:"required",QI:"selected",vW:"setsize",xW:"sort",aJ:"valuemax",bJ:"valuemin",cJ:"valuenow",VW:"valuetext"},a.Vc={zU:"alert",
AU:"alertdialog",BU:"application",CU:"article",FU:"banner",Pp:"button",AI:"checkbox",OU:"columnheader",BI:"combobox",QU:"complementary",CI:"dialog",XU:"directory",YU:"document",hV:"form",lV:"grid",mV:"gridcell",nV:"group",oV:"heading",uV:"img",GI:"link",DV:"list",VA:"listbox",EV:"listitem",HV:"log",HI:"main",IV:"marquee",JV:"math",II:"menu",MV:"menubar",JI:"menuitem",KI:"menuitemcheckbox",LI:"menuitemradio",QV:"navigation",SV:"note",YA:"option",aW:"presentation",bW:"progressbar",eW:"radio",fW:"radiogroup",
iW:"region",mW:"row",nW:"rowgroup",oW:"rowheader",rW:"scrollbar",sW:"search",SI:"separator",VI:"slider",yW:"spinbutton",AW:"status",bB:"tab",XI:"tablist",FW:"tabpanel",GW:"textbox",HW:"timer",YI:"toolbar",JW:"tooltip",KW:"tree",LW:"treegrid",MW:"treeitem"};a.Wc=function(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(c){}f(Error("Invalid JSON string: "+b))},a.Xc=function(b){return eval("("+b+")")},a.Zc=function(b,c){return(new Yc(c)).serialize(b)},a.Yc=function(b){this.at=b};
Yc.prototype.serialize=function(b){var c=[];$c(this,b,c);return c.join("")};
a.$c=function(b,c,d){switch(typeof c){case "string":ad(c,d);break;case "number":d.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":d.push(c);break;case "undefined":d.push("null");break;case "object":if(c==k){d.push("null");break}if(la(c)){b.serializeArray(c,d);break}d.push("{");var e="",g;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=c[g];"function"!=typeof h&&(d.push(e),ad(g,d),d.push(":"),$c(b,b.at?b.at.call(c,g,h):h,d),e=",")}d.push("}");break;case "function":break;default:f(Error("Unknown type: "+
typeof c))}},a.bd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},a.cd=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,a.ad=function(b,c){c.push('"',b.replace(cd,function(b){if(b in bd)return bd[b];var c=b.charCodeAt(0),g="\\u";16>c?g+="000":256>c?g+="00":4096>c&&(g+="0");return bd[b]=g+c.toString(16)}),'"')};
Yc.prototype.serializeArray=function(b,c){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],$c(this,this.at?this.at.call(b,String(g),e):e,c),e=",";c.push("]")};a.dd=!A||Gb(9),a.ed=!A||Gb(9),a.fd=A&&!Eb("9");!C||Eb("528");B&&Eb("1.9b")||A&&Eb("8")||rb&&Eb("9.5")||C&&Eb("528");B&&!Eb("8")||A&&Eb("9");a.gd=function(b,c){this.type=b;this.currentTarget=this.target=c};t=gd.prototype;t.p=ba();t.C=ba();t.Qj=m;t.defaultPrevented=m;t.dt=j;t.stopPropagation=function(){this.Qj=j};t.preventDefault=function(){this.defaultPrevented=j;this.dt=m};a.hd=function(b){b.preventDefault()};a.id=A?"focusin":"DOMFocusIn";a.jd=function(b){jd[" "](b);return b};jd[" "]=ha;a.kd=function(b,c){b&&this.v(b,c)};y(kd,gd);a.ld=[1,4,2];t=kd.prototype;t.target=k;t.relatedTarget=k;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=m;t.altKey=m;t.shiftKey=m;t.metaKey=m;t.Py=m;t.Ub=k;
t.v=function(b,c){var d=this.type=b.type;gd.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;if(e){if(B){var g;a:{try{jd(e.nodeName);g=j;break a}catch(h){}g=m}g||(e=k)}}else"mouseover"==d?e=b.fromElement:"mouseout"==d&&(e=b.toElement);this.relatedTarget=e;this.offsetX=C||b.offsetX!==i?b.offsetX:b.layerX;this.offsetY=C||b.offsetY!==i?b.offsetY:b.layerY;this.clientX=b.clientX!==i?b.clientX:b.pageX;this.clientY=b.clientY!==i?b.clientY:b.pageY;this.screenX=b.screenX||
0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.Py=kb?b.metaKey:b.ctrlKey;this.state=b.state;this.Ub=b;b.defaultPrevented&&this.preventDefault();delete this.Qj};a.md=function(b){return(dd?0==b.Ub.button:"click"==b.type?j:!!(b.Ub.button&ld[0]))&&!(C&&kb&&b.ctrlKey)};
t.stopPropagation=function(){kd.m.stopPropagation.call(this);this.Ub.stopPropagation?this.Ub.stopPropagation():this.Ub.cancelBubble=j};t.preventDefault=function(){kd.m.preventDefault.call(this);var b=this.Ub;if(b.preventDefault)b.preventDefault();else if(b.returnValue=m,fd)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};t.tD=p("Ub");t.p=ba();a.nd=function(){},a.od=0;t=nd.prototype;t.key=0;t.Uj=m;t.rq=m;t.v=function(b,c,d,e,g,h){qa(b)?this.AE=j:b&&b.handleEvent&&qa(b.handleEvent)?this.AE=m:f(Error("Invalid listener argument"));this.dg=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!g;this.Qh=h;this.rq=m;this.key=++od;this.Uj=m};t.handleEvent=function(b){return this.AE?this.dg.call(this.Qh||this.src,b):this.dg.handleEvent.call(this.dg,b)};a.pd={},a.qd={},a.rd={},a.sd={},a.N=function(b,c,d,e,g){if(la(c)){for(var h=0;h<c.length;h++)N(b,c[h],d,e,g);return k}return td(b,c,d,m,e,g)},a.td=function(b,c,d,e,g,h){c||f(Error("Invalid event type"));var g=!!g,l=qd;c in l||(l[c]={ia:0,Pe:0});l=l[c];g in l||(l[g]={ia:0,Pe:0},l.ia++);var l=l[g],n=ua(b),q;l.Pe++;if(l[n]){q=l[n];for(var r=0;r<q.length;r++)if(l=q[r],l.dg==d&&l.Qh==h){if(l.Uj)break;e||(q[r].rq=m);return q[r].key}}else q=l[n]=[],l.ia++;var x=ud,E=ed?function(b){return x.call(E.src,E.key,
b)}:function(b){b=x.call(E.src,E.key,b);if(!b)return b},r=E;r.src=b;l=new nd;l.v(d,r,b,c,g,h);l.rq=e;d=l.key;r.key=d;q.push(l);pd[d]=l;rd[n]||(rd[n]=[]);rd[n].push(l);b.addEventListener?(b==fa||!b.BC)&&b.addEventListener(c,r,g):b.attachEvent(c in sd?sd[c]:sd[c]="on"+c,r);return d},a.vd=function(b,c,d,e,g){if(la(c)){for(var h=0;h<c.length;h++)vd(b,c[h],d,e,g);return k}return td(b,c,d,j,e,g)},a.wd=function(b,c,d,e,g){if(la(c))for(var h=0;h<c.length;h++)wd(b,c[h],d,e,g);else if(e=!!e,b=xd(b,c,e))for(h=
0;h<b.length;h++)if(b[h].dg==d&&b[h].capture==e&&b[h].Qh==g){yd(b[h].key);break}},a.yd=function(b){if(!pd[b])return m;var c=pd[b];if(c.Uj)return m;var d=c.src,e=c.type,g=c.proxy,h=c.capture;d.removeEventListener?(d==fa||!d.BC)&&d.removeEventListener(e,g,h):d.detachEvent&&d.detachEvent(e in sd?sd[e]:sd[e]="on"+e,g);d=ua(d);rd[d]&&(g=rd[d],z.remove(g,c),0==g.length&&delete rd[d]);c.Uj=j;if(c=qd[e][h][d])c.yF=j,zd(e,h,d,c);delete pd[b];return j},a.zd=function(b,c,d,e){if(!e.ns&&e.yF){for(var g=0,h=0;g<
e.length;g++)e[g].Uj?e[g].proxy.src=k:(g!=h&&(e[h]=e[g]),h++);e.length=h;e.yF=m;0==h&&(delete qd[b][c][d],qd[b][c].ia--,0==qd[b][c].ia&&(delete qd[b][c],qd[b].ia--),0==qd[b].ia&&delete qd[b])}},a.Ad=function(b){var c,d=0,e=c==k;c=!!c;if(b==k)F.forEach(rd,function(b){for(var g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)yd(h.key),d++}});else if(b=ua(b),rd[b])for(var b=rd[b],g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)yd(h.key),d++}},a.xd=function(b,c,d){var e=qd;return c in e&&(e=e[c],
d in e&&(e=e[d],b=ua(b),e[b]))?e[b]:k},a.Cd=function(b,c,d,e,g){var h=1,c=ua(c);if(b[c]){b.Pe--;b=b[c];b.ns?b.ns++:b.ns=1;try{for(var l=b.length,n=0;n<l;n++){var q=b[n];q&&!q.Uj&&(h&=Bd(q,g)!==m)}}finally{b.ns--,zd(d,e,c,b)}}return Boolean(h)},a.Bd=function(b,c){b.rq&&yd(b.key);return b.handleEvent(c)},a.ud=function(b,c){if(!pd[b])return j;var d=pd[b],e=d.type,g=qd;if(!(e in g))return j;var g=g[e],h,l;if(!ed){h=c||ga("window.event");var n=j in g,q=m in g;if(n){if(0>h.keyCode||h.returnValue!=i)return j;
a:{var r=m;if(0==h.keyCode)try{h.keyCode=-1;break a}catch(x){r=j}if(r||h.returnValue==i)h.returnValue=j}}r=new kd;r.v(h,this);h=j;try{if(n){for(var E=[],G=r.currentTarget;G;G=G.parentNode)E.push(G);l=g[j];l.Pe=l.ia;for(var I=E.length-1;!r.Qj&&0<=I&&l.Pe;I--)r.currentTarget=E[I],h&=Cd(l,E[I],e,j,r);if(q){l=g[m];l.Pe=l.ia;for(I=0;!r.Qj&&I<E.length&&l.Pe;I++)r.currentTarget=E[I],h&=Cd(l,E[I],e,m,r)}}else h=Bd(d,r)}finally{E&&(E.length=0)}return h}e=new kd(c,this);return h=Bd(d,e)},a.Dd=0,a.Ed=function(b){return b+
"_"+Dd++};a.Fd=function(){M.call(this)};y(Fd,M);t=Fd.prototype;t.BC=j;t.Sl=k;t.mt=ca("Sl");t.addEventListener=function(b,c,d,e){N(this,b,c,d,e)};t.removeEventListener=function(b,c,d,e){wd(this,b,c,d,e)};
t.dispatchEvent=function(b){var c=b.type||b,d=qd;if(c in d){if(oa(b))b=new gd(b,this);else if(b instanceof gd)b.target=b.target||this;else{var e=b,b=new gd(c,this);F.extend(b,e)}var e=1,g,d=d[c],c=j in d,h;if(c){g=[];for(h=this;h;h=h.Sl)g.push(h);h=d[j];h.Pe=h.ia;for(var l=g.length-1;!b.Qj&&0<=l&&h.Pe;l--)b.currentTarget=g[l],e&=Cd(h,g[l],b.type,j,b)&&b.dt!=m}if(m in d)if(h=d[m],h.Pe=h.ia,c)for(l=0;!b.Qj&&l<g.length&&h.Pe;l++)b.currentTarget=g[l],e&=Cd(h,g[l],b.type,m,b)&&b.dt!=m;else for(g=this;!b.Qj&&
g&&h.Pe;g=g.Sl)b.currentTarget=g,e&=Cd(h,g,b.type,m,b)&&b.dt!=m;b=Boolean(e)}else b=j;return b};t.p=function(){Fd.m.p.call(this);Ad(this);this.Sl=k};a.Hd=function(b,c){M.call(this);this.Pg=b||1;this.vp=c||Gd;this.Nu=v(this.BT,this);this.Ox=za()};y(Hd,Fd);Hd.prototype.enabled=m;a.Gd=fa.window;t=Hd.prototype;t.oa=k;t.setInterval=u(12);t.BT=function(){if(this.enabled){var b=za()-this.Ox;0<b&&b<0.8*this.Pg?this.oa=this.vp.setTimeout(this.Nu,this.Pg-b):(this.dispatchEvent(Id),this.enabled&&(this.oa=this.vp.setTimeout(this.Nu,this.Pg),this.Ox=za()))}};t.start=function(){this.enabled=j;this.oa||(this.oa=this.vp.setTimeout(this.Nu,this.Pg),this.Ox=za())};
t.stop=function(){this.enabled=m;this.oa&&(this.vp.clearTimeout(this.oa),this.oa=k)};t.p=function(){Hd.m.p.call(this);this.stop();delete this.vp};a.Id="tick",a.Jd=function(b,c,d){qa(b)?d&&(b=v(b,d)):b&&"function"==typeof b.handleEvent?b=v(b.handleEvent,b):f(Error("Invalid listener argument"));return 2147483647<c?-1:Gd.setTimeout(b,c||0)};a.Kd={cb:function(b){return"function"==typeof b.cb?b.cb():ma(b)||oa(b)?b.length:F.cb(b)},Fa:function(b){if("function"==typeof b.Fa)return b.Fa();if(oa(b))return b.split("");if(ma(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return F.Fa(b)},Eb:function(b){if("function"==typeof b.Eb)return b.Eb();if("function"!=typeof b.Fa){if(ma(b)||oa(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return F.Eb(b)}},contains:function(b,c){return"function"==typeof b.contains?b.contains(c):
"function"==typeof b.Bg?b.Bg(c):ma(b)||oa(b)?z.contains(b,c):F.Bg(b,c)},Hb:function(b){return"function"==typeof b.Hb?b.Hb():ma(b)||oa(b)?z.Hb(b):F.Hb(b)},clear:function(b){"function"==typeof b.clear?b.clear():ma(b)?z.clear(b):F.clear(b)},forEach:function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(ma(b)||oa(b))z.forEach(b,c,d);else for(var e=Kd.Eb(b),g=Kd.Fa(b),h=g.length,l=0;l<h;l++)c.call(d,g[l],e&&e[l],b)},filter:function(b,c,d){if("function"==typeof b.filter)return b.filter(c,
d);if(ma(b)||oa(b))return z.filter(b,c,d);var e,g=Kd.Eb(b),h=Kd.Fa(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)c.call(d,h[n],g[n],b)&&(e[g[n]]=h[n])}else{e=[];for(n=0;n<l;n++)c.call(d,h[n],i,b)&&e.push(h[n])}return e},map:function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(ma(b)||oa(b))return z.map(b,c,d);var e,g=Kd.Eb(b),h=Kd.Fa(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)e[g[n]]=c.call(d,h[n],g[n],b)}else{e=[];for(n=0;n<l;n++)e[n]=c.call(d,h[n],i,b)}return e},some:function(b,c,d){if("function"==
typeof b.some)return b.some(c,d);if(ma(b)||oa(b))return z.some(b,c,d);for(var e=Kd.Eb(b),g=Kd.Fa(b),h=g.length,l=0;l<h;l++)if(c.call(d,g[l],e&&e[l],b))return j;return m},every:function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(ma(b)||oa(b))return z.every(b,c,d);for(var e=Kd.Eb(b),g=Kd.Fa(b),h=g.length,l=0;l<h;l++)if(!c.call(d,g[l],e&&e[l],b))return m;return j}};a.O={};O.Za="StopIteration"in fa?fa.StopIteration:Error("StopIteration");a.Ld=function(){};Ld.prototype.next=function(){f(O.Za)};Ld.prototype.dd=function(){return this};O.ad=function(b){if(b instanceof Ld)return b;if("function"==typeof b.dd)return b.dd(m);if(ma(b)){var c=0,d=new Ld;d.next=function(){for(;;){c>=b.length&&f(O.Za);if(c in b)return b[c++];c++}};return d}f(Error("Not implemented"))};
O.forEach=function(b,c,d){if(ma(b))try{z.forEach(b,c,d)}catch(e){e!==O.Za&&f(e)}else{b=O.ad(b);try{for(;;)c.call(d,b.next(),i,b)}catch(g){g!==O.Za&&f(g)}}};O.filter=function(b,c,d){var e=O.ad(b),b=new Ld;b.next=function(){for(;;){var b=e.next();if(c.call(d,b,i,e))return b}};return b};O.Po=function(b,c,d){var e=0,g=b,h=d||1;1<arguments.length&&(e=b,g=c);0==h&&f(Error("Range step argument must not be zero"));var l=new Ld;l.next=function(){(0<h&&e>=g||0>h&&e<=g)&&f(O.Za);var b=e;e+=h;return b};return l};
O.join=function(b,c){return O.toArray(b).join(c)};O.map=function(b,c,d){var e=O.ad(b),b=new Ld;b.next=function(){for(;;){var b=e.next();return c.call(d,b,i,e)}};return b};O.reduce=function(b,c,d,e){var g=d;O.forEach(b,function(b){g=c.call(e,g,b)});return g};O.some=function(b,c,d){b=O.ad(b);try{for(;;)if(c.call(d,b.next(),i,b))return j}catch(e){e!==O.Za&&f(e)}return m};O.every=function(b,c,d){b=O.ad(b);try{for(;;)if(!c.call(d,b.next(),i,b))return m}catch(e){e!==O.Za&&f(e)}return j};
O.sK=function(b){var c=arguments,d=c.length,e=0,g=new Ld;g.next=function(){try{return e>=d&&f(O.Za),O.ad(c[e]).next()}catch(b){return(b!==O.Za||e>=d)&&f(b),e++,this.next()}};return g};O.EL=function(b,c){var d=O.ad(b),e=new Ld,g=j;e.next=function(){for(;;){var b=d.next();if(!g||!c.call(i,b,i,d))return g=m,b}};return e};O.gA=function(b,c){var d=O.ad(b),e=new Ld,g=j;e.next=function(){for(;;)if(g){var b=d.next();if(c.call(i,b,i,d))return b;g=m}else f(O.Za)};return e};
O.toArray=function(b){if(ma(b))return z.toArray(b);var b=O.ad(b),c=[];O.forEach(b,function(b){c.push(b)});return c};O.Ui=function(b,c){var b=O.ad(b),c=O.ad(c),d,e;try{for(;;){d=e=m;var g=b.next();d=j;var h=c.next();e=j;if(g!=h)break}}catch(l){l!==O.Za&&f(l);if(d&&!e)return m;if(!e)try{c.next()}catch(n){return n!==O.Za&&f(n),j}}return m};O.xY=function(b,c){try{return O.ad(b).next()}catch(d){return d!=O.Za&&f(d),c}};
O.product=function(b){if(z.some(arguments,function(b){return!b.length})||!arguments.length)return new Ld;var c=new Ld,d=arguments,e=z.repeat(0,d.length);c.next=function(){if(e){for(var b=z.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=k;break}e[c]=0}return b}f(O.Za)};return c};
O.pv=function(b){var c=O.ad(b),d=[],e=0,b=new Ld,g=m;b.next=function(){var b=k;if(!g)try{return b=c.next(),d.push(b),b}catch(l){(l!=O.Za||z.Hb(d))&&f(l),g=j}b=d[e];e=(e+1)%d.length;return b};return b};a.Md=function(b,c){this.rb={};this.Qa=[];var d=arguments.length;if(1<d){d%2&&f(Error("Uneven number of arguments"));for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.pu(b)};t=Md.prototype;t.ia=0;t.Ep=0;t.cb=p("ia");t.Fa=function(){Nd(this);for(var b=[],c=0;c<this.Qa.length;c++)b.push(this.rb[this.Qa[c]]);return b};t.Eb=function(){Nd(this);return this.Qa.concat()};t.Md=function(b){return Od(this.rb,b)};
t.Bg=function(b){for(var c=0;c<this.Qa.length;c++){var d=this.Qa[c];if(Od(this.rb,d)&&this.rb[d]==b)return j}return m};t.Ui=function(b,c){if(this===b)return j;if(this.ia!=b.cb())return m;var d=c||Pd;Nd(this);for(var e,g=0;e=this.Qa[g];g++)if(!d(this.get(e),b.get(e)))return m;return j};a.Pd=function(b,c){return b===c};t.Hb=function(){return 0==this.ia};t.clear=function(){this.rb={};this.Ep=this.ia=this.Qa.length=0};
t.remove=function(b){return Od(this.rb,b)?(delete this.rb[b],this.ia--,this.Ep++,this.Qa.length>2*this.ia&&Nd(this),j):m};a.Nd=function(b){if(b.ia!=b.Qa.length){for(var c=0,d=0;c<b.Qa.length;){var e=b.Qa[c];Od(b.rb,e)&&(b.Qa[d++]=e);c++}b.Qa.length=d}if(b.ia!=b.Qa.length){for(var g={},d=c=0;c<b.Qa.length;)e=b.Qa[c],Od(g,e)||(b.Qa[d++]=e,g[e]=1),c++;b.Qa.length=d}};t.get=function(b,c){return Od(this.rb,b)?this.rb[b]:c};
t.set=function(b,c){Od(this.rb,b)||(this.ia++,this.Qa.push(b),this.Ep++);this.rb[b]=c};t.pu=function(b){var c;b instanceof Md?(c=b.Eb(),b=b.Fa()):(c=F.Eb(b),b=F.Fa(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};t.clone=function(){return new Md(this)};t.ym=function(){for(var b=new Md,c=0;c<this.Qa.length;c++){var d=this.Qa[c];b.set(this.rb[d],d)}return b};t.It=function(){Nd(this);for(var b={},c=0;c<this.Qa.length;c++){var d=this.Qa[c];b[d]=this.rb[d]}return b};
t.dd=function(b){Nd(this);var c=0,d=this.Qa,e=this.rb,g=this.Ep,h=this,l=new Ld;l.next=function(){for(;;){g!=h.Ep&&f(Error("The map has changed since the iterator was created"));c>=d.length&&f(O.Za);var l=d[c++];return b?l:e[l]}};return l};a.Od=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};a.Qd=function(b){this.rb=new Md;b&&this.pu(b)},a.Rd=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+ua(b):c.substr(0,1)+b};t=Qd.prototype;t.cb=function(){return this.rb.cb()};t.add=function(b){this.rb.set(Rd(b),b)};t.pu=function(b){for(var b=Kd.Fa(b),c=b.length,d=0;d<c;d++)this.add(b[d])};t.Lc=function(b){for(var b=Kd.Fa(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};t.remove=function(b){return this.rb.remove(Rd(b))};t.clear=function(){this.rb.clear()};t.Hb=function(){return this.rb.Hb()};
t.contains=function(b){return this.rb.Md(Rd(b))};t.uE=function(b){for(var c=new Qd,b=Kd.Fa(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};t.Fa=function(){return this.rb.Fa()};t.clone=function(){return new Qd(this)};t.Ui=function(b){var c;if(c=this.cb()==Kd.cb(b)){var d=b,b=Kd.cb(d);this.cb()>b?c=m:(!(d instanceof Qd)&&5<b&&(d=new Qd(d)),c=Kd.every(this,function(b){return Kd.contains(d,b)}))}return c};t.dd=function(){return this.rb.dd(m)};a.Td=function(b){return Sd(b||arguments.callee.caller,[])},a.Sd=function(b,c){var d=[];if(z.contains(c,b))d.push("[...circular reference...]");else if(b&&50>c.length){d.push(Ud(b)+"(");for(var e=b.arguments,g=0;g<e.length;g++){0<g&&d.push(", ");var h;h=e[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Ud(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");
d.push(h)}c.push(b);d.push(")\n");try{d.push(Sd(b.caller,c))}catch(l){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")},a.Ud=function(b){if(Vd[b])return Vd[b];b=String(b);if(!Vd[b]){var c=/function ([^\(]+)/.exec(b);Vd[b]=c?c[1]:"[Anonymous]"}return Vd[b]},a.Vd={};a.Wd=function(b,c,d,e,g){this.reset(b,c,d,e,g)};Wd.prototype.FS=0;Wd.prototype.dD=k;Wd.prototype.cD=k;a.Xd=0;Wd.prototype.reset=function(b,c,d,e,g){this.FS="number"==typeof g?g:Xd++;this.gZ=e||za();this.no=b;this.vF=c;this.oY=d;delete this.dD;delete this.cD};Wd.prototype.gH=ca("no");Wd.prototype.fi=u(56);a.Yd=function(b){this.EP=b};Yd.prototype.Ta=k;Yd.prototype.no=k;Yd.prototype.Tb=k;Yd.prototype.YD=k;a.Zd=function(b,c){this.name=b;this.value=c};Zd.prototype.toString=p("name");a.$d=new Zd("SHOUT",1200),a.ae=new Zd("SEVERE",1E3),a.be=new Zd("WARNING",900),a.de=new Zd("INFO",800),a.ee=new Zd("CONFIG",700),a.fe=new Zd("FINE",500);t=Yd.prototype;t.getParent=p("Ta");t.vD=function(){this.Tb||(this.Tb={});return this.Tb};t.gH=ca("no");a.ge=function(b){return b.no?b.no:b.Ta?ge(b.Ta):k};
t.log=function(b,c,d){if(b.value>=ge(this).value){b=this.jM(b,c,d);c="log:"+b.vF;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(c):fa.console.markTimeline&&fa.console.markTimeline(c));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(c);for(c=this;c;){var d=c,e=b;if(d.YD)for(var g=0,h=i;h=d.YD[g];g++)h(e);c=c.getParent()}}};
t.jM=function(b,c,d){var e=new Wd(b,String(c),this.EP);if(d){e.dD=d;var g;var h=arguments.callee.caller;try{var l;var n=ga("window.location.href");if(oa(d))l={message:d,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,r,x=m;try{q=d.lineNumber||d.nY||"Not available"}catch(E){q="Not available",x=j}try{r=d.fileName||d.filename||d.sourceURL||n}catch(G){r="Not available",x=j}l=x||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:q,
fileName:r,stack:d.stack||"Not available"}:d}g="Message: "+Ua(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+Ua(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ua(Td(h)+"-> ")}catch(I){g="Exception trying to expose exception! You win, we lose. "+I}e.cD=g}return e};t.rk=function(b,c){this.log(be,b,c)};t.info=function(b,c){this.log(de,b,c)};t.hC=u(14);
a.he=function(b,c){b.log(fe,c,i)},a.ie={},a.je=k,a.ke=function(b){je||(je=new Yd(""),ie[""]=je,je.gH(ee));var c;if(!(c=ie[b])){c=new Yd(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=ke(b.substr(0,d));d.vD()[e]=c;c.Ta=d;ie[b]=c}return c};a.le=function(b){M.call(this);this.ga=b;this.Qa=[]};y(le,M);a.me=[];t=le.prototype;t.c=function(b,c,d,e,g){la(c)||(me[0]=c,c=me);for(var h=0;h<c.length;h++){var l=N(b,c[h],d||this,e||m,g||this.ga||this);this.Qa.push(l)}return this};a.P=function(b,c,d,e,g,h){if(la(d))for(var l=0;l<d.length;l++)P(b,c,d[l],e,g,h);else c=vd(c,d,e||b,g,h||b.ga||b),b.Qa.push(c)};
t.Ba=function(b,c,d,e,g){if(la(c))for(var h=0;h<c.length;h++)this.Ba(b,c[h],d,e,g);else{a:{d=d||this;g=g||this.ga||this;e=!!e;if(b=xd(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Uj&&b[c].dg==d&&b[c].capture==e&&b[c].Qh==g){b=b[c];break a}b=k}b&&(b=b.key,yd(b),z.remove(this.Qa,b))}return this};t.Lc=function(){z.forEach(this.Qa,yd);this.Qa.length=0};t.p=function(){le.m.p.call(this);this.Lc()};t.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};a.ne=function(b){M.call(this);this.rg=b;this.ct=[]};y(ne,M);ne.prototype.Aa=ke("goog.net.BulkLoaderHelper");ne.prototype.uw=p("rg");ne.prototype.qw=p("ct");ne.prototype.p=function(){ne.m.p.call(this);this.ct=this.rg=k};a.oe=function(){};oe.prototype.VB=k;a.qe=function(b){var c;if(!(c=b.VB))c={},pe(b)&&(c[0]=j,c[1]=j),c=b.VB=c;return c};a.re=void 0,a.se=function(){};y(se,oe);a.te=function(b){return(b=pe(b))?new ActiveXObject(b):new XMLHttpRequest},a.pe=function(b){if(!b.eE&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<c.length;d++){var e=c[d];try{return new ActiveXObject(e),b.eE=e}catch(g){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return b.eE};
re=new se;a.ue=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");a.ve=function(b){M.call(this);this.headers=new Md;this.Ut=b||k};y(ve,Fd);ve.prototype.Aa=ke("goog.net.XhrIo");a.we=/^https?$/i;t=ve.prototype;t.sh=m;t.$=k;t.Tt=k;t.es="";t.NE="";t.ho=0;t.io="";t.Lv=m;t.Jr=m;t.hx=m;t.mj=m;t.Dt=0;t.mk=k;t.PG="";t.sU=m;
t.send=function(b,c,d,e){this.$&&f(Error("[goog.net.XhrIo] Object is active with another request="+this.es+"; newUri="+b));c=c?c.toUpperCase():"GET";this.es=b;this.io="";this.ho=0;this.NE=c;this.Lv=m;this.sh=j;this.$=this.Ut?te(this.Ut):te(re);this.Tt=this.Ut?qe(this.Ut):qe(re);this.$.onreadystatechange=v(this.VF,this);try{he(this.Aa,xe(this,"Opening Xhr")),this.hx=j,this.$.open(c,b,j),this.hx=m}catch(g){he(this.Aa,xe(this,"Error opening Xhr: "+g.message));ye(this,g);return}var b=d||"",h=this.headers.clone();
e&&Kd.forEach(e,function(b,c){h.set(c,b)});e=fa.FormData&&b instanceof fa.FormData;"POST"==c&&(!h.Md("Content-Type")&&!e)&&h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Kd.forEach(h,function(b,c){this.$.setRequestHeader(c,b)},this);this.PG&&(this.$.responseType=this.PG);F.Md(this.$,"withCredentials")&&(this.$.withCredentials=this.sU);try{this.mk&&(Gd.clearTimeout(this.mk),this.mk=k),0<this.Dt&&(he(this.Aa,xe(this,"Will abort after "+this.Dt+"ms if incomplete")),this.mk=Gd.setTimeout(v(this.Et,
this),this.Dt)),he(this.Aa,xe(this,"Sending request")),this.Jr=j,this.$.send(b),this.Jr=m}catch(l){he(this.Aa,xe(this,"Send error: "+l.message)),ye(this,l)}};t.Et=function(){"undefined"!=typeof ea&&this.$&&(this.io="Timed out after "+this.Dt+"ms, aborting",this.ho=8,he(this.Aa,xe(this,this.io)),this.dispatchEvent("timeout"),this.abort(8))};a.ye=function(b,c){b.sh=m;b.$&&(b.mj=j,b.$.abort(),b.mj=m);b.io=c;b.ho=5;ze(b);Ae(b)},a.ze=function(b){b.Lv||(b.Lv=j,b.dispatchEvent("complete"),b.dispatchEvent("error"))};
t.abort=function(b){this.$&&this.sh&&(he(this.Aa,xe(this,"Aborting")),this.sh=m,this.mj=j,this.$.abort(),this.mj=m,this.ho=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ae(this))};t.p=function(){this.$&&(this.sh&&(this.sh=m,this.mj=j,this.$.abort(),this.mj=m),Ae(this,j));ve.m.p.call(this)};t.VF=function(){!this.hx&&!this.Jr&&!this.mj?this.EQ():Be(this)};t.EQ=function(){Be(this)};
a.Be=function(b){if(b.sh&&"undefined"!=typeof ea)if(b.Tt[1]&&4==Ce(b)&&2==De(b))he(b.Aa,xe(b,"Local request error detected and ignored"));else if(b.Jr&&4==Ce(b))Gd.setTimeout(v(b.VF,b),0);else if(b.dispatchEvent("readystatechange"),4==Ce(b)){he(b.Aa,xe(b,"Request complete"));b.sh=m;try{if(Ee(b))b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.ho=6;var c;try{c=2<Ce(b)?b.$.statusText:""}catch(d){he(b.Aa,"Can not get status: "+d.message),c=""}b.io=c+" ["+De(b)+"]";ze(b)}}finally{Ae(b)}}},
a.Ae=function(b,c){if(b.$){var d=b.$,e=b.Tt[0]?ha:k;b.$=k;b.Tt=k;b.mk&&(Gd.clearTimeout(b.mk),b.mk=k);c||b.dispatchEvent("ready");try{d.onreadystatechange=e}catch(g){b.Aa.log(ae,"Problem encountered resetting onreadystatechange: "+g.message,i)}}};t.Gb=function(){return!!this.$};
a.Ee=function(b){var c=De(b),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=m}if(!d){if(c=0===c)b=String(b.es).match(ue)[1]||k,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),c=!we.test(b?b.toLowerCase():"");d=c}return d},a.Ce=function(b){return b.$?b.$.readyState:0},a.De=function(b){try{return 2<Ce(b)?b.$.status:-1}catch(c){return b.Aa.rk("Can not get status: "+c.message),-1}},a.Fe=function(b){try{return b.$?b.$.responseText:
""}catch(c){return he(b.Aa,"Can not get responseText: "+c.message),""}},a.Ge=function(b){if(b.$)return Wc(b.$.responseText)};t.getResponseHeader=function(b){return this.$&&4==Ce(this)?this.$.getResponseHeader(b):i};a.xe=function(b,c){return c+" ["+b.NE+" "+b.es+" "+De(b)+"]"};a.He=function(b){M.call(this);this.kj=new ne(b);this.N=new le(this)};y(He,Fd);t=He.prototype;t.Aa=ke("goog.net.BulkLoader");t.qw=function(){return this.kj.qw()};t.load=function(){var b=this.N,c=this.kj.uw();this.Aa.info("Starting load of code with "+c.length+" uris.");for(var d=0;d<c.length;d++){var e=new ve;b.c(e,"complete",v(this.SM,this,d));e.send(c[d])}};
t.SM=function(b,c){this.Aa.info('Received event "'+c.type+'" for id '+b+" with uri "+this.kj.rg[b]);var d=c.target;Ee(d)?this.Sw(b,d):this.Hw(b,d)};t.Sw=function(b,c){var d=Fe(c);this.kj.ct[b]=d;a:{var e=this.kj,d=e.ct;if(d.length==e.rg.length){for(e=0;e<d.length;e++)if(d[e]==k){d=m;break a}d=j}else d=m}d&&(this.Aa.info("All uris loaded."),this.dispatchEvent("success"));c.C()};t.Hw=function(b,c){this.dispatchEvent("error");c.C()};
t.p=function(){He.m.p.call(this);this.N.C();this.N=k;this.kj.C();this.kj=k};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
a.Ie=function(b,c){this.dn=[];this.XB=b;this.GC=c||k};t=Ie.prototype;t.Jh=m;t.Hn=m;t.Lo=0;t.Qz=m;t.tK=m;t.Ou=0;t.cancel=function(b){if(this.Jh)this.To instanceof Ie&&this.To.cancel();else{if(this.Ta){var c=this.Ta;delete this.Ta;b?c.cancel(b):(c.Ou--,0>=c.Ou&&c.cancel())}this.XB?this.XB.call(this.GC,this):this.Qz=j;this.Jh||Je(this,new Ke(this))}};t.nC=function(b,c){Le(this,b,c);this.Lo--;0==this.Lo&&this.Jh&&Me(this)};a.Le=function(b,c,d){b.Jh=j;b.To=d;b.Hn=!c;Me(b)};
t.xh=function(){this.Jh&&(this.Qz||f(new Ne(this)),this.Qz=m)};t.Nk=function(b){this.xh();Le(this,j,b)};
a.Je=function(b,c){b.xh();Le(b,m,c)},a.Oe=function(b){return z.some(b.dn,function(b){return qa(b[1])})},a.Me=function(b){b.wA&&(b.Jh&&Oe(b))&&(fa.clearTimeout(b.wA),delete b.wA);b.Ta&&(b.Ta.Ou--,delete b.Ta);for(var c=b.To,d=m,e=m;b.dn.length&&0==b.Lo;){var g=b.dn.shift(),h=g[0],l=g[1],g=g[2];if(h=b.Hn?l:h)try{var n=h.call(g||b.GC,c);ka(n)&&(b.Hn=b.Hn&&(n==c||n instanceof Error),b.To=c=n);c instanceof Ie&&(e=j,b.Lo++)}catch(q){c=q,b.Hn=j,Oe(b)||(d=j)}}b.To=c;e&&b.Lo&&(e=c,n=v(b.nC,b,j),h=v(b.nC,b,
m),e.dn.push([n,h,i]),e.Jh&&Me(e),c.tK=j);d&&(b.wA=fa.setTimeout(function(){f(c)},0))},a.Ne=function(b){Da.call(this);this.deferred=b};y(Ne,Da);Ne.prototype.message="Deferred has already fired";Ne.prototype.name="AlreadyCalledError";a.Ke=function(b){Da.call(this);this.deferred=b};y(Ke,Da);Ke.prototype.message="Deferred was cancelled";Ke.prototype.name="CancelledError";a.Pe=[],a.Re=function(){if(this&&this.XG){var b=this.XG;b&&"SCRIPT"==b.tagName&&Qe(b,j,this.Et)}},a.Qe=function(b,c,d){d!=k&&fa.clearTimeout(d);b.onload=ha;b.onerror=ha;b.onreadystatechange=ha;c&&window.setTimeout(function(){L(b)},0)},a.Se=function(b,c){var d="Jsloader error (code #"+b+")";c&&(d+=": "+c);Da.call(this,d);this.code=b};y(Se,Da);a.Te=function(){M.call(this);this.N=new le(this);this.Xg={}};y(Te,Fd);t=Te.prototype;t.Nb=ke("goog.module.ModuleLoader");t.FC=m;t.dT=m;
t.bP=function(b,c,d,e){var g=this.Xg[b]||new Ue;g.$E=j;g.dA=d||k;g.Mv=e||k;if(this.Xg[b])g.kz!=k&&Ve(this,b);else{this.Xg[b]=g;d=[];for(e=0;e<b.length;e++)z.extend(d,c[b[e]].uw());this.Nb.info("downloadModules ids:"+b+" uris:"+d);if(this.FC){var h=d;if(h.length&&(b=Pe.length,z.extend(Pe,h),!b)){var h=Pe,l=function(){var b=h.shift(),c={},d=c.document||document,e=document.createElement("SCRIPT"),g={XG:e,Et:i},G=new Ie(Re,g),I=k,Q=c.timeout!=k?c.timeout:5E3;0<Q&&(I=window.setTimeout(function(){Qe(e,
j);Je(G,new Se(1,"Timeout reached for loading script "+b))},Q),g.Et=I);e.onload=e.onreadystatechange=function(){if(!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)Qe(e,c.oX||m,I),G.Nk(k)};e.onerror=function(){Qe(e,j,I);Je(G,new Se(0,"Error while loading script "+b))};Xb(e,{type:"text/javascript",charset:"UTF-8",src:b});g=d.getElementsByTagName("HEAD");(!g||z.Hb(g)?d.documentElement:g[0]).appendChild(e);h.length&&(G.dn.push([l,l,i]),G.Jh&&Me(G))};l()}}else this.Xg[b].OG=d,c=new He(d),
d=this.N,d.c(c,"success",v(this.Sw,this,c,b),m,k),d.c(c,"error",v(this.Hw,this,c,b),m,k),c.load()}};a.Ve=function(b,c){b.dispatchEvent(new We(Xe,c));b.Nb.info("evaluateCode ids:"+c);var d=j,e=b.Xg[c],g=e.OG,h=e.kz;try{if(b.dT)for(var l=0;l<g.length;l++)Ba(h[l]+" //@ sourceURL="+g[l]);else Ba(h.join("\n"))}catch(n){d=m,b.Nb.rk("Loaded incomplete code for module(s): "+c,n)}b.dispatchEvent(new We(Ye,c));d?e.dA&&e.dA():Ze(b,c,e.Mv,k);delete b.Xg[c]};
t.Sw=function(b,c){this.Nb.info("Code loaded for module(s): "+c);var d=this.Xg[c];d.kz=b.qw();d.$E&&Ve(this,c);Jd(b.C,5,b)};t.Hw=function(b,c,d){var e=this.Xg[c];e&&(delete this.Xg[c],Ze(this,c,e.Mv,d));Jd(b.C,5,b)};a.Ze=function(b,c,d,e){b.dispatchEvent(new We($e,c));b.Nb.rk("Request failed for module(s): "+c);d&&d(e)};t.p=function(){Te.m.p.call(this);this.N.C();this.N=k};a.Ye=Ed("evaluateCode"),a.Xe=Ed("requestSuccess"),a.$e=Ed("requestError"),a.We=function(b,c){gd.call(this,b);this.uY=c};
y(We,gd);a.Ue=function(){this.kz=this.OG=k;this.$E=m;this.Mv=this.dA=k};a.af=function(b,c){M.call(this);this.fF=c;this.Ig=[];b>this.fF&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var d=0;d<b;d++)this.Ig.push(this.Sk())};y(af,M);t=af.prototype;t.oC=k;t.PC=k;a.bf=function(b,c){b.Ig.length<b.fF?b.Ig.push(c):b.Av(c)};t.Sk=function(){return this.oC?this.oC():{}};t.Av=function(b){if(this.PC)this.PC(b);else if(ra(b))if(qa(b.C))b.C();else for(var c in b)delete b[c]};
t.p=function(){af.m.p.call(this);for(var b=this.Ig;b.length;)this.Av(b.pop());delete this.Ig};a.ef=function(){this.Qf=[];this.Hy=new Md;this.Lt=this.MH=this.NH=this.zH=0;this.gk=new Md;this.dv=this.LH=0;this.my=1;this.el=new af(0,4E3);this.el.Sk=function(){return new cf};this.rp=new af(0,50);this.rp.Sk=function(){return new df};var b=this;this.Zw=new af(0,2E3);this.Zw.Sk=function(){return String(b.my++)};this.Zw.Av=ba();this.qL=3};ef.prototype.Aa=ke("goog.debug.Trace");a.df=function(){this.DA=this.time=this.count=0};
df.prototype.toString=function(){var b=[];b.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.DA&&b.push(" [VarAlloc = ",this.DA,"]");return b.join("")};a.cf=function(){},a.hf=function(b,c,d,e){var g=[];-1==d?g.push("    "):g.push(ff(b.br-d));g.push(" ",gf(b.br-c));0==b.cr?g.push(" Start        "):1==b.cr?(g.push(" Done "),g.push(ff(b.dZ-b.startTime)," ms ")):g.push(" Comment      ");g.push(e,b);0<b.KH&&g.push("[VarAlloc ",b.KH,"] ");return g.join("")};
cf.prototype.toString=function(){return this.type==k?this.fC:"["+this.type+"] "+this.fC};ef.prototype.reset=function(b){this.qL=b;for(b=0;b<this.Qf.length;b++){var c=this.el.id;c&&bf(this.Zw,c);bf(this.el,this.Qf[b])}this.Qf.length=0;this.Hy.clear();this.zH=za();this.dv=this.LH=this.Lt=this.MH=this.NH=0;c=this.gk.Eb();for(b=0;b<c.length;b++){var d=this.gk.get(c[b]);d.count=0;d.time=0;d.DA=0;bf(this.rp,d)}this.gk.clear()};ef.prototype.Yp=u(15);
ef.prototype.toString=function(){for(var b=[],c=-1,d=[],e=0;e<this.Qf.length;e++){var g=this.Qf[e];1==g.cr&&d.pop();b.push(" ",hf(g,this.zH,c,d.join("")));c=g.br;b.push("\n");0==g.cr&&d.push("|  ")}if(0!=this.Hy.cb()){var h=za();b.push(" Unstopped timers:\n");O.forEach(this.Hy,function(c){b.push("  ",c," (",h-c.startTime," ms, started at ",gf(c.startTime),")\n")})}c=this.gk.Eb();for(e=0;e<c.length;e++)d=this.gk.get(c[e]),1<d.count&&b.push(" TOTAL ",d,"\n");b.push("Total tracers created ",this.LH,
"\n","Total comments created ",this.dv,"\n","Overhead start: ",this.NH," ms\n","Overhead end: ",this.MH," ms\n","Overhead comment: ",this.Lt," ms\n");return b.join("")};a.ff=function(b){var b=Math.round(b),c="";1E3>b&&(c=" ");100>b&&(c="  ");10>b&&(c="   ");return c+b},a.gf=function(b){b=Math.round(b);return String(100+b/1E3%60).substring(1,3)+"."+String(1E3+b%1E3).substring(1,4)};new ef;a.jf=function(b){return function(){return b}},a.kf=jf(m),a.lf=jf(j),a.mf=function(b){return b},a.nf=function(b,c){var d=arguments,e=d.length;return function(){var b;e&&(b=d[e-1].apply(this,arguments));for(var c=e-2;0<=c;c--)b=d[c].call(this,b);return b}},a.of=function(b){return function(){return!b.apply(this,arguments)}};a.pf=function(){M.call(this)};y(pf,M);a.qf=function(b,c){this.ir=b;this.ga=c};qf.prototype.execute=function(b){this.ir&&(this.ir.call(this.ga||k,b),this.ir=this.ga=k)};qf.prototype.abort=function(){this.ga=this.ir=k};a.rf=function(b,c){M.call(this);this.IC=b;this.Bd=c;this.Dy=[];this.sy=[];this.VC=[]};y(rf,M);t=rf.prototype;t.rg=k;t.zP=pf;t.hy=k;t.Wd=p("Bd");t.uw=function(){var b=[];return jQuery.support.cors?this.rg:la(this.rg)?(z.forEach(this.rg,function(c){b.push(sf(new tf(c)))}),b):sf(new tf(this.rg))};t.Us=function(b,c){return this.Vs(this.Dy,b,c)};t.Vs=function(b,c,d){c=new qf(c,d);b.push(c);return c};t.Zd=function(){return!!this.hy};
t.Ho=function(b){var c=new this.zP;b();this.hy=c;c=(c=!!uf(this.VC,b()))||!!uf(this.Dy,b());c||(this.sy.length=0);return c};t.Zh=function(b){if(b=uf(this.sy,b)){var c="Module errback failures: "+b;window.setTimeout(function(){f(Error(c))},0)}this.VC.length=0;this.Dy.length=0};a.uf=function(b,c){for(var d=[],e=0;e<b.length;e++)try{b[e].execute(c)}catch(g){d.push(g)}b.length=0;return d.length?d:k};t.p=function(){rf.m.p.call(this);Tc(this.hy)};a.vf=function(){M.call(this);this.ld={};this.mf=[];this.Wj=[];this.pd=[];this.ri=[];this.sq={};this.AC=this.lq=new rf([],"")};y(vf,M);ia(vf);t=vf.prototype;t.Aa=ke("goog.module.ModuleManager");t.LB=m;t.Wx=k;t.Bq=0;t.KE=m;t.eI=m;t.sF=k;t.AD=p("sF");t.Gb=function(){return 0<this.mf.length};
a.xf=function(b){var c=b.Gb();c!=b.KE&&(wf(b,c?"active":"idle"),b.KE=c);c=0<b.ri.length;c!=b.eI&&(wf(b,c?"userActive":"userIdle"),b.eI=c)},a.zf=function(b,c,d,e,g){d.Us(g.Nk,g);d.Vs(d.sy,function(b){Je(g,Error(b))},i);yf(b,c)?e&&(b.Aa.info("User initiated module already loading: "+c),z.contains(b.ri,c)||b.ri.push(c),xf(b)):e?(b.Aa.info("User initiated module load: "+c),z.contains(b.ri,c)||b.ri.push(c)):b.Aa.info("Initiating module load: "+c)},a.Bf=function(b,c){z.Hb(b.mf)?Af(b,c):(b.pd.push(c),xf(b))},
a.Af=function(b,c,d,e){d||(b.Bq=0);for(var g=0;g<c.length;g++)b.ld[c[g]].Zd()&&f(Error("Module already loaded: "+c[g]));d=[];for(g=0;g<c.length;g++)d=d.concat(Cf(b,c[g]));z.fz(d);!b.LB&&1<d.length&&(g=d.shift(),b.Aa.info("Must load "+g+" module before "+c),b.pd=z.map(d,function(b){return[b]}).concat(b.pd),d=[g]);b.Aa.info("Loading module(s): "+d);b.mf=d;b.Wj=b.LB?c:z.clone(d);xf(b);c=v(b.Wx.bP,b.Wx,z.clone(d),b.ld,k,v(b.bN,b),v(b.cN,b),!!e);(b=5E3*Math.pow(b.Bq,2))?window.setTimeout(c,b):c()},a.Cf=
function(b,c){for(var d=[c],e=z.clone(b.ld[c].IC);e.length;){var g=e.pop();b.ld[g].Zd()||(d.unshift(g),Array.prototype.unshift.apply(e,b.ld[g].IC))}z.fz(d);return d},a.Gf=function(b){var c=vf.D();c.Mf?c.Aa.rk("Module loaded after module manager was disposed: "+b):(c.Aa.info("Module loaded: "+b),c.ld[b].Ho(v(c.AD,c))&&Df(c,Ef),z.remove(c.ri,b),z.remove(c.mf,b),z.Hb(c.mf)&&Ff(c),xf(c))},a.yf=function(b,c){if(z.contains(b.mf,c))return j;for(var d=0;d<b.pd.length;d++)if(z.contains(b.pd[d],c))return j;
return m};t.load=function(b,c){var d=[];z.fz([b],d);for(var e=[],g={},h=0;h<d.length;h++){var l=d[h],n=this.ld[l],q=new Ie;g[l]=q;n.Zd()?q.Nk(this.sF):(zf(this,l,n,!!c,q),yf(this,l)||e.push(l))}0<e.length&&Bf(this,e);return g[b]};a.Ef=4;t=vf.prototype;
t.bN=function(b){this.Bq++;401==b?(this.Aa.info("Module loading unauthorized"),Df(this,0),this.pd.length=0):410==b?(Hf(this,3),Ff(this)):3<=this.Bq?(this.Aa.info("Aborting after failure to load: "+this.mf),Hf(this,1),Ff(this)):(this.Aa.info("Retrying after failure to load: "+this.mf),Af(this,this.Wj,j,8001==b))};t.cN=function(){this.Aa.info("Aborting after timeout: "+this.mf);Hf(this,2);Ff(this)};
a.Hf=function(b,c){1<b.Wj.length?b.pd=z.map(b.Wj,function(b){return[b]}).concat(b.pd):Df(b,c)},a.Df=function(b,c){var d=b.Wj;b.mf.length=0;for(var e=[],g=0;g<b.pd.length;g++){var h=z.filter(b.pd[g],function(b){var c=Cf(this,b);return z.some(d,function(b){return z.contains(c,b)})},b);z.extend(e,h)}for(g=0;g<d.length;g++)z.Rr(e,d[g]);for(g=0;g<e.length;g++){for(h=0;h<b.pd.length;h++)z.remove(b.pd[h],e[g]);z.remove(b.ri,e[g])}var l=b.sq.error;if(l)for(g=0;g<l.length;g++)for(var n=l[g],h=0;h<e.length;h++)n("error",
e[h],c);for(g=0;g<d.length;g++)b.ld[d[g]]&&b.ld[d[g]].Zh(c);b.Wj.length=0;xf(b)},a.Ff=function(b){for(;b.pd.length;){var c=z.filter(b.pd.shift(),function(b){return!this.ld[b].Zd()},b);if(0<c.length){Af(b,c);return}}xf(b)};t.Us=function(b,c){la(b)||(b=[b]);for(var d=0;d<b.length;d++)this.Vs(b[d],c)};t.Vs=function(b,c){var d=this.sq;d[b]||(d[b]=[]);d[b].push(c)};a.wf=function(b,c){for(var d=b.sq[c],e=0;d&&e<d.length;e++)d[e](c)};
t.p=function(){vf.m.p.call(this);Sc(F.Fa(this.ld),this.lq);this.sq=this.pd=this.ri=this.Wj=this.mf=this.ld=k};a.If=function(b){this.Ca=b},a.Jf=/\s*;\s*/;t=If.prototype;t.isEnabled=function(){return navigator.cookieEnabled};t.set=function(b,c,d,e,g,h){/[;=\s]/.test(b)&&f(Error('Invalid cookie name "'+b+'"'));/[;\r\n]/.test(c)&&f(Error('Invalid cookie value "'+c+'"'));ka(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";h=h?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(za()+1E3*d)).toUTCString();this.Ca.cookie=b+"="+c+g+e+d+h};
t.get=function(b,c){for(var d=b+"=",e=(this.Ca.cookie||"").split(Jf),g=0,h;h=e[g];g++){if(0==h.lastIndexOf(d,0))return h.substr(d.length);if(h==b)return""}return c};t.remove=function(b,c,d){var e=this.Md(b);this.set(b,"",0,c,d);return e};t.Eb=function(){return Kf(this).keys};t.Fa=function(){return Kf(this).fI};t.Hb=function(){return!this.Ca.cookie};t.cb=function(){return!this.Ca.cookie?0:(this.Ca.cookie||"").split(Jf).length};t.Md=function(b){return ka(this.get(b))};
t.Bg=function(b){for(var c=Kf(this).fI,d=0;d<c.length;d++)if(c[d]==b)return j;return m};t.clear=function(){for(var b=Kf(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};a.Kf=function(b){for(var b=(b.Ca.cookie||"").split(Jf),c=[],d=[],e,g,h=0;g=b[h];h++)e=g.indexOf("="),-1==e?(c.push(""),d.push(g)):(c.push(g.substring(0,e)),d.push(g.substring(e+1)));return{keys:c,fI:d}},a.Lf=new If(document);Lf.KV=3950;a.Mf=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};Mf.prototype.clone=function(){return new Mf(this.top,this.right,this.bottom,this.left)};Mf.prototype.contains=function(b){return!this||!b?m:b instanceof Mf?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom};Mf.prototype.expand=u(64);
a.Nf=function(b,c){var d=c.x<b.left?c.x-b.left:c.x>b.right?c.x-b.right:0,e=c.y<b.top?c.y-b.top:c.y>b.bottom?c.y-b.bottom:0;return Math.sqrt(d*d+e*e)};a.Of=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};Of.prototype.clone=function(){return new Of(this.left,this.top,this.width,this.height)};a.Pf=function(b){return new Mf(b.top,b.left+b.width,b.top+b.height,b.left)};
Of.prototype.uE=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top),b=Math.min(this.top+this.height,b.top+b.height);if(e<=b)return this.left=c,this.top=e,this.width=d-c,this.height=b-e,j}return m};
Of.prototype.contains=function(b){return b instanceof Of?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};Of.prototype.rl=function(){return new Ob(this.width,this.height)};a.Rf=function(b,c,d){oa(c)?Qf(b,d,c):F.forEach(c,xa(Qf,b))},a.Qf=function(b,c,d){(d=Sf(b,d))&&(b.style[d]=c)},a.Sf=function(b,c){var d=eb(c);if(b.style[d]===i){var e=C?"Webkit":B?"Moz":A?"ms":rb?"O":k,g;g=oa(i)?$a(i):"\\s";g=c.replace(RegExp("(^"+(g?"|["+g+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()});e+=g;if(b.style[e]!==i)return e}return d},a.Tf=function(b,c){var d=Rb(b);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,k))?d[c]||d.getPropertyValue(c)||
"":""},a.Uf=function(b,c){return b.currentStyle?b.currentStyle[c]:k},a.Vf=function(b,c){return Tf(b,c)||Uf(b,c)||b.style&&b.style[c]},a.Wf=function(b){return Vf(b,"position")},a.Yf=function(b,c,d){var e,g=B&&(kb||vb)&&Eb("1.9");c instanceof Mb?(e=c.x,c=c.y):(e=c,c=d);b.style.left=Xf(e,g);b.style.top=Xf(c,g)},a.Zf=function(b){b=b?Rb(b):document;return A&&!Gb(9)&&!Kc(Sb(b))?b.body:b.documentElement},a.$f=function(b){var c=b.getBoundingClientRect();A&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+
b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c},a.ag=function(b){if(A&&!Gb(8))return b.offsetParent;for(var c=Rb(b),d=Vf(b,"position"),e="fixed"==d||"absolute"==d,b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=Vf(b,"position"),e=e&&"static"==d&&b!=c.documentElement&&b!=c.body,!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return b;return k},a.dg=function(b){for(var c=new Mf(0,Infinity,Infinity,0),d=Sb(b),e=d.za().body,
g=d.za().documentElement,h=Zb(d.Ca);b=ag(b);)if((!A||0!=b.clientWidth)&&(!C||0!=b.clientHeight||b!=e)&&b!=e&&b!=g&&"visible"!=Vf(b,"overflow")){var l=bg(b),n;n=b;if(B&&!Eb("1.9")){var q=parseFloat(Tf(n,"borderLeftWidth"));if(cg(n))var r=n.offsetWidth-n.clientWidth-q-parseFloat(Tf(n,"borderRightWidth")),q=q+r;n=new Mb(q,parseFloat(Tf(n,"borderTopWidth")))}else n=new Mb(n.clientLeft,n.clientTop);l.x+=n.x;l.y+=n.y;c.top=Math.max(c.top,l.y);c.right=Math.min(c.right,l.x+b.clientWidth);c.bottom=Math.min(c.bottom,
l.y+b.clientHeight);c.left=Math.max(c.left,l.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=Yb(d.Pa());c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:k},a.fg=function(b,c){var d,e=bg(b),g=bg(c),h=eg(c);d=e.x-g.x-h.left;var e=e.y-g.y-h.top,g=c.clientHeight-b.offsetHeight,h=c.scrollLeft,l=c.scrollTop,h=h+Math.min(d,Math.max(d-(c.clientWidth-b.offsetWidth),0)),l=l+Math.min(e,
Math.max(e-g,0));d=new Mb(h,l);c.scrollLeft=d.x;c.scrollTop=d.y},a.bg=function(b){var c,d=Rb(b),e=Vf(b,"position"),g=B&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),h=new Mb(0,0),l=Zf(d);if(b==l)return h;if(b.getBoundingClientRect)c=$f(b),b=Lc(Sb(d)),h.x=c.left+b.x,h.y=c.top+b.y;else if(d.getBoxObjectFor&&!g)c=d.getBoxObjectFor(b),b=d.getBoxObjectFor(l),h.x=c.screenX-b.screenX,h.y=c.screenY-b.screenY;else{c=b;do{h.x+=c.offsetLeft;
h.y+=c.offsetTop;c!=b&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(C&&"fixed"==Wf(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(rb||C&&"absolute"==e)h.y-=d.body.offsetTop;for(c=b;(c=ag(c))&&c!=d.body&&c!=l;)if(h.x-=c.scrollLeft,!rb||"TR"!=c.tagName)h.y-=c.scrollTop}return h},a.hg=function(b,c){var d=gg(b),e=gg(c);return new Mb(d.x-e.x,d.y-e.y)},a.gg=function(b){var c=new Mb;if(1==b.nodeType){if(b.getBoundingClientRect){var d=$f(b);c.x=d.left;c.y=d.top}else{var d=
Lc(Sb(b)),e=bg(b);c.x=e.x-d.x;c.y=e.y-d.y}if(B&&!Eb(12)){var g;A?g="-ms-transform":C?g="-webkit-transform":rb?g="-o-transform":B&&(g="-moz-transform");var h;g&&(h=Vf(b,g));h||(h=Vf(b,"transform"));h?(b=h.match(ig),b=!b?new Mb(0,0):new Mb(parseFloat(b[1]),parseFloat(b[2]))):b=new Mb(0,0);c=new Mb(c.x+b.x,c.y+b.y)}}else g=qa(b.tD),h=b,b.targetTouches?h=b.targetTouches[0]:g&&b.Ub.targetTouches&&(h=b.Ub.targetTouches[0]),c.x=h.clientX,c.y=h.clientY;return c},a.jg=function(b,c,d){var e=bg(b);c instanceof
Mb&&(d=c.y,c=c.x);Yf(b,b.offsetLeft+(c-e.x),b.offsetTop+(d-e.y))},a.kg=function(b,c,d){c instanceof Ob?(d=c.height,c=c.width):d==i&&f(Error("missing height argument"));b.style.width=Xf(c,j);b.style.height=Xf(d,j)},a.Xf=function(b,c){"number"==typeof b&&(b=(c?Math.round(b):b)+"px");return b},a.mg=function(b){if("none"!=Vf(b,"display"))return lg(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=lg(b);c.display=d;c.position=g;c.visibility=
e;return b},a.lg=function(b){var c=b.offsetWidth,d=b.offsetHeight,e=C&&!c&&!d;return(!ka(c)||e)&&b.getBoundingClientRect?(b=$f(b),new Ob(b.right-b.left,b.bottom-b.top)):new Ob(c,d)},a.ng=function(b){var c=bg(b),b=mg(b);return new Of(c.x,c.y,b.width,b.height)},a.og=function(b,c){var d=b.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")},a.R=function(b,c){b.style.display=c?"":"none"},a.pg=function(b){return"none"!=b.style.display},
a.cg=function(b){return"rtl"==Vf(b,"direction")},a.qg=B?"MozUserSelect":C?"WebkitUserSelect":k,a.rg=function(b,c,d){d=!d?b.getElementsByTagName("*"):k;if(qg){if(c=c?"none":"",b.style[qg]=c,d)for(var b=0,e;e=d[b];b++)e.style[qg]=c}else if(A||rb)if(c=c?"on":"",b.setAttribute("unselectable",c),d)for(b=0;e=d[b];b++)e.setAttribute("unselectable",c)},a.sg=function(b){return new Ob(b.offsetWidth,b.offsetHeight)},a.tg=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var g=b.style[d],h=b.runtimeStyle[d];
b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=g;b.runtimeStyle[d]=h;return c},a.ug=function(b,c){var d=Uf(b,c);return d?tg(b,d,"left","pixelLeft"):0},a.vg=function(b){if(A){var c=ug(b,"paddingLeft"),d=ug(b,"paddingRight"),e=ug(b,"paddingTop"),b=ug(b,"paddingBottom");return new Mf(e,d,b,c)}c=Tf(b,"paddingLeft");d=Tf(b,"paddingRight");e=Tf(b,"paddingTop");b=Tf(b,"paddingBottom");return new Mf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.wg={thin:2,medium:4,
thick:6},a.xg=function(b,c){if("none"==Uf(b,c+"Style"))return 0;var d=Uf(b,c+"Width");return d in wg?wg[d]:tg(b,d,"left","pixelLeft")},a.eg=function(b){if(A){var c=xg(b,"borderLeft"),d=xg(b,"borderRight"),e=xg(b,"borderTop"),b=xg(b,"borderBottom");return new Mf(e,d,b,c)}c=Tf(b,"borderLeftWidth");d=Tf(b,"borderRightWidth");e=Tf(b,"borderTopWidth");b=Tf(b,"borderBottomWidth");return new Mf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.ig=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;a.yg="/update",a.zg=m;a.Ag=void 0,a.S=void 0,a.Bg=void 0,a.Cg=void 0,a.Dg=void 0,a.Eg=void 0,a.Fg=void 0,a.Gg=void 0,a.Hg=void 0,a.Ig=void 0,a.Jg=void 0,a.Kg=void 0,a.Lg=void 0,a.Mg=void 0,a.Ng=void 0,a.Og=void 0,a.Pg=void 0,a.Qg={},a.Rg={};
z.forEach(window.DZMT,function(b){var c=b[1];switch(b[0]){case "form_key":Ag=c;break;case "current_user":S=c;S.ew=c[0];S.Ma=function(){return"-1"!==S[3]};S.Cj=c[3];S.Ld=1===c[7];S.$q=c[8];S.qo=c[9];S.Xw=c[10];S.ly=c[11];break;case "env":Bg={em:c[0],av:c[1],vc:c[2],xE:c[3],cZ:"http://static."+c[0],GE:m,fZ:j};break;case "env_comet_path":Bg.av=c;break;case "current_question":Cg={V:c[0],fq:c[1],yq:c[2],RT:c[3],qX:c[4],Nm:c[5],jb:c[6],co:c[7],eY:c[8],hZ:c[9],AX:c[10],Ac:c[11],oT:c[12],Qs:c[13],$W:c[14],
status:c[15]};break;case "bio":Dg=c;break;case "current_topic":Eg=c;break;case "current_people":Fg=c;Fg.ew=c[0];Fg.id=c[3];break;case "current_list":Gg=c;break;case "block_topic":Hg=c;break;case "draft":Ig=c.length?c:k;break;case "editing_queue":Jg=c;break;case "sina_bind_info":c.length&&(Qg.id=c[0],Qg.name=c[1]);break;case "qq_bind_info":c.length&&(Rg.id=c[0],Rg.name=c[1]);break;case "disabled_components":Kg=c;break;case "comet_path":yg=c;break;case "enforce_realname":Lg=c;break;case "action_ban":Mg=
c;break;case "admin_reasons":Ng=c;break;case "permissions":Og=c,Pg=function(b){return z.contains(Og,b)}}});window.DZMT=k;Cg&&(Cg.DE=m);Kg||(Kg=[]);navigator.userAgent.match(/iPad/i)&&(Bg.GE=j,Bg.vc=j);Bg.em&&(document.domain=Bg.em);Bg.av&&(yg="http://"+Bg.av+yg);Bg.vc&&window.scrollTo(0,1);a.Tg=function(b,c,d,e,g){if(!A&&(!C||!Eb("525")))return j;if(kb&&g)return Sg(b);if(g&&!e||!d&&(17==c||18==c||kb&&91==c))return m;if(C&&e&&d)switch(b){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return m}if(A&&e&&c==b)return m;switch(b){case 13:return!(A&&Gb(9));case 27:return!C}return Sg(b)},a.Sg=function(b){if(48<=b&&57>=b||96<=b&&106>=b||65<=b&&90>=b||C&&0==b)return j;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return m}},a.Ug=function(b){switch(b){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return b}};a.Vg=function(b){var c=b.offsetLeft,d=b.offsetParent;!d&&"fixed"==Wf(b)&&(d=Rb(b).documentElement);if(!d)return c;if(B)var e=eg(d),c=c+e.left;else Gb(8)&&(e=eg(d),c-=e.left);return cg(d)?d.clientWidth-(c+b.offsetWidth):c};a.Wg=function(b,c,d){M.call(this);this.target=b;this.handle=c||b;this.hs=d||new Of(NaN,NaN,NaN,NaN);this.Ca=Rb(b);this.N=new le(this);N(this.handle,["touchstart","mousedown"],this.vm,m,this)};y(Wg,Fd);a.Xg=A||B&&Eb("1.9.3");t=Wg.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.vt=0;t.wt=0;t.Li=0;t.Mi=0;t.fc=j;t.Qi=m;t.Yw=0;t.AP=0;t.ZN=m;t.qi=m;t.Of=u(52);t.g=p("N");t.fH=function(b){this.Yw=Math.pow(b,2)};t.gb=ca("fc");
t.p=function(){Wg.m.p.call(this);wd(this.handle,["touchstart","mousedown"],this.vm,m,this);this.N.Lc();Xg&&this.Ca.releaseCapture();this.N=this.handle=this.target=k};a.Yg=function(b){ka(b.sf)||(b.sf=cg(b.target));return b.sf};
t.vm=function(b){var c="mousedown"==b.type;if(this.fc&&!this.Qi&&(!c||md(b))){Zg(b);if(0==this.Yw)if(this.dispatchEvent(new $g("start",this,b.clientX,b.clientY,b)))this.Qi=j,b.preventDefault();else return;else b.preventDefault();var c=this.Ca,d=c.documentElement,e=!Xg;this.N.c(c,["touchmove","mousemove"],this.fN,e);this.N.c(c,["touchend","mouseup"],this.ar,e);Xg?(d.setCapture(m),this.N.c(d,"losecapture",this.ar)):this.N.c(ac(c),"blur",this.ar);A&&this.ZN&&this.N.c(c,"dragstart",hd);this.yS&&this.N.c(this.yS,
"scroll",this.yy,e);this.clientX=this.vt=b.clientX;this.clientY=this.wt=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.Li=this.qi?Vg(this.target):this.target.offsetLeft;this.Mi=this.target.offsetTop;this.Ky=Lc(Sb(this.Ca));this.AP=za()}else this.dispatchEvent("earlycancel")};
t.ar=function(b,c){this.N.Lc();Xg&&this.Ca.releaseCapture();if(this.Qi){Zg(b);this.Qi=m;var d=ah(this,this.Li),e=bh(this,this.Mi);this.dispatchEvent(new $g("end",this,b.clientX,b.clientY,b,d,e,c||"touchcancel"==b.type))}else this.dispatchEvent("earlycancel");("touchend"==b.type||"touchcancel"==b.type)&&b.preventDefault()};a.Zg=function(b){var c=b.type;"touchstart"==c||"touchmove"==c?b.v(b.Ub.targetTouches[0],b.currentTarget):("touchend"==c||"touchcancel"==c)&&b.v(b.Ub.changedTouches[0],b.currentTarget)};
t.fN=function(b){if(this.fc){Zg(b);var c=(this.qi&&Yg(this)?-1:1)*(b.clientX-this.clientX),d=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.Qi){var e=this.vt-this.clientX,g=this.wt-this.clientY;if(e*e+g*g>this.Yw)if(this.dispatchEvent(new $g("start",this,b.clientX,b.clientY,b)))this.Qi=j;else{this.Mf||this.ar(b);return}}d=ch(this,c,d);c=d.x;d=d.y;this.Qi&&this.dispatchEvent(new $g("beforedrag",this,b.clientX,b.clientY,b,
c,d))&&(dh(this,b,c,d),b.preventDefault())}};a.ch=function(b,c,d){var e=Lc(Sb(b.Ca)),c=c+(e.x-b.Ky.x),d=d+(e.y-b.Ky.y);b.Ky=e;b.Li+=c;b.Mi+=d;c=ah(b,b.Li);b=bh(b,b.Mi);return new Mb(c,b)};t.yy=function(b){var c=ch(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;dh(this,b,c.x,c.y)};
a.dh=function(b,c,d,e){b.sv(d,e);b.dispatchEvent(new $g("drag",b,c.clientX,c.clientY,c,d,e))},a.ah=function(b,c){var d=b.hs,e=!isNaN(d.left)?d.left:k,d=!isNaN(d.width)?d.width:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))},a.bh=function(b,c){var d=b.hs,e=!isNaN(d.top)?d.top:k,d=!isNaN(d.height)?d.height:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))};
t.sv=function(b,c){this.qi&&Yg(this)?this.target.style.right=b+"px":this.target.style.left=b+"px";this.target.style.top=c+"px"};a.$g=function(b,c,d,e,g,h,l,n){gd.call(this,b);this.clientX=d;this.clientY=e;this.TB=g;this.left=ka(h)?h:c.Li;this.top=ka(l)?l:c.Mi;this.Xq=c;this.CX=!!n};y($g,gd);a.eh=function(b){M.call(this);this.e=b;b=A?"focusout":"blur";this.$O=N(this.e,A?"focusin":"focus",this,!A);this.aP=N(this.e,b,this,!A)};y(eh,Fd);eh.prototype.handleEvent=function(b){var c=new kd(b.Ub);c.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(c)};eh.prototype.p=function(){eh.m.p.call(this);yd(this.$O);yd(this.aP);delete this.e};a.fh=function(){};ia(fh);fh.prototype.my=0;a.gh=function(b){return":"+(b.my++).toString(36)};fh.D();a.T=function(b){M.call(this);this.ba=b||Sb();this.sf=hh};y(T,Fd);T.prototype.YN=fh.D();a.hh=k,a.ih=function(b,c){switch(b){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}f(Error("Invalid component state"))};t=T.prototype;t.Bd=k;t.xa=m;t.e=k;t.sf=k;t.gy=k;t.Ta=k;t.Tb=k;t.Xe=k;t.iI=m;
t.Wd=function(){return this.Bd||(this.Bd=gh(this.YN))};a.jh=function(b,c){b.Ta&&b.Ta.Xe&&(F.remove(b.Ta.Xe,b.Bd),F.add(b.Ta.Xe,c,b));b.Bd=c};t.h=p("e");t.Zi=function(b){return this.e?this.ba.Zi(b,this.e):k};t.g=function(){return this.sl||(this.sl=new le(this))};a.lh=function(b,c){b==c&&f(Error("Unable to set parent component"));c&&(b.Ta&&b.Bd&&kh(b.Ta,b.Bd)&&b.Ta!=c)&&f(Error("Unable to set parent component"));b.Ta=c;T.m.mt.call(b,c)};t.getParent=p("Ta");
t.mt=function(b){this.Ta&&this.Ta!=b&&f(Error("Method not supported"));T.m.mt.call(this,b)};t.H=p("ba");t.o=function(){this.e=this.ba.createElement("div")};t.W=function(b){this.Zs(b)};t.Zs=function(b,c){this.xa&&f(Error("Component already rendered"));this.e||this.o();b?b.insertBefore(this.e,c||k):this.ba.za().body.appendChild(this.e);(!this.Ta||this.Ta.xa)&&this.z()};
t.n=function(b){this.xa&&f(Error("Component already rendered"));if(b&&this.Qc(b)){this.iI=j;if(!this.ba||this.ba.za()!=Rb(b))this.ba=Sb(b);this.ea(b);this.z()}else f(Error("Invalid element to decorate"))};t.Qc=s(j);t.ea=ca("e");t.z=function(){this.xa=j;mh(this,function(b){!b.xa&&b.h()&&b.z()})};t.ib=function(){mh(this,function(b){b.xa&&b.ib()});this.sl&&this.sl.Lc();this.xa=m};
t.p=function(){T.m.p.call(this);this.xa&&this.ib();this.sl&&(this.sl.C(),delete this.sl);mh(this,function(b){b.C()});!this.iI&&this.e&&L(this.e);this.Ta=this.gy=this.e=this.Xe=this.Tb=k};t.M=function(b,c){this.Bk(b,nh(this),c)};
t.Bk=function(b,c,d){b.xa&&(d||!this.xa)&&f(Error("Component already rendered"));(0>c||c>nh(this))&&f(Error("Child component index out of bounds"));if(!this.Xe||!this.Tb)this.Xe={},this.Tb=[];b.getParent()==this?(F.set(this.Xe,b.Wd(),b),z.remove(this.Tb,b)):F.add(this.Xe,b.Wd(),b);lh(b,this);z.Wn(this.Tb,b,c);b.xa&&this.xa&&b.getParent()==this?(d=this.Y(),d.insertBefore(b.h(),d.childNodes[c]||k)):d?(this.e||this.o(),c=oh(this,c+1),b.Zs(this.Y(),c?c.e:k)):this.xa&&(!b.xa&&b.e&&b.e.parentNode&&1==b.e.parentNode.nodeType)&&
b.z()};t.Y=p("e");t.Dd=function(){this.sf==k&&(this.sf=cg(this.xa?this.e:this.ba.za().body));return this.sf};t.gi=function(b){this.xa&&f(Error("Component already rendered"));this.sf=b};a.nh=function(b){return b.Tb?b.Tb.length:0},a.kh=function(b,c){return b.Xe&&c?F.get(b.Xe,c)||k:k},a.oh=function(b,c){return b.Tb?b.Tb[c]||k:k},a.mh=function(b,c,d){b.Tb&&z.forEach(b.Tb,c,d)};
t.removeChild=function(b,c){if(b){var d=oa(b)?b:b.Wd(),b=kh(this,d);d&&b&&(F.remove(this.Xe,d),z.remove(this.Tb,b),c&&(b.ib(),b.e&&L(b.e)),lh(b,k))}b||f(Error("Child is not in parent component"));return b};t.Ws=function(b){for(var c=[];this.Tb&&0!=this.Tb.length;)c.push(this.removeChild(oh(this,0),b));return c};a.ph=function(b,c){M.call(this);this.ga=new le(this);this.dh(b||k);c&&(this.ni=c)};y(ph,Fd);t=ph.prototype;t.e=k;t.Kk=j;t.HB=k;t.wj=m;t.PS=m;t.Nx=-1;t.Lx=-1;t.$D=m;t.KL=j;t.ni="toggle_display";t.Oh=p("ni");t.h=p("e");t.dh=function(b){qh(this);this.e=b};t.Zo=u(62);a.qh=function(b){b.wj&&f(Error("Can not change this state of the popup while showing."))};t.Q=p("wj");t.Dx=u(55);t.w=function(b){this.kp&&this.kp.stop();this.Pn&&this.Pn.stop();b?this.lp():this.yl()};t.na=ha;
t.lp=function(){if(!this.wj&&this.zo()){this.e||f(Error("Caller must call setElement before trying to show the popup"));this.na();var b=Rb(this.e);this.$D&&this.ga.c(b,"keydown",this.eQ,j);if(this.Kk)if(this.ga.c(b,"mousedown",this.NF,j),A){var c;try{c=b.activeElement}catch(d){}for(;c&&"IFRAME"==c.nodeName;){try{var e=c.contentDocument||c.contentWindow.document}catch(g){break}b=e;c=b.activeElement}this.ga.c(b,"mousedown",this.NF,j);this.ga.c(b,"deactivate",this.LF)}else this.ga.c(b,"blur",this.LF);
"toggle_display"==this.ni?(this.e.style.visibility="visible",R(this.e,j)):"move_offscreen"==this.ni&&this.na();this.wj=j;this.kp?(vd(this.kp,"end",this.Bs,m,this),this.kp.play()):this.Bs()}};t.yl=function(b){if(!this.wj||!this.dispatchEvent({type:"beforehide",target:b}))return m;this.ga&&this.ga.Lc();this.wj=m;this.Lx=za();this.Pn?(vd(this.Pn,"end",xa(this.mC,b),m,this),this.Pn.play()):this.mC(b);return j};
t.mC=function(b){"toggle_display"==this.ni?this.PS?Jd(this.aE,0,this):this.aE():"move_offscreen"==this.ni&&(this.e.style.top="-10000px");this.Hj(b)};t.aE=function(){this.e.style.visibility="hidden";R(this.e,m)};t.zo=function(){return this.dispatchEvent("beforeshow")};t.Bs=function(){this.Nx=za();this.Lx=-1;this.dispatchEvent("show")};t.Hj=function(b){this.dispatchEvent({type:"hide",target:b})};t.NF=function(b){b=b.target;!sc(this.e,b)&&((!this.HB||sc(this.HB,b))&&!(150>za()-this.Nx))&&this.yl(b)};
t.eQ=function(b){27==b.keyCode&&this.yl(b.target)&&(b.preventDefault(),b.stopPropagation())};t.LF=function(b){if(this.KL){var c=Rb(this.e);if(A||rb){if(b=c.activeElement,!b||sc(this.e,b)||"BODY"==b.tagName)return}else if(b.target!=c)return;150>za()-this.Nx||this.yl()}};t.p=function(){ph.m.p.call(this);this.ga.C();Tc(this.kp);Tc(this.Pn);delete this.e;delete this.ga};a.rh=function(b,c){T.call(this,c);this.hU=!!b};y(rh,T);t=rh.prototype;t.Yv=k;t.lb=m;t.Pc=k;t.Cc=k;t.zf=k;t.K=s("goog-modalpopup");t.kr=p("Pc");t.o=function(){rh.m.o.call(this);var b=this.h();D.add(b,this.K());Dc(b,j);R(b,m);this.Zx();sh(this)};
t.Zx=function(){this.hU&&!this.Cc&&(this.Cc=this.H().o("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.Cc.className=this.K()+"-bg",R(this.Cc,m),og(this.Cc,0));this.Pc||(this.Pc=this.H().o("div",this.K()+"-bg"),R(this.Pc,m))};a.sh=function(b){b.zf||(b.zf=b.H().createElement("span"),R(b.zf,m),Dc(b.zf,j),b.zf.style.position="absolute")};t.Qc=function(b){return!!b&&"DIV"==b.tagName};
t.ea=function(b){rh.m.ea.call(this,b);D.add(this.h(),this.K());this.Zx();sh(this);R(this.h(),m)};t.z=function(){this.Cc&&jc(this.Cc,this.h());jc(this.Pc,this.h());rh.m.z.call(this);kc(this.zf,this.h());this.Yv=new eh(this.H().za());this.g().c(this.Yv,"focusin",this.jQ)};t.ib=function(){this.Q()&&this.w(m);Tc(this.Yv);rh.m.ib.call(this);L(this.Cc);L(this.Pc);L(this.zf)};
t.w=function(b){b!=this.lb&&(this.Vl&&this.Vl.stop(),this.Um&&this.Um.stop(),this.Ul&&this.Ul.stop(),this.Tm&&this.Tm.stop(),b?this.lp():this.yl())};t.lp=function(){this.dispatchEvent("beforeshow")&&(this.jz(),this.na(),this.g().c(this.H().Pa(),"resize",this.jz),th(this,j),this.focus(),this.lb=j,this.Vl&&this.Um?(vd(this.Vl,"end",this.$h,m,this),this.Um.play(),this.Vl.play()):this.$h())};
t.yl=function(){this.dispatchEvent("beforehide")&&(this.g().Ba(this.H().Pa(),"resize",this.jz),this.lb=m,this.Ul&&this.Tm?(vd(this.Ul,"end",this.As,m,this),this.Tm.play(),this.Ul.play()):this.As())};a.th=function(b,c){b.Cc&&R(b.Cc,c);b.Pc&&R(b.Pc,c);R(b.h(),c);R(b.zf,c)};t.$h=function(){this.dispatchEvent("show")};t.As=function(){th(this,m);this.dispatchEvent("hide")};t.Q=p("lb");t.focus=function(){this.lD()};
t.jz=function(){this.Cc&&R(this.Cc,m);this.Pc&&R(this.Pc,m);var b=this.H().za(),c=Yb(ac(b)||window),d=Math.max(c.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(c.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.Cc&&(R(this.Cc,j),kg(this.Cc,d,b));this.Pc&&(R(this.Pc,j),kg(this.Pc,d,b))};
t.na=function(){var b=this.H().za(),c=ac(b)||window;if("fixed"==Wf(this.h()))var d=b=0;else d=Lc(this.H()),b=d.x,d=d.y;var e=mg(this.h()),c=Yb(c),b=Math.max(b+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);Yf(this.h(),b,d);Yf(this.zf,b,d)};t.jQ=function(b){b.target==this.zf&&Jd(this.lD,0,this)};t.lD=function(){try{A&&this.H().za().body.focus(),this.h().focus()}catch(b){}};t.p=function(){Tc(this.Vl);this.Vl=k;Tc(this.Ul);this.Ul=k;Tc(this.Um);this.Um=k;Tc(this.Tm);this.Tm=k;rh.m.p.call(this)};a.uh=function(b,c,d){rh.call(this,c,d);this.Dc=b||"modal-dialog"};y(uh,rh);t=uh.prototype;t.PL=j;t.On=j;t.fy=j;t.UC=j;t.iq=0.5;t.Ht="";t.rc="";t.Cb=k;t.CL=m;t.Oc=k;t.ng=k;t.Gt=k;t.Df=k;t.we=k;t.cc=k;t.Oj=Vc.CI;t.K=p("Dc");t.Xa=function(b){this.Ht=b;this.ng&&xc(this.ng,b)};t.La=function(b){this.rc=b;this.we&&(this.we.innerHTML=b)};t.bb=p("rc");t.ep=u(19);a.vh=function(b){b.h()||b.W()};t.Y=function(){vh(this);return this.we};t.hw=function(){vh(this);return this.cc};a.wh=function(b){vh(b);return b.h()};
t.kr=function(){vh(this);return uh.m.kr.call(this)};a.xh=function(b,c){b.iq=c;if(b.h()){var d=b.kr();d&&og(d,b.iq)}},a.zh=function(b,c){c!=b.fy&&yh(b,c)},a.yh=function(b,c){b.fy=c;if(b.xa){var d=b.H(),e=b.kr(),g=b.Cc;c?(g&&d.Xn(g,b.h()),d.Xn(e,b.h())):(d.removeNode(g),d.removeNode(e))}},a.Ah=function(b,c){b.h()&&D.enable(b.Oc,b.Dc+"-title-draggable",c);c&&!b.Cb?(b.Cb=new Wg(b.h(),b.Oc),D.add(b.Oc,b.Dc+"-title-draggable"),N(b.Cb,"start",b.GS,m,b)):!c&&b.Cb&&(b.Cb.C(),b.Cb=k)};
t.o=function(){uh.m.o.call(this);var b=this.h(),c=this.H();this.Oc=c.o("div",{className:this.Dc+"-title",id:this.Wd()},this.ng=c.o("span",this.Dc+"-title-text",this.Ht),this.Df=c.o("span",this.Dc+"-title-close"));hc(b,this.Oc,this.we=c.o("div",this.Dc+"-content"),this.cc=c.o("div",this.Dc+"-buttons"));this.Gt=this.Oc.id;Mc(b,this.Oj);Nc(b,"labelledby",this.Gt||"");this.rc&&(this.we.innerHTML=this.rc);R(this.Df,this.On);this.qc&&(b=this.qc,b.e=this.cc,b.W());R(this.cc,!!this.qc);xh(this,this.iq)};
t.ea=function(b){uh.m.ea.call(this,b);b=this.Dc+"-content";(this.we=Ub(k,b,this.h())[0])?this.rc=this.we.innerHTML:(this.we=this.H().o("div",b),this.rc&&(this.we.innerHTML=this.rc),this.h().appendChild(this.we));var b=this.Dc+"-title",c=this.Dc+"-title-text",d=this.Dc+"-title-close";(this.Oc=Ub(k,b,this.h())[0])?(this.ng=Ub(k,c,this.Oc)[0],this.Df=Ub(k,d,this.Oc)[0],this.Oc.id||(this.Oc.id=this.Wd())):(this.Oc=this.H().o("div",{className:b,id:this.Wd()}),this.h().insertBefore(this.Oc,this.we));this.Gt=
this.Oc.id;this.ng?this.Ht=Fc(this.ng):(this.ng=this.H().o("span",c,this.Ht),this.Oc.appendChild(this.ng));Nc(this.h(),"labelledby",this.Gt||"");this.Df||(this.Df=this.H().o("span",d),this.Oc.appendChild(this.Df));R(this.Df,this.On);b=this.Dc+"-buttons";(this.cc=Ub(k,b,this.h())[0])?(this.qc=new Bh(this.H()),this.qc.n(this.cc)):(this.cc=this.H().o("div",b),this.h().appendChild(this.cc),this.qc&&(b=this.qc,b.e=this.cc,b.W()),R(this.cc,!!this.qc));xh(this,this.iq)};
t.z=function(){uh.m.z.call(this);this.g().c(this.h(),"keydown",this.Go).c(this.h(),"keypress",this.Go);this.g().c(this.cc,"click",this.VP);Ah(this,this.UC);this.g().c(this.Df,"click",this.TQ);Mc(this.h(),this.Oj);""!==this.ng.id&&Nc(this.h(),"labelledby",this.ng.id);this.fy||yh(this,m)};t.ib=function(){this.Q()&&this.w(m);Ah(this,m);uh.m.ib.call(this)};t.w=function(b){b!=this.Q()&&(this.xa||this.W(),uh.m.w.call(this,b))};t.$h=function(){uh.m.$h.call(this);this.dispatchEvent(Ch)};
t.As=function(){uh.m.As.call(this);this.dispatchEvent(Dh);this.CL&&this.C()};t.focus=function(){uh.m.focus.call(this);if(this.qc){var b=this.qc.Oq;if(b)for(var c=this.H().za(),d=this.cc.getElementsByTagName("button"),e=0,g;g=d[e];e++)if(g.name==b){try{if(C||rb){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.h().appendChild(h);h.focus();this.h().removeChild(h)}g.focus()}catch(l){}break}}};
t.GS=function(){var b=this.H().za(),c=Yb(ac(b)||window),d=Math.max(b.body.scrollWidth,c.width),b=Math.max(b.body.scrollHeight,c.height),e=mg(this.h());"fixed"==Wf(this.h())?(c=new Of(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height)),this.Cb.hs=c||new Of(NaN,NaN,NaN,NaN)):this.Cb.hs=new Of(0,0,d-e.width,b-e.height)||new Of(NaN,NaN,NaN,NaN)};t.TQ=function(){if(this.On){var b=this.qc,c=b&&b.Tu;c?(b=b.get(c),this.dispatchEvent(new Eh(c,b))&&this.w(m)):this.w(m)}};
t.lt=function(b){this.On=b;this.Df&&R(this.Df,this.On)};t.p=function(){this.cc=this.Df=k;uh.m.p.call(this)};a.Fh=function(b,c){b.qc=c;if(b.cc){if(b.qc){var d=b.qc;d.e=b.cc;d.W()}else b.cc.innerHTML="";R(b.cc,!!b.qc)}};t.VP=function(b){a:{for(b=b.target;b!=k&&b!=this.cc;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=k}if(b&&!b.disabled){var b=b.name,c=this.qc.get(b);this.dispatchEvent(new Eh(b,c))&&this.w(m)}};
t.Go=function(b){var c=m,d=m,e=this.qc,g=b.target;if("keydown"==b.type)if(this.PL&&27==b.keyCode){var h=e&&e.Tu,g="SELECT"==g.tagName&&!g.disabled;h&&!g?(d=j,c=e.get(h),c=this.dispatchEvent(new Eh(h,c))):g||(c=j)}else 9==b.keyCode&&(b.shiftKey&&g==this.h())&&(d=j);else if(13==b.keyCode){if("BUTTON"==g.tagName)h=g.name;else if(e){var l=e.Oq,n=l&&e.hd(l),g=("TEXTAREA"==g.tagName||"SELECT"==g.tagName||"A"==g.tagName)&&!g.disabled;n&&(!n.disabled&&!g)&&(h=l)}h&&e&&(d=j,c=this.dispatchEvent(new Eh(h,String(e.get(h)))))}if(c||
d)b.stopPropagation(),b.preventDefault();c&&this.w(m)};a.Eh=function(b,c){this.type=Gh;this.key=b;this.caption=c};y(Eh,gd);a.Gh="dialogselect",a.Dh="afterhide",a.Ch="aftershow",a.Bh=function(b){this.ba=b||Sb();Md.call(this)},a.Hh=void 0;y(Bh,Md);t=Bh.prototype;t.Dc="goog-buttonset";t.Oq=k;t.e=k;t.Tu=k;t.set=function(b,c,d,e){Md.prototype.set.call(this,b,c);d&&(this.Oq=b);e&&(this.Tu=b);return this};t.pe=function(b,c,d){return this.set(b.key,b.caption,c,d)};
t.W=function(){if(this.e){this.e.innerHTML="";var b=Sb(this.e);Kd.forEach(this,function(c,d){var e=b.o("button",{name:d},c);d==this.Oq&&(e.className=this.Dc+"-default");this.e.appendChild(e)},this)}};t.n=function(b){if(b&&1==b.nodeType){this.e=b;for(var b=this.e.getElementsByTagName("button"),c=0,d,e,g;d=b[c];c++)if(e=d.name||d.id,g=Fc(d)||d.value,e){var h=0==c;this.set(e,g,h,d.name==Ih);h&&D.add(d,this.Dc+"-default")}}};t.h=p("e");t.H=p("ba");
t.hd=function(b){for(var c=this.e.getElementsByTagName("BUTTON"),d=0,e;e=c[d];d++)if(e.name==b||e.id==b)return e;return k};a.Ih="cancel",a.Jh={TV:"ok",TA:Ih,cB:"yes",RV:"no",qW:"save",RU:"continue"},a.Kh=w("确定"),a.Lh=w("取消"),a.Mh=w("Yes"),a.Nh=w("No"),a.Oh=w("Save"),a.Ph=w("Continue"),a.Qh={key:"ok",caption:Kh},a.Rh={key:Ih,caption:Lh},a.Sh={key:"yes",caption:Mh},a.Th={key:"no",caption:Nh},a.Uh={key:"save",caption:Oh},a.Vh={key:"continue",caption:Ph};
"undefined"!=typeof document&&((new Bh).pe(Qh,j,j),Hh=(new Bh).pe(Rh,m,j).pe(Qh,j),(new Bh).pe(Sh,j).pe(Th,m,j),(new Bh).pe(Sh).pe(Th,j).pe(Rh,m,j),(new Bh).pe(Vh).pe(Uh).pe(Rh,j,j));a.Wh=void 0,a.Xh=void 0,a.Yh=void 0,a.Zh=void 0,a.$h=void 0,a.ai=void 0,a.bi=void 0;bi=ai=$h=Zh=Yh=Xh=Wh=m;a.ci=nb();ci&&(-1!=ci.indexOf("Firefox")?Wh=j:-1!=ci.indexOf("Camino")?Xh=j:-1!=ci.indexOf("iPhone")||-1!=ci.indexOf("iPod")?Yh=j:-1!=ci.indexOf("iPad")?Zh=j:-1!=ci.indexOf("Android")?$h=j:-1!=ci.indexOf("Chrome")?ai=j:-1!=ci.indexOf("Safari")&&(bi=j));a.di=Wh,a.ei=Xh,a.fi=Yh,a.gi=Zh,a.hi=$h,a.ii=ai,a.ji=bi;a.ki=void 0,a.li=void 0,a.mi=void 0,a.ni=void 0,a.oi=fi||gi,a.pi=oi&&navigator.userAgent.match(/OS\s(\w+)/)[1].slice(0,3).replace(/_/g,".");ki="contentEditable"in document.documentElement&&!(oi&&5>pi)&&!(hi&&3>navigator.userAgent.match(/Android (\d)/)[1]);a.qi=$(document.documentElement);li="ontouchstart"in window;qi.addClass(sb?"mobile":"no-mobile");mi=oi&&6<=pi||!sb;document.createElement("input");ni=1.5<=window.devicePixelRatio;window.JSON||(window.JSON={parse:Wc,stringify:Zc});a.ri=void 0;
"orientation"in window&&(ri=function(){var b={"0":"portrait",90:"landscape landscape-left","-90":"landscape landscape-right"},c=b[window.orientation]||"";qi.removeClass(F.Fa(b).join(" ")).addClass(c)},$(window).on("orientationchange",ri),ri());$.support.fixedPosition=j;a:{var si=document.createElement("bootstrap"),ti={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},ui;for(ui in ti)if(si.style[ui]!==i)break a};a.vi=function(b,c,d){uh.call(this,b,c,d)};y(vi,uh);t=vi.prototype;t.kI=k;t.z=function(){var b=!li;this.UC=b;Ah(this,b&&this.xa);vi.m.z.call(this);this.Kk&&wi(this);this.qm(this.kI);sb&&D.add(this.h(),"absolute-position")};a.wi=function(b){b.Kk&&b.g().c(b.Pc||b.Cc,"click",function(){this.Kk&&this.w(m)})};t.Zo=u(61);t.na=function(){vi.m.na.call(this);if(!this.aM){var b=$(this.h()),c=Math.min(b.offset().top-$(window).scrollTop(),80),c=sb&&!gi?"-1px":"-="+c+"px";b.add(this.zf).css("top",c)}};
t.qm=function(b){if(this.e&&(this.xa&&pa(b))&&(!sb||gi))this.e.style.width=Xf(b,j),this.kI=b;return this};a.xi={},a.Ai=function(b,c,d,e){ra(b)?(e=d,d=c):b={title:b,content:c};qa(d)||(d=ha);var g=$.extend({},yi,b),h=zi=zi||new vi,c=Jh.TA,b=Jh.cB,l=g.Bi.length;if(l){var n=new Bh;1<l?n.set(c,g.Bi[0],m,j).set(b,g.Bi[1],j):n.set(b,g.Bi[0],j);Fh(h,n);h.hw();n.hd(b).className="zg-btn-blue";n.hd(c)&&(n.hd(c).className="zg-link-btn zm-command-cancel")}else Fh(h,k);D.enable(wh(h),"with-button",!!l);Ad(h);h.on(Dh,function(){D.remove(h.h(),g.className)}).on(Gh,function(b){return d.call(e||h,"yes"===b.key)});D.add(wh(h),
g.className);h.Xa(g.title);zh(h,g.pF);h.La(g.content);h.w(g.open);return h},a.zi=void 0,a.yi={open:j,pF:m,title:"确认",content:"",className:"",Bi:["取消","确认"]},a.U=function(b,c){if(b){var d=Ai({title:"提示信息",content:Ma(b),Bi:[],className:"no-close-button"});setTimeout(function(){d.w(m)},c||3E3)}};a.V=function(b){ve.call(this);this.XS=!!b;this.headers.set("AuthToken",Ag);this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.AM,m,this)},a.Bi=void 0;y(V,ve);a.Ci=function(b,c,d,e){var g=new V;if(c)g.on("complete",c);g.ajax(b,e,d)},a.Di=/#.*$/,a.Ei={"text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},a.Fi=[];
V.prototype.AM=function(){R(Gi(),m);var b=this.getResponseHeader("content-type");if(b){var c=Ei[b.split(";")[0].toLowerCase()];if(c&&Fi.length){var d=Fe(this);z.forEach(Fi,function(b){b.rU===c&&b.filter("json"===c?JSON.parse(d):d)},this)}}};V.prototype.ajax=function(b,c,d){b=encodeURI(decodeURI(b));b=b.replace(Di,"");if(!this.$){this.XS&&R(Gi(),j);d=d||"POST";if("POST"===d.toUpperCase()){var e=Lf.get("_xsrf");e&&(c=(c?c+"&_xsrf=":"_xsrf=")+e)}return this.send(b,d,c,this.headers)}};
a.Gi=function(){if(Bi)return Bi;var b=K("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});document.body.appendChild(b);return Bi=b};a.Hi=function(){M.call(this)};y(Hi,Fd);Hi.prototype.g=function(){return this.Qh||(this.Qh=new le(this))};a.Ii=new Hi;a.tf=function(b,c){var d;b instanceof tf?(this.Fe=ka(c)?c:b.Fe,Ji(this,b.di),Ki(this,b.Cp),Li(this,b.Pi),Mi(this,b.Wl),Ni(this,b.jg),Oi(this,b.Ic().clone()),Pi(this,b.Cn)):b&&(d=String(b).match(ue))?(this.Fe=!!c,Ji(this,d[1]||"",j),Ki(this,d[2]||"",j),Li(this,d[3]||"",j),Mi(this,d[4]),Ni(this,d[5]||"",j),Oi(this,d[6]||"",j),Pi(this,d[7]||"",j)):(this.Fe=!!c,this.Fd=new Qi(k,0,this.Fe))};t=tf.prototype;t.di="";t.Cp="";t.Pi="";t.Wl=k;t.jg="";t.Cn="";t.MO=m;t.Fe=m;
t.toString=function(){var b=[],c=this.di;c&&b.push(Ri(c,Si),":");if(c=this.Pi){b.push("//");var d=this.Cp;d&&b.push(Ri(d,Si),"@");b.push(encodeURIComponent(String(c)));c=this.Wl;c!=k&&b.push(":",String(c))}if(c=this.jg)this.Pi&&"/"!=c.charAt(0)&&b.push("/"),b.push(Ri(c,"/"==c.charAt(0)?Ti:Ui));(c=this.Fd.toString())&&b.push("?",c);(c=this.Cn)&&b.push("#",Ri(c,Vi));return b.join("")};
t.resolve=function(b){var c=this.clone(),d=!!b.di;d?Ji(c,b.di):d=!!b.Cp;d?Ki(c,b.Cp):d=!!b.Pi;d?Li(c,b.Pi):d=b.Wl!=k;var e=b.jg;if(d)Mi(c,b.Wl);else if(d=!!b.jg){if("/"!=e.charAt(0))if(this.Pi&&!this.jg)e="/"+e;else{var g=c.jg.lastIndexOf("/");-1!=g&&(e=c.jg.substr(0,g+1)+e)}g=e;if(".."==g||"."==g)e="";else if(!Va(g,"./")&&!Va(g,"/."))e=g;else{for(var e=Ea(g,"/"),g=g.split("/"),h=[],l=0;l<g.length;){var n=g[l++];"."==n?e&&l==g.length&&h.push(""):".."==n?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
e&&l==g.length&&h.push("")):(h.push(n),e=j)}e=h.join("/")}}d?Ni(c,e):d=""!==b.Fd.toString();d?Oi(c,b.Fd.toString()?decodeURIComponent(b.Fd.toString()):""):d=!!b.Cn;d&&Pi(c,b.Cn);return c};t.clone=function(){return new tf(this)};
a.Ji=function(b,c,d){Wi(b);b.di=d?c?decodeURIComponent(c):"":c;b.di&&(b.di=b.di.replace(/:$/,""))},a.Ki=function(b,c,d){Wi(b);b.Cp=d?c?decodeURIComponent(c):"":c},a.Li=function(b,c,d){Wi(b);b.Pi=d?c?decodeURIComponent(c):"":c},a.Mi=function(b,c){Wi(b);c?(c=Number(c),(isNaN(c)||0>c)&&f(Error("Bad port number "+c)),b.Wl=c):b.Wl=k},a.sf=function(b){return b.jg},a.Ni=function(b,c,d){Wi(b);b.jg=d?c?decodeURIComponent(c):"":c},a.Oi=function(b,c,d){Wi(b);c instanceof Qi?(b.Fd=c,b.Fd.zz(b.Fe)):(d||(c=Ri(c,
Xi)),b.Fd=new Qi(c,0,b.Fe))};t.Ic=p("Fd");a.Pi=function(b,c,d){Wi(b);b.Cn=d?c?decodeURIComponent(c):"":c},a.Wi=function(b){b.MO&&f(Error("Tried to modify a read-only Uri"))};t.zz=function(b){this.Fe=b;this.Fd&&this.Fd.zz(b);return this};
a.Ri=function(b,c){return oa(b)?encodeURI(b).replace(c,Yi):k},a.Yi=function(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},a.Si=/[#\/\?@]/g,a.Ui=/[\#\?:]/g,a.Ti=/[\#\?]/g,a.Xi=/[\#\?@]/g,a.Vi=/#/g,a.Qi=function(b,c,d){this.Rd=b||k;this.Fe=!!d},a.$i=function(b){if(!b.Ib&&(b.Ib=new Md,b.ia=0,b.Rd))for(var c=b.Rd.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=k,h=k;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));
g=Zi(b,g);b.add(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};t=Qi.prototype;t.Ib=k;t.ia=k;t.cb=function(){$i(this);return this.ia};t.add=function(b,c){$i(this);this.Rd=k;var b=Zi(this,b),d=this.Ib.get(b);d||this.Ib.set(b,d=[]);d.push(c);this.ia++;return this};t.remove=function(b){$i(this);b=Zi(this,b);return this.Ib.Md(b)?(this.Rd=k,this.ia-=this.Ib.get(b).length,this.Ib.remove(b)):m};t.clear=function(){this.Ib=this.Rd=k;this.ia=0};t.Hb=function(){$i(this);return 0==this.ia};
t.Md=function(b){$i(this);b=Zi(this,b);return this.Ib.Md(b)};t.Bg=function(b){var c=this.Fa();return z.contains(c,b)};t.Eb=function(){$i(this);for(var b=this.Ib.Fa(),c=this.Ib.Eb(),d=[],e=0;e<c.length;e++)for(var g=b[e],h=0;h<g.length;h++)d.push(c[e]);return d};t.Fa=function(b){$i(this);var c=[];if(b)this.Md(b)&&(c=z.concat(c,this.Ib.get(Zi(this,b))));else for(var b=this.Ib.Fa(),d=0;d<b.length;d++)c=z.concat(c,b[d]);return c};
t.set=function(b,c){$i(this);this.Rd=k;b=Zi(this,b);this.Md(b)&&(this.ia-=this.Ib.get(b).length);this.Ib.set(b,[c]);this.ia++;return this};t.get=function(b,c){var d=b?this.Fa(b):[];return 0<d.length?String(d[0]):c};t.toString=function(){if(this.Rd)return this.Rd;if(!this.Ib)return"";for(var b=[],c=this.Ib.Eb(),d=0;d<c.length;d++)for(var e=c[d],g=encodeURIComponent(String(e)),e=this.Fa(e),h=0;h<e.length;h++){var l=g;""!==e[h]&&(l+="="+encodeURIComponent(String(e[h])));b.push(l)}return this.Rd=b.join("&")};
t.clone=function(){var b=new Qi;b.Rd=this.Rd;this.Ib&&(b.Ib=this.Ib.clone(),b.ia=this.ia);return b};a.Zi=function(b,c){var d=String(c);b.Fe&&(d=d.toLowerCase());return d};t.zz=function(b){b&&!this.Fe&&($i(this),this.Rd=k,Kd.forEach(this.Ib,function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.Rd=k,this.Ib.set(Zi(this,e),z.clone(b)),this.ia+=b.length))},this));this.Fe=b};
t.extend=function(b){for(var c=0;c<arguments.length;c++)Kd.forEach(arguments[c],function(b,c){this.add(c,b)},this)};Fd.prototype.on=function(){Fd.prototype.addEventListener.apply(this,arguments);return this};Fd.prototype.off=function(){Fd.prototype.removeEventListener.apply(this,arguments);return this};Fd.prototype.X=Fd.prototype.dispatchEvent;a.bj=function(){M.call(this);this.da=aj;this.wn=this.startTime=k};y(bj,Fd);a.aj=0;bj.prototype.Xh=function(){this.Od("begin")};bj.prototype.Yh=function(){this.Od("end")};bj.prototype.Od=function(b){this.dispatchEvent(b)};a.cj=function(b,c,d){M.call(this);this.zj=b;this.Pg=c||0;this.ga=d;this.Su=v(this.Hg,this)};y(cj,M);t=cj.prototype;t.Bd=0;t.p=function(){cj.m.p.call(this);this.stop();delete this.zj;delete this.ga};t.start=function(b){this.stop();this.Bd=Jd(this.Su,ka(b)?b:this.Pg)};t.stop=function(){this.Gb()&&Gd.clearTimeout(this.Bd);this.Bd=0};t.fire=function(){this.stop();this.Hg()};t.Gb=function(){return 0!=this.Bd};t.Hg=function(){this.Bd=0;this.zj&&this.zj.call(this.ga)};a.dj={},a.ej=k,a.fj=function(b){b=ua(b);delete dj[b];F.Hb(dj)&&ej&&ej.stop()},a.gj=function(){ej||(ej=new cj(function(){var b=za();F.forEach(dj,function(d){d.pv(b)});F.Hb(dj)||gj()},20));var b=ej;b.Gb()||b.start()};a.hj=function(b,c,d,e){bj.call(this);(!la(b)||!la(c))&&f(Error("Start and end parameters must be arrays"));b.length!=c.length&&f(Error("Start and end points must be the same length"));this.qp=b;this.ML=c;this.duration=d;this.eB=e;this.coords=[];this.qi=m};y(hj,bj);t=hj.prototype;t.Of=u(51);t.rD=0;t.progress=0;t.Kx=k;
t.play=function(b){if(b||this.da==aj)this.progress=0,this.coords=this.qp;else if(1==this.da)return m;fj(this);this.startTime=b=za();-1==this.da&&(this.startTime-=this.duration*this.progress);this.wn=this.startTime+this.duration;this.Kx=this.startTime;this.progress||this.Xh();this.Od("play");-1==this.da&&this.Od("resume");this.da=1;var c=ua(this);c in dj||(dj[c]=this);gj();this.pv(b);return j};t.stop=function(b){fj(this);this.da=aj;b&&(this.progress=1);ij(this,this.progress);this.Od("stop");this.Yh()};
t.p=function(){this.da==aj||this.stop(m);this.Od("destroy");hj.m.p.call(this)};t.pv=function(b){this.progress=(b-this.startTime)/(this.wn-this.startTime);1<=this.progress&&(this.progress=1);this.rD=1E3/(b-this.Kx);this.Kx=b;ij(this,this.progress);1==this.progress?(this.da=aj,fj(this),this.Od("finish"),this.Yh()):1==this.da&&this.py()};a.ij=function(b,c){qa(b.eB)&&(c=b.eB(c));b.coords=Array(b.qp.length);for(var d=0;d<b.qp.length;d++)b.coords[d]=(b.ML[d]-b.qp[d])*c+b.qp[d]};t.py=function(){this.Od("animate")};
t.Od=function(b){this.dispatchEvent(new jj(b,this))};a.jj=function(b,c){gd.call(this,b);this.coords=c.coords;this.x=c.coords[0];this.y=c.coords[1];this.rZ=c.coords[2];this.duration=c.duration;this.progress=c.progress;this.OX=c.rD;this.state=c.da;this.YW=c};y(jj,gd);a.kj=function(b,c,d,e,g){hj.call(this,c,d,e,g);this.element=b};y(kj,hj);t=kj.prototype;t.oh=ha;t.Dd=function(){ka(this.sf)||(this.sf=cg(this.element));return this.sf};t.py=function(){this.oh();kj.m.py.call(this)};t.Yh=function(){this.oh();kj.m.Yh.call(this)};t.Xh=function(){this.oh();kj.m.Xh.call(this)};a.lj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));kj.apply(this,arguments)};y(lj,kj);
lj.prototype.oh=function(){if(this.qi){var b=this.element,c=Math.round(this.coords[0]),c=Math.max(c,0);b.scrollLeft=cg(b)?B?-c:!A||!Eb("8")?b.scrollWidth-c-b.clientWidth:c:c}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};a.mj=function(b,c,d,e,g){pa(c)&&(c=[c]);pa(d)&&(d=[d]);kj.call(this,b,c,d,e,g);(1!=c.length||1!=d.length)&&f(Error("Start and end points must be 1D"))};y(mj,kj);mj.prototype.oh=function(){og(this.element,this.coords[0])};
mj.prototype.show=function(){this.element.style.display=""};mj.prototype.hide=function(){this.element.style.display="none"};a.nj=function(b,c,d){mj.call(this,b,1,0,c,d)};y(nj,mj);nj.prototype.Xh=function(){this.show();nj.m.Xh.call(this)};nj.prototype.Yh=function(){this.hide();nj.m.Yh.call(this)};a.oj=function(b,c,d){mj.call(this,b,0,1,c,d)};y(oj,mj);oj.prototype.Xh=function(){this.show();oj.m.Xh.call(this)};
a.pj=function(b,c,d,e,g){(3!=c.length||3!=d.length)&&f(Error("Start and end points must be 3D"));kj.apply(this,arguments)};y(pj,kj);pj.prototype.oh=function(){for(var b=[],c=0;c<this.coords.length;c++)b[c]=Math.round(this.coords[c]);b="rgb("+b.join(",")+")";this.element.style.backgroundColor=b};a.qj=function(b){return b*b*b},a.rj=function(b){return 1-Math.pow(1-b,3)},a.sj=function(b){return 3*b*b-2*b*b*b};a.tj=/^\/node\//;$.ajaxPrefilter(function(b,c){var d=c.data,e;if(d&&(e=d.params)&&"object"===$.type(e)&&tj.test(c.url))d.params=JSON.stringify(e),b.data=$.param(d)});
a.uj=function(b,c){return $.post("/node/MemberFollowBaseV2",{method:c?"follow_member":"unfollow_member",params:{hash_id:b}})},a.vj=function(b,c){return $.post("/node/QuestionFollowBaseV2",{method:c?"follow_question":"unfollow_question",params:{question_id:b}})},a.wj=function(b,c){return $.post(c?"/collection/follow":"/collection/unfollow",{favlist_id:b})},a.xj=function(b,c){return $.post("/node/TopicFollowBaseV2",{method:c?"follow_topic":"unfollow_topic",params:{topic_id:b}})},a.yj=function(b,c,d,
e){var g=k;e&&(d&&(d=$.proxy(d,e)),g&&(g=$.proxy(g,e)));$.get("/node/"+b,{params:c},function(b){b&&b.r?g&&g(b):d&&d(b)})};a.zj=function(b,c){return $.post("/node/ColumnFollowBaseV2",{method:c?"follow_column":"unfollow_column",params:{column_id:b}})};a.Aj={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},a.Bj=F.iD(Aj,function(b,c){return c in document}),a.Cj=Aj[Bj],a.Dj=ka(Bj);a.Ej={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};a.Hj=function(b){M.call(this);this.rm={};this.Tg={kk:[],time:0};this.nM=F.Dh(Fj);this.wT=F.Dh(Gj);this.uB=j;this.HJ=this.KJ=m;this.yP=j;this.Sg=b;N(this.Sg,"keydown",this.ff,m,this);kb&&(B&&Eb("1.8"))&&N(this.Sg,"keyup",this.ID,m,this);lb&&!B&&(N(this.Sg,"keypress",this.VD,m,this),N(this.Sg,"keyup",this.WD,m,this))},a.Ij=void 0;y(Hj,Fd);
a.Fj=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],a.Gj="color date datetime datetime-local email month number password search tel text time url week".split(" "),a.Jj={UI:"shortcut",TI:"shortcut_"};t=Hj.prototype;t.TR=function(b,c){Kj(this.rm,Lj(1,arguments),b)};t.YT=function(b){Kj(this.rm,Lj(0,arguments),k)};
a.Lj=function(b,c){var d;if(oa(c[b])){d=c[b];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],g,h=0;g=d[h];h++){var l=g.split("+"),n;g=0;for(var q,r=0;q=l[r];r++){switch(q){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}n=q;if(!Ij){l={};q=i;for(q in Ej)l[Ej[q]]=q;Ij=l}n=Ij[n];break}e.push({keyCode:n,rF:g})}d=e}else{e=c;h=b;la(c[b])&&(e=c[b],h=0);for(d=[];h<e.length;h+=2)d.push({keyCode:e[h],rF:e[h+
1]})}return d};t.xA=function(){this.rm={}};t.p=function(){Hj.m.p.call(this);this.xA();wd(this.Sg,"keydown",this.ff,m,this);kb&&(B&&Eb("1.8"))&&wd(this.Sg,"keyup",this.ID,m,this);lb&&!B&&(wd(this.Sg,"keypress",this.VD,m,this),wd(this.Sg,"keyup",this.WD,m,this));this.Sg=k};t.ID=function(b){if(224==b.keyCode)this.mF=j,Jd(function(){this.mF=m},400,this);else{var c=b.metaKey||this.mF;if((67==b.keyCode||88==b.keyCode||86==b.keyCode)&&c)b.metaKey=c,this.ff(b)}};
a.Mj=function(b){return lb&&!B&&b.ctrlKey&&b.altKey&&!b.shiftKey};t.VD=function(b){32<b.keyCode&&Mj(b)&&(this.FE=j)};t.WD=function(b){!this.FE&&Mj(b)&&this.ff(b)};a.Kj=function(b,c,d){var e=c.shift(),e=e.keyCode&255|e.rF<<8,g=b[e];g&&(d&&(0==c.length||oa(g)))&&f(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(g||(g=b[e]={}),Kj(g,c,d)):b[e]=d},a.Nj=function(b,c,d,e){d=d||0;return(e=(e||b.rm)[c[d]])&&!oa(e)&&1<c.length-d?Nj(b,c,d+1,e):e};
t.ff=function(b){var c;c=b.keyCode;if(16==c||17==c||18==c)c=m;else{var d=b.target,e="TEXTAREA"==d.tagName||"INPUT"==d.tagName||"BUTTON"==d.tagName||"SELECT"==d.tagName,g=!e&&(d.isContentEditable||d.ownerDocument&&"on"==d.ownerDocument.designMode);c=!e&&!g||this.nM[c]||this.HJ?j:g?m:this.yP&&(b.altKey||b.ctrlKey||b.metaKey)?j:"INPUT"==d.tagName&&this.wT[d.type]?13==c:"INPUT"==d.tagName||"BUTTON"==d.tagName?32!=c:m}if(c)if("keydown"==b.type&&Mj(b))this.FE=m;else{c=(B?Ug(b.keyCode):b.keyCode)&255|((b.shiftKey?
1:0)|(b.ctrlKey?2:0)|(b.altKey?4:0)|(b.metaKey?8:0))<<8;var h,l,d=za();this.Tg.kk.length&&1500>=d-this.Tg.time?h=Nj(this,this.Tg.kk):this.Tg.kk.length=0;h=h?h[c]:this.rm[c];h||(h=this.rm[c],this.Tg.kk=[]);h&&oa(h)?l=h:h?(this.Tg.kk.push(c),this.Tg.time=d,B&&b.preventDefault()):this.Tg.kk.length=0;l&&(this.uB&&b.preventDefault(),this.KJ&&b.stopPropagation(),h=b.target,c=this.dispatchEvent(new Oj(Jj.UI,l,h)),(c&=this.dispatchEvent(new Oj(Jj.TI+l,l,h)))||b.preventDefault(),this.Tg.kk.length=0)}};
a.Oj=function(b,c,d){gd.call(this,b,d);this.identifier=c};y(Oj,gd);a.Pj=function(b){M.call(this);this.kf(b)};y(Pj,M);a.Qj=[];t=Pj.prototype;t.kf=function(b){Qj.push(this);this.Mk=new Md;this.ga=new Hj(b);this.ga.uB=m;this.ga.addEventListener("shortcut",this.WQ,m,this)};a.Rj=function(b,c,d,e){b.Vm={key:c,action:d,context:e};b.ga.TR(c,c);b.Mk.set(c,b.Vm);return b};t.ZT=function(b){this.Vm=k;this.ga.YT(b,b);this.Mk.remove(b);return this};t.xA=function(){this.Vm=k;this.ga.xA();this.Mk.clear();return this};a.Tj=function(b,c){b.Vm.Ab=c;return b};
t.WQ=function(b){var c=this.Mk.get(b.identifier);c&&c.action.call(c.context,b)};t.p=function(){Pj.m.p.call(this);z.remove(Qj,this);this.ga.C();this.Mk=this.Vm=this.ga=k};a.Uj=new Pj(document);Uj.GA=function(b){return new Pj(b)};a.Vj=function(){this.Hr=[];this.loaded=[];this.pG=[];this.xr=m};Vj.prototype.add=function(b){b&&!z.find(this.Hr,function(c){return c===b})&&(this.xr?b.src=b.getAttribute("data-source"):(this.Hr.push(b),this.loaded.push(0)))};Vj.prototype.v=function(){z.forEach(this.Hr,function(b){this.pG.push(bg(b).y)},this);this.$B();N(window,"scroll",this.$B,m,this);this.xr=j};
Vj.prototype.xK=function(){var b=$b(document).y+1200;z.forEach(this.Hr,function(c,d){!this.loaded[d]&&b>this.pG[d]&&(this.loaded[d]=1,c.src=c.getAttribute("data-source"))},this)};Vj.prototype.$B=function(){this.aC&&clearTimeout(this.aC);this.aC=setTimeout(v(this.xK,this),100)};a.Wj=new Vj;a.Xj=function(b){var c=m,d;return function(){if(c)return d;c=j;return d=b.apply(this,arguments)}},a.Yj=function(b,c){var d=zc(b,function(b){return 3===b.nodeType&&!Ga(b.nodeValue)})[0];d&&(d.nodeValue=c)},a.Zj=function(b,c){var d=new nj(b,500);c&&N(d,"finish",v(function(){L(this)},b));d.play()},a.$j=function(b,c,d,e){"bottom"===e&&(e="b");var g="";(d===m?m:j)&&(g='data-tip="t$'+(e||"t")+"$"+b[1]+'"');return["<a ",g,' class="',c||"zm-item-tag",'" href="/topic/',b[1],'">',b[0],"</a>"].join("")},a.ak=
function(b){return!b?"":b.replace(/^\s+/,"").replace(/\s+$/,"")},a.bk=function(b){return!b?"":b.replace(/<[^>]+>/g,"")},a.ck=void 0,a.dk=RegExp("^⁠+|⁠+$");ck=function(b){return b.replace(dk,"")};
a.ek=function(){return'<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>'},a.fk=function(b,c,d){var e;b&&(c=$(b).data("animation")||new pj(b,[255,255,150],c||[255,255,255],d||2E3),$(b).data("animation",c),1==c.da&&c.stop(j),e=b.style.backgroundColor,vd(c,"end",function(){Rf(this.element,"background-color",e)},m,c),c.play())},a.gk=function(b,c,d){Dj&&document[Bj]?N(document,Cj,function g(){document[Bj]||(fk(b,c,d),wd(document,Cj,g))}):fk(b,c,d)},a.hk=
function(b){var c=0,d=0;do d=b.indexOf("?",d),-1!==d&&(c++,d+=1);while(-1!==d);return c},a.ik=function(b,c,d){c=z.slice(b.data,1);if("topic"===b.data[0]){var b=(c[2]?'<img class="zm-item-img-avatar zg-left" src="'+c[2]+'">':"")+'<span class="zu-autocomplete-row-name'+(c[3]?"":" zu-autocomplete-row-name-info")+'" title="'+c[0]+'">'+c[0]+"</span>",e=5<c.length&&c[5],b=b+'<span class="zg-gray-normal zu-autocomplete-row-description">';c[4]||e?(e&&(b+="又称 "+c[5]),c[4]&&e&&(b+="，"),c[4]&&(b+=c[4]+" 人关注")):
b+="&nbsp;";d.innerHTML=b+"</span>"}else"people"===b.data[0]?d.innerHTML='<img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span>":"question"===b.data[0]?d.innerHTML=c[0]+'<span class="zm-ac-gray">问题</span>':"plain_text"===b.data[0]?(d.innerHTML=b.data[1],D.add(d,c[1])):"sina"===b.data[0]&&(d.innerHTML=c[0])},a.jk=function(b,c,d){var e,c=z.slice(b.data,
1);if("topic"===b.data[0]){b=["<a ",' style="display:block" href="/topic/'+c[1]+'"><span class="zm-item-tag">',c[0],"</span>"].join("");e=6<c.length&&c[6];if(c[5]||e){var b=b+'<span class="zm-ac-gray">',g=[];e&&g.push("又称 "+c[6]);(e=parseInt(c[5],10))&&g.push(e+" 个热门问答");b+=g.join("，");b+="</span>"}else b+='<span class="zm-ac-gray" >&nbsp;</span>';d.innerHTML=b+"</a>"}else"people"===b.data[0]?d.innerHTML='<a href="/people/'+c[1]+'" title="'+c[0]+'" class="zm-ac-link zm-ac-link-people"><img class="zm-item-img-avatar zg-left" src="'+
c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span></a>":"question"===b.data[0]?(e=parseInt(c[3],10),d.innerHTML=(c[4]?'<a class="zg-star" data-tip="s$b$优质问答" href="/question/'+c[2]+'"></a>':"")+['<a class="zm-ac-link"','href="/question/'+c[2]+'">',c[0]].join("")+('<span class="zm-ac-gray">'+(e?e+" 个回答":"还没有回答")+"</span></a>")):"search_link"===b.data[0]?(d.innerHTML='<a href="/search?q='+
c[0]+'&type=question">查看全部搜索结果<i class="zg-icon arrow"></i></a>',D.add(d,"zu-autocomplete-row-search-link")):"plain_text"===b.data[0]?d.innerHTML=c[0]:"sina"===b.data[0]&&(c=['<a href="javascript:;" title="'+c[0]+'">','<img class="zm-item-img-avatar" src="'+c[2]+'" />',c[0],"</a>"].join(""),d.innerHTML=c);$(d).on("click","a",function(b){b.preventDefault()})},a.kk=function(b,c){for(var d=c;d!=k&&d!==b;){if("A"===d.tagName)return d;d=d.parentNode}return k},a.lk=function(b){this.EO=b;this.data=new Md};
lk.prototype.add=function(b,c){this.EO===m?this.data.set(b,c):this.data.set(encodeURIComponent(b),encodeURIComponent(c))};lk.prototype.Ic=function(){var b=[];z.forEach(this.data.Eb(),function(c){b.push(c+"="+this.data.get(c))},this);return b.join("&")};
a.ok=function(b,c,d,e,g){if(S.Ma()){mk&&"pending"===mk.state()&&mk.abort();var g=g||{},c=c||b.getAttribute("data-focustype"),e=e||["zg-follow","zg-unfollow"],h=e[0],l=e[1],n=D.has(b,h);W.X({type:"ga_click_follow",target:b,data:{type:c,uj:n}});var q=function(c){c?(D.xi(b,h,l),Yj(b,g.unfollow_text||"取消关注")):(D.xi(b,l,h),Yj(b,g.follow_text||"关注"));qa(d)&&d()},e=function(b){b.r?U(b.msg):q(n)},r;r={column:zj,people:uj,question:vj,topic:xj,favlist:wj}[c];var x=b.id.split("-")[1];r&&(r=r(x,n),"people"===
c&&n?r.done(e):q(n),mk=r)}else nk.D().w(j)},a.mk=void 0,a.pk=function(b){b=ak(b);return!b?0:Math.ceil(b.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,"aaaaaaaaaaaaaaaaaaaa").replace(/\n/g,"a").replace(/\s/g,"a").replace(/[\u3000-\u303F\u4E00-\u9FA5\uf900-\ufa2d\uFF00-\uFFEF]/g,"aa").length/2)},a.rk=function(b,c,d,e){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e]);zg&&qk("trackEvent(deprecated)",z.toArray(arguments))},a.sk=function(b){window._gaq||
(window._gaq=[]);window._gaq.push(["_trackPageview",b])},a.tk=void 0,a.uk={uT:{evaluate:/<%([\s\S]+?)%>/g,yO:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},a.vk=/.^/,a.wk=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};
tk=function(b,c){var d=uk.uT,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||vk,function(b,c){return"',_.escape("+wk(c)+"),'"}).replace(d.yO||vk,function(b,c){return"',"+wk(c)+",'"}).replace(d.evaluate||vk,function(b,c){return"');"+wk(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("data","_",d);
return c?e(c,uk):function(b){return e.call(this,b,uk)}};$(function(){var b=vg(document.body).top;xk.paddingTop=b});a.xk={offsetTop:0,paddingTop:0,xB:m},a.yk=function(b){$(b.target.L.e).off("click.disable-a").on("click.disable-a","a",function(b){b.preventDefault()})},a.zk=function(b,c){var d=k;return function(){var e=this,g=arguments;clearTimeout(d);d=setTimeout(function(){c.apply(e,g)},b)}};a.Ak={"c:link":function(){ok(this,"column",k,k,{follow_text:"关注专栏"})},"q:link":function(){ok(this,"question",k,k,{follow_text:"关注问题"})},"m:link":function(){ok(this,"people")},"t:link":function(){ok(this,"topic")},"m:button":function(){var b=this;ok(b,"people",function(){b.getAttribute("data-focusme")&&(D.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$对方已关注你"):b.setAttribute("data-tip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:m:button":function(){ok(this,"question",k,["zg-btn-green",
"zg-btn-white"])},"f:button":function(){ok(this,"favlist",k,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){ok(this,"topic",k,["zg-btn-follow","zg-btn-unfollow"])}};a.Bk=void 0,a.Ck=window.FastClick;Bk=[".goog-menu *",".goog-menu-button *"];if(Ck){var Dk=Ck.prototype.needsClick,Ek;if(window.sV){var Fk=z.find(["matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],function(b){return HTMLElement.prototype[b]});Ek=Fk&&HTMLElement.prototype[Fk]}var Gk=Ek?function(b,c){return Ek.call(b,c)}:function(b,c){return $(b).is(c)};Ck.prototype.needsClick=function(b){return z.some(Bk,function(c){return Gk(b,c)})?j:Dk.call(this,b)}};a.Hk=function(){M.call(this)};y(Hk,Fd);Hk.prototype.g=function(){return this.Qh||(this.Qh=new le(this))};Hk.prototype.df=function(b,c){if(!this.e)return k;for(var d=c||"A",e=b;e!=k&&e!==this.e;){if(e.tagName===d)return e;e=e.parentNode}return k};a.Ik=function(){M.call(this);this.last=this.GX=0;this.KX=m};y(Ik,Hk);Ik.prototype.v=function(){if(this.e=H("zh-global-message"))this.tF=J("zu-global-notify-msg",this.e),this.g().c(this.e,"click",this.fa)};Ik.prototype.fa=function(b){b.target&&b.target.name&&R(this.e,m)};a.Kk=function(b){var c=W;b&&b.length&&z.forEach(b,function(b){this.dispatchEvent(new Jk(b[0],b[1]))},c)};Ik.prototype.fireEvent=u(38);
a.Lk=function(b){var c=W;c.tF?(c.tF.innerHTML=b,R(c.e,j)):U(b)},a.Jk=function(b,c){this.type=b;this.sb=c};y(Jk,gd);a.W=new Ik;W.v();a.Mk=function(b){function c(){r.onload=r.onerror=r.onreadystatechange=k;document.body.removeChild(r)}function d(){c();q.resolve()}function e(){clearTimeout(n);n=k;try{delete window[h]}catch(b){window[h]=k}}"string"===$.type(b)&&(b={url:b});var b=b||{},g=$.Deferred(),h="zh"+za()+ab(),l=$.extend({},b.data||{},{callback:h}),n=k;b.timeout&&(n=setTimeout(function(){window[h]&&(window[h]=e,g.reject("timeout"))},b.timeout));window[h]=g.resolve;var b=b.url+(-1===b.url.indexOf("?")?"?":"&")+$.param(l),q=$.Deferred(),
r=document.createElement("script");r.onload=d;r.onerror=function(){c();q.reject()};r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&d()};r.src=b;document.body.appendChild(r);q.promise().fail(g.reject).always(e);return g.promise()};a.Nk=function(b){this.options=$.extend(j,{},this.R,b||{});this.promise=k;this.RG=1E3;this.ay=3E4;this.xj=this.RG;this.dO=1.5};y(Nk,Fd);Nk.prototype.R={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:j}};Nk.prototype.Qy=function(){if(!(this.promise&&"pending"===this.promise.state())){var b=this.options;this.promise=($.support.cors?$.ajax(b):Mk(b)).done($.proxy(this.xQ,this)).fail($.proxy(this.Zh,this))}};
Nk.prototype.xQ=function(b){this.xj=this.RG;try{this.dispatchEvent({type:"message",data:b})}catch(c){}this.Qy()};Nk.prototype.Zh=function(){this.xj!==this.ay&&(this.xj*=this.dO);this.xj>this.ay&&(this.xj=this.ay);this.zc=setTimeout($.proxy(this.Qy,this),this.xj);this.dispatchEvent("error")};a.Ok=function(b){this.Ed=b},a.Pk=function(b){return function(){this.Ed=b.apply(k,[this.Ed].concat(z.toArray(arguments)));return this}};Ok.prototype.filter=Pk(z.filter);Ok.prototype.map=Pk(z.map);Ok.prototype.reduce=Pk(z.reduce);Ok.prototype.reduceRight=Pk(z.reduceRight);Ok.prototype.flatten=Pk(z.flatten);Ok.prototype.size=function(){return this.Ed.length};Ok.prototype.toArray=p("Ed");a.Qk=function(b){F.extend(this.F={},this.R,b||{});this.kf()},a.Rk=["group","key","name"],a.Sk=function(b){return z.every(Rk,function(c){return b[c]})},a.Tk=function(b){return $.extend({},{key:b.key},b.Ab)},a.Uk=function(b,c){z.every(b,function(b){return!z.every(Rk,function(e){return b[e]===c[e]})})&&b.push(c);return b},a.Vk=function(b,c){var d=b[c.group];d?d.push(c):b[c.group]=[c];return b};Qk.prototype.R={yL:"帮助信息",xL:"shortcut-tips-dialog"};
Qk.prototype.kf=function(){Tj(Rj(Uj,"shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};
Qk.prototype.show=function(){var b=this.F,c=b.yL,d;d=(new Ok(Qj)).map(function(b){return F.Fa(b.Mk.It())}).flatten().map(Tk).filter(Sk).reduce(Uk,[]).reduce(Vk,{}).toArray();var e=['<div class="shortcut-tips">'],g={pS:/([^\s+])+|([\s+])/g,cM:function(b){return b.replace(this.pS,function(b,c){return c?"<kbd>"+b+"</kbd>":" "+b+" "})}};F.forEach(d,function(b,c){e.push('<div class="group"><h2>',c,"</h2><dl>");z.forEach(b,function(b){e.push("<dt>",g.cM(b.key),"</dt>");e.push("<dd>",b.name,"</dd>")});e.push("</dl></div>")});
e.push("</div>");d=e.join("");Ai({title:c,content:d,Bi:["确定"],className:b.xL})};$.easing.easeOutCubic=function(b,c,d,e,g){return e*((c=c/g-1)*c*c+1)+d};a.Wk=function(b){T.call(this);this.nj=-1;F.extend(this.F={},this.R,b||{})};y(Wk,T);t=Wk.prototype;t.R={items:">li",AK:m,ZL:j,className:"navigable",nD:"navigable-focusin"};t.z=function(){Wk.m.z.call(this);var b=this.F;this.G=$(this.e).addClass(b.className).data("navigable",this).on("focusin.navigable focusout.navigable",b.items,$.proxy(this.iQ,this));this.uh()};t.p=function(){Wk.m.p.call(this);this.G.removeClass(this.F.className).data("navigable",k).off(".navigable");this.G=k};t.uh=ha;t.index=p("nj");
t.size=function(){return this.items().length};t.prev=function(){Xk(this,this.index()-1)};t.next=function(){Xk(this,this.index()+1)};t.first=function(){Xk(this,0)};t.last=function(){Xk(this,this.size()-1)};a.Xk=function(b,c){if(c!==b.index()){var d=b.size(),e=d-1;b.F.AK&&(c>e?c=0:0>c&&(c=e));b.dispatchEvent({data:{index:c,size:d},type:"action"});0>c||c>e||(b.nj=c,b.ty(b.items()[b.index()]))}};
t.iQ=function(b){var c=this.F,d=b.currentTarget,e=$(d);"focusin"===b.type?(e.addClass(c.nD),this.nj=$.inArray(d,this.items())):e.removeClass(c.nD)};t.ty=function(b){this.F.ZL&&(b.tabIndex=-1,b.focus());this.dispatchEvent({data:{item:b},type:"focus"})};Wk.prototype.items=function(){var b=this.F.items;return!b?this.G.children().get():$(b,this.G).get()};a.Yk=function(b){Wk.call(this,b);this.uI=$($.browser.webkit?document.body:document.documentElement)};y(Yk,Wk);F.extend(Yk.prototype.R={xS:200,offsetTop:0},Wk.prototype.R);a.Zk=function(b){return{k:{action:b.prev,Ab:{group:"导航",name:"上一条目"}},j:{action:b.next,Ab:{group:"导航",name:"下一条目"}},"g g":{action:b.first,Ab:{group:"导航",name:"第一个条目"}},"shift+g":{action:b.last,Ab:{group:"导航",name:"最后一个条目"}},"shift+k":{action:b.zS,Ab:{group:"导航",name:"屏幕上移"}},"shift+j":{action:b.vS,Ab:{group:"导航",name:"屏幕下移"}}}};
t=Yk.prototype;t.uh=function(){F.forEach(Zk(this),function(b,c){Tj(Rj(Uj,c,b.action,this),b.Ab)},this)};t.p=function(){Yk.m.p.call(this);var b=F.Eb(Zk(this));z.forEach(la(b)?b:[b],Uj.ZT,Uj)};t.ty=function(b){Yk.m.ty.call(this,b);var c=this.F;this.scrollTo($(b).offset().top+c.offsetTop,c.xS,"easeOutCubic")};t.scrollTo=function(b,c,d){this.uI.stop().animate({scrollTop:b},c,d)};t.vS=function(){this.scrollTo("+=60",100)};t.zS=function(){this.scrollTo("-=60",100)};Ii.on("init",function(){$("#js-open-in-app").on("click",function(){var b=$('meta[name="apple-itunes-app"]').attr("content");if(b){var b=(new Qi(b.replace(/,\s*/,"&"))).get("app-argument")||"",c=m;-1===b.indexOf("zhihu://")&&(b="zhihu://"+b);window.location=b;window.setTimeout(function(){c=j;window.location="http://itunes.apple.com/cn/app/id432274380"},250);window.setTimeout(function(){c&&window.location.reload()},500)}})});
Ii.on("init",function(){$(document.body).on("click.follow","a[data-follow]",function(){if(this.name)return qk("末清除的 name 属性:",this);var b=this.getAttribute("data-follow");(b=b&&Ak[b])&&b.call(this)})});
Ii.on("init",function(){$(document.body).on("click.video","div[data-swfurl]",function(b){var c=b.currentTarget,d=$(b.currentTarget).data("swfurl");if(!Ic(c,k,"zh-summary"))if(sb||gi)c=J("video-info",c),window.open(c.innerHTML);else{var e=K("embed"),b=-1<d.indexOf("tudou");if(-1<d.indexOf("youku")){var g=d.match(/\w{10,}/g),h="";g&&g.length&&(h="http://static.youku.com/v1.0.0179/v/swf/loader.swf?VideoIDS="+g[0]+"&embedid=-&showAd=0&isAutoPlay=true&isShowRelatedVideo=false");d=h||d}b&&(d=d.replace("/v.swf",
"&autoPlay=true/v.swf"));d=[["src",d],["type","application/x-shockwave-flash"],["allowscriptaccess","never"],["allowfullscreen","true"],["wmode","opaque"],["width","420"],["height","350"],["class","video"],["pluginspage","http://get.adobe.com/cn/flashplayer/"]];b&&d.push(["flashvars","playMovie=true&auto=true"]);z.forEach(d,function(b){e.setAttribute(b[0],b[1])});b=K("a",{"class":"zg-link-gray-normal video-player-close",href:"#"},"收起视频");d=K("div","video-player-box",[e,K("div","video-player-foot",
b)]);vd(b,"click",function(b){b.preventDefault();b=Ic(b.target,k,"video-player-box");R(rc(b),j);L(b)});kc(d,c);R(c,m)}})});Ii.on("postinit",function(){window.FastClick&&FastClick.attach(document.body)});Ii.on("postinit",function(){var b=new Nk({url:yg,data:{loc:location.href,channel:za()+ab()},dataType:"polling",converters:{"text polling":function(b){return JSON.parse(b.replace(/^\+;/,""))}}});b.addEventListener("message",function(b){Kk(b.data)});b.Qy()});
Ii.on("init",function(){new Qk;Yk.prototype.R.offsetTop=-60;var b=$('div[data-widget="navigable"], ul[data-widget="navigable"]');if(1===b.length){var c=b.data("navigable-options"),c=new Yk(c);c.n(b.get(0));var d=$("#zh-load-more");c.on("action",function(b){b.data.index>=b.data.size&&d.is(":visible")&&d[0].click()})}});a.$k=function(){bj.call(this);this.queue=[]};y($k,bj);$k.prototype.add=function(b){z.contains(this.queue,b)||(this.queue.push(b),N(b,"finish",this.HF,m,this))};$k.prototype.remove=function(b){z.remove(this.queue,b)&&wd(b,"finish",this.HF,m,this)};$k.prototype.p=function(){z.forEach(this.queue,function(b){b.C()});this.queue.length=0;$k.m.p.call(this)};a.al=function(){$k.call(this);this.Wv=0};y(al,$k);
al.prototype.play=function(b){if(0==this.queue.length)return m;if(b||this.da==aj)this.Wv=0,this.Xh();else if(1==this.da)return m;this.Od("play");-1==this.da&&this.Od("resume");var c=-1==this.da&&!b;this.startTime=za();this.wn=k;this.da=1;z.forEach(this.queue,function(d){(!c||-1==d.da)&&d.play(b)});return j};al.prototype.stop=function(b){z.forEach(this.queue,function(c){c.da==aj||c.stop(b)});this.da=aj;this.wn=za();this.Od("stop");this.Yh()};
al.prototype.HF=function(){this.Wv++;this.Wv==this.queue.length&&(this.wn=za(),this.da=aj,this.Od("finish"),this.Yh())};a.bl=function(b,c,d){M.call(this);this.zj=b;this.Pg=c;this.ga=d;this.Su=v(this.SQ,this)};y(bl,M);t=bl.prototype;t.qt=m;t.nG=0;t.oa=k;t.fire=function(){!this.oa&&!this.nG?this.Hg():this.qt=j};t.stop=function(){this.oa&&(Gd.clearTimeout(this.oa),this.oa=k,this.qt=m)};t.p=function(){bl.m.p.call(this);this.stop()};t.SQ=function(){this.oa=k;this.qt&&!this.nG&&(this.qt=m,this.Hg())};t.Hg=function(){this.oa=Jd(this.Su,this.Pg);this.zj.call(this.ga)};a.cl=function(){M.call(this);this.e=k;this.lastPosition=0;this.Sv=this.wS=300;this.Ar=j;this.Du=m;this.zT=150};y(cl,Hk);t=cl.prototype;t.v=function(){if(!(sb&&!hi||z.contains(Kg,"back_to_top"))){this.e=fc(this.vT);document.body.appendChild(this.e);var b=this.g(),c=new bl(this.yy,this.zT,this);b.c(window,"scroll",function(){c.fire()});b.c(this.e,"click",this.dK)}};t.vT='<div class="zh-backtotop" style="display:none"><div class="arrow"></div><div class="stick"></div></div>';
t.dK=function(){var b=Zb(document),c=$b(document),d=c.x,c=c.y,e=new al,g=this.g();e.add(new lj(b,[d,c],[0,0],this.wS,sj));e.add(new nj(this.e,this.Sv,rj));g.c(e,"finish",this.gQ);g.c(e,"begin",this.RP);e.play();W.X("ga_click_back_to_top")};t.RP=function(){this.Du=this.Ar=j};t.gQ=function(){this.Du=m};t.yy=function(){if(!this.Du){var b=$b(document).y,c=sb?500:1E3;this.Ar?b>=c&&((new oj(this.e,this.Sv,qj)).play(),this.Ar=m):b<c&&((new nj(this.e,this.Sv,rj)).play(),this.Ar=j)}};a.dl=function(){};dl.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";dl.prototype.WJ="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";a.el=function(){M.call(this)};y(el,Hk);a.fl=k;el.prototype.v=function(){fl=this;gl(this)};a.gl=function(b){b.Gj=new V(m);P(b.g(),b.Gj,"success",b.CQ);b.Gj.ajax("/noti7/new?r="+ +new Date,k,"GET")};el.prototype.CQ=function(){var b=Ge(this.Gj);b&&!b.r&&Kk([b])};a.jl=function(b,c,d,e,g,h,l,n,q){var r=hl(d),x=ng(b),E=dg(b);E&&x.uE(new Of(E.left,E.top,E.right-E.left,E.bottom-E.top));var E=Sb(b),G=Sb(d);if(E.za()!=G.za()){var I=E.za().body,G=G.Pa(),Q=new Mb(0,0),X=ac(Rb(I)),na=I;do{var Xa=X==G?bg(na):gg(na);Q.x+=Xa.x;Q.y+=Xa.y}while(X&&X!=G&&(na=X.frameElement)&&(X=X.parent));I=Nb(Q,bg(I));A&&!Kc(E)&&(I=Nb(I,Lc(E)));x.left+=I.x;x.top+=I.y}b=(c&4&&cg(b)?c^2:c)&-5;x=new Mb(b&2?x.left+x.width:x.left,b&1?x.top+x.height:x.top);x=Nb(x,r);g&&(x.x+=(b&2?-1:1)*g.x,x.y+=
(b&1?-1:1)*g.y);var Na;if(l)if(q)Na=q;else if(Na=dg(d))Na.top-=r.y,Na.right-=r.x,Na.bottom-=r.y,Na.left-=r.x;return il(x,d,e,h,Na,l,n)},a.hl=function(b){var c;if(b=b.offsetParent){var d="HTML"==b.tagName||"BODY"==b.tagName;if(!d||"static"!=Wf(b))c=bg(b),d||(d=(d=cg(b))&&B?-b.scrollLeft:d&&(!A||!Eb("8"))?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollLeft,c=Nb(c,new Mb(d,b.scrollTop)))}return c||new Mb},a.il=function(b,c,d,e,g,h,l){var b=b.clone(),n=0,q=(d&4&&cg(c)?d^2:d)&-5,d=mg(c),l=l?l.clone():
d.clone();if(e||0!=q)q&2?b.x-=l.width+(e?e.right:0):e&&(b.x+=e.left),q&1?b.y-=l.height+(e?e.bottom:0):e&&(b.y+=e.top);if(h){if(g){n=b;e=0;if(65==(h&65)&&(n.x<g.left||n.x>=g.right))h&=-2;if(132==(h&132)&&(n.y<g.top||n.y>=g.bottom))h&=-5;n.x<g.left&&h&1&&(n.x=g.left,e|=1);n.x<g.left&&(n.x+l.width>g.right&&h&16)&&(l.width=Math.max(l.width-(n.x+l.width-g.right),0),e|=4);n.x+l.width>g.right&&h&1&&(n.x=Math.max(g.right-l.width,g.left),e|=1);h&2&&(e|=(n.x<g.left?16:0)|(n.x+l.width>g.right?32:0));n.y<g.top&&
h&4&&(n.y=g.top,e|=2);n.y>=g.top&&(n.y+l.height>g.bottom&&h&32)&&(l.height=Math.max(l.height-(n.y+l.height-g.bottom),0),e|=8);n.y+l.height>g.bottom&&h&4&&(n.y=Math.max(g.bottom-l.height,g.top),e|=2);h&8&&(e|=(n.y<g.top?64:0)|(n.y+l.height>g.bottom?128:0));n=e}else n=256;if(n&496)return n}Yf(c,b);Pb(d,l)||(g=Kc(Sb(Rb(c))),A&&(!g||!Eb("8"))?(b=c.style,g?(g=vg(c),c=eg(c),b.pixelWidth=l.width-c.left-g.left-g.right-c.right,b.pixelHeight=l.height-c.top-g.top-g.bottom-c.bottom):(b.pixelWidth=l.width,b.pixelHeight=
l.height)):(c=c.style,B?c.MozBoxSizing="border-box":C?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(l.width,0)+"px",c.height=Math.max(l.height,0)+"px"));return n};a.kl=function(){};kl.prototype.na=ba();a.ll=function(b,c,d){this.element=b;this.Lf=c;this.nR=d};y(ll,kl);ll.prototype.na=function(b,c,d){jl(this.element,this.Lf,b,c,i,d,this.nR)};a.ml=function(b,c){this.Ch=b instanceof Mb?b:new Mb(b,c)};y(ml,kl);ml.prototype.na=function(b,c,d,e){jl(Zf(b),0,b,c,this.Ch,d,k,e)};a.nl=function(b,c){this.Sy=4;this.Ks=c||i;ph.call(this,b)};y(nl,ph);nl.prototype.$c=function(b){this.Ks=b||i;this.Q()&&this.na()};nl.prototype.na=function(){if(this.Ks){var b=!this.Q()&&"move_offscreen"!=this.Oh(),c=this.h();b&&(c.style.visibility="hidden",R(c,j));this.Ks.na(c,this.Sy,this.$x);b&&R(c,m)}};a.ol=function(b,c,d){this.ba=d||(b?Sb(H(b)):Sb());nl.call(this,this.ba.o("div",{style:"position:absolute;display:none;"}));this.Ii=new Mb(1,1);this.Va=new Qd;b&&this.attach(b);c!=k&&xc(this.h(),c)};y(ol,nl);a.pl=[];t=ol.prototype;t.bc=k;t.className="goog-tooltip";t.st=500;t.Br=0;t.H=p("ba");t.attach=function(b){b=H(b);this.Va.add(b);N(b,"mouseover",this.kd,m,this);N(b,"mouseout",this.wl,m,this);N(b,"mousemove",this.vl,m,this);N(b,"focus",this.Ce,m,this);N(b,"blur",this.wl,m,this)};
t.detach=function(b){if(b)b=H(b),ql(this,b),this.Va.remove(b);else{for(var c=this.Va.Fa(),d=0;b=c[d];d++)ql(this,b);this.Va.clear()}};a.ql=function(b,c){wd(c,"mouseover",b.kd,m,b);wd(c,"mouseout",b.wl,m,b);wd(c,"mousemove",b.vl,m,b);wd(c,"focus",b.Ce,m,b);wd(c,"blur",b.wl,m,b)};t.kw=p("Br");t.ge=function(b){this.h().innerHTML=b};t.dh=function(b){var c=this.h();c&&L(c);ol.m.dh.call(this,b);b&&(c=this.ba.za().body,c.insertBefore(b,c.lastChild))};t.Jc=u(33);t.mw=u(11);
t.Xd=function(){return this.tm?this.Q()?4:1:this.xl?3:this.Q()?2:0};t.Tr=function(b){if(!this.Q())return m;var c=bg(this.h()),d=mg(this.h());return c.x<=b.x&&b.x<=c.x+d.width&&c.y<=b.y&&b.y<=c.y+d.height};t.zo=function(){if(!ph.prototype.zo.call(this))return m;if(this.anchor)for(var b,c=0;b=pl[c];c++)sc(b.h(),this.anchor)||b.w(m);z.Rr(pl,this);b=this.h();b.className=this.className;rl(this);N(b,"mouseover",this.Tw,m,this);N(b,"mouseout",this.TD,m,this);sl(this);return j};
t.Hj=function(){z.remove(pl,this);for(var b=this.h(),c,d=0;c=pl[d];d++)c.anchor&&sc(b,c.anchor)&&c.w(m);this.kG&&tl(this.kG);wd(b,"mouseover",this.Tw,m,this);wd(b,"mouseout",this.TD,m,this);this.anchor=i;0==this.Xd()&&(this.jt=m);ph.prototype.Hj.call(this)};t.by=function(b,c){this.anchor==b&&this.Va.contains(this.anchor)&&(this.jt||!this.SY?(this.w(m),this.Q()||(this.anchor=b,this.$c(c||ul(this,0)),this.w(j))):this.anchor=i);this.tm=i};t.Lh=p("Va");t.jr=p("bc");
t.iF=function(b){this.xl=i;b==this.anchor&&(this.bc==k||this.bc!=this.h()&&!this.Va.contains(this.bc))&&(!this.Qk||!this.Qk.bc)&&this.w(m)};a.vl=function(b,c){var d=Lc(b.ba);b.Ii.x=c.clientX+d.x;b.Ii.y=c.clientY+d.y};t.kd=function(b){var c=wl(this,b.target);this.bc=c;rl(this);c!=this.anchor&&(this.anchor=c,xl(this,c),yl(this),vl(this,b))};a.wl=function(b,c){try{for(;c&&!b.Va.contains(c);)c=c.parentNode;return c}catch(d){return k}};t.vl=function(b){vl(this,b);this.jt=j};
t.Ce=function(b){this.bc=b=wl(this,b.target);this.jt=j;if(this.anchor!=b){this.anchor=b;var c=ul(this,1);rl(this);xl(this,b,c);yl(this)}};a.ul=function(b,c){if(0==c){var d=b.Ii.clone();return new zl(d)}return new Al(b.bc)},a.yl=function(b){if(b.anchor)for(var c,d=0;c=pl[d];d++)sc(c.h(),b.anchor)&&(c.Qk=b,b.kG=c)};
t.wl=function(b){var c=wl(this,b.target),d=wl(this,b.relatedTarget);c!=d&&(c==this.bc&&(this.bc=k),sl(this),this.jt=m,this.Q()&&(!b.relatedTarget||!sc(this.h(),b.relatedTarget))?tl(this):this.anchor=i)};t.Tw=function(){var b=this.h();this.bc!=b&&(rl(this),this.bc=b)};t.TD=function(b){var c=this.h();if(this.bc==c&&(!b.relatedTarget||!sc(c,b.relatedTarget)))this.bc=k,tl(this)};
a.xl=function(b,c,d){b.tm||(b.tm=Jd(v(b.by,b,c,d),b.st))},a.sl=function(b){b.tm&&(Gd.clearTimeout(b.tm),b.tm=i)},a.tl=function(b){2==b.Xd()&&(b.xl=Jd(v(b.iF,b,b.anchor),b.kw()))},a.rl=function(b){b.xl&&(Gd.clearTimeout(b.xl),b.xl=i)};t.p=function(){this.w(m);sl(this);this.detach();this.h()&&L(this.h());this.bc=k;delete this.ba;ol.m.p.call(this)};a.zl=function(b,c){ml.call(this,b,c)};y(zl,ml);
zl.prototype.na=function(b,c,d){c=Zf(b);c=dg(c);d=d?new Mf(d.top+10,d.right,d.bottom,d.left+10):new Mf(10,0,0,10);il(this.Ch,b,4,d,c,9)&496&&il(this.Ch,b,4,d,c,5)};a.Al=function(b){ll.call(this,b,3)};y(Al,ll);Al.prototype.na=function(b,c,d){var e=new Mb(10,0);jl(this.element,this.Lf,b,c,e,d,9)&496&&jl(this.element,2,b,1,e,d,5)};a.Bl=function(b,c,d){ol.call(this,b,c,d)};y(Bl,ol);t=Bl.prototype;t.kL=m;t.jL=100;t.yp=m;t.Bs=function(){Bl.m.Bs.call(this);this.nq=Pf(ng(this.h()));this.anchor&&(this.Cu=Pf(ng(this.anchor)));this.yp=this.kL;N(this.H().za(),"mousemove",this.vl,m,this)};t.Hj=function(){wd(this.H().za(),"mousemove",this.vl,m,this);this.Cu=this.nq=k;this.yp=m;Bl.m.Hj.call(this)};
t.Tr=function(b){if(this.Al){var c=bg(this.h()),d=mg(this.h());return c.x-this.Al.left<=b.x&&b.x<=c.x+d.width+this.Al.right&&c.y-this.Al.top<=b.y&&b.y<=c.y+d.height+this.Al.bottom}return Bl.m.Tr.call(this,b)};a.Cl=function(b,c){if(b.Cu&&b.Cu.contains(c)||b.Tr(c))return j;var d=b.Qk;return!!d&&d.Tr(c)};t.iF=function(b){this.xl=i;b==this.anchor&&(!Cl(this,this.Ii)&&(!this.jr()&&(!this.Qk||!this.Qk.bc))&&(!B||!(0==this.Ii.x&&0==this.Ii.y)))&&this.w(m)};
t.vl=function(b){var c=this.Q();if(this.nq){var d=Lc(this.H()),d=new Mb(b.clientX+d.x,b.clientY+d.y);Cl(this,d)?c=m:this.yp&&(c=Nf(this.nq,d)>=Nf(this.nq,this.Ii))}if(c){if(tl(this),this.bc=k,c=this.Qk)c.bc=k}else 3==this.Xd()&&rl(this);Bl.m.vl.call(this,b)};t.Tw=function(){this.jr()!=this.h()&&(this.yp=m,this.bc=this.h())};t.kw=function(){return this.yp?this.jL:Bl.m.kw.call(this)};a.Dl=function(b,c,d,e){ol.call(this,k,k,d);qa(b)?this.vx=b:this.wB=b;this.wK=c!=m;this.jA=[];this.Ca=e||(d?d.za():document);N(this.Ca,"mouseover",this.UD,m,this)};y(Dl,Bl);t=Dl.prototype;t.p=function(){Dl.m.p.call(this);wd(this.Ca,"mouseover",this.UD,m,this)};t.vx=function(b){return b.tagName in this.wB&&!!b.getAttribute(this.wB[b.tagName])};t.UD=function(b){if(b=b.target)if(this.vx(b))this.$c(k),El(this,b);else if(this.wK&&(b=Hc(b,v(this.vx,this),m,this.rY)))this.$c(k),El(this,b)};
a.El=function(b,c,d){if(c==b.xe)rl(b);else if(c!=b.anchor){if(1==b.Xd()||4==b.Xd())sl(b),Fl(b);var e=new Gl("trigger",b,c,i);b.Lh().contains(c)||(b.attach(c),b.jA.push(c));b.anchor=c;b.Cy(e)?xl(b,c,d||b.Ks):Fl(b)}},a.Hl=function(b,c){var d=z.indexOf(b.jA,c);-1!=d&&(b.detach(c),b.jA.splice(d,1))};t.Cy=function(b){return this.dispatchEvent(b)};a.Fl=function(b){b.dispatchEvent(new Gl("canceltrigger",b,b.anchor||k));Hl(b,b.anchor);delete b.anchor};
t.Hj=function(){Dl.m.Hj.call(this);k!=this.xe&&Hl(this,this.xe);this.xe=k};t.kd=function(b){var c=wl(this,b.target);c&&c!=this.anchor?El(this,c):Dl.m.kd.call(this,b)};t.wl=function(b){var c=this.anchor,d=this.Xd();Dl.m.wl.call(this,b);if(d!=this.Xd()&&(1==d||4==d))this.anchor=c,Fl(this)};t.by=function(b,c){Dl.m.by.call(this,b,c);this.Q()?(b!=this.xe&&Hl(this,this.xe),this.xe=b):(sl(this),Fl(this))};a.Gl=function(b,c,d,e){gd.call(this,b,c);this.anchor=d;this.data=e};y(Gl,gd);a.Il=!!window.DOMTokenList,a.Jl=Il?function(b){return b.classList}:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},a.Kl=Il?function(b,c){return b.classList.contains(c)}:function(b,c){return z.contains(Jl(b),c)},a.Ll=Il?function(b,c){b.classList.add(c)}:function(b,c){Kl(b,c)||(b.className+=0<b.className.length?" "+c:c)},a.Ml=Il?function(b,c){b.classList.remove(c)}:function(b,c){Kl(b,c)&&(b.className=z.filter(Jl(b),function(b){return b!=c}).join(" "))};a.Nl=function(b,c){T.call(this,c);this.Ga=b||""};y(Nl,T);Nl.prototype.Tf=k;a.Ol="placeholder"in document.createElement("input");t=Nl.prototype;t.Nn=m;t.o=function(){this.e=this.H().o("input",{type:"text"})};t.ea=function(b){Nl.m.ea.call(this,b);this.Ga||(this.Ga=b.getAttribute("label")||"");Jc(Rb(b))==b&&(this.Nn=j,Ml(this.h(),this.Hm));Ol?this.h().placeholder=this.Ga:Nc(this.h(),Uc.Tp,this.Ga)};
t.z=function(){Nl.m.z.call(this);var b=new le(this);b.c(this.h(),"focus",this.HD);b.c(this.h(),"blur",this.yw);Ol?this.N=b:(B&&b.c(this.h(),["keypress","keydown","keyup"],this.RM),b.c(ac(Rb(this.h())),"load",this.HN),this.N=b,Pl(this));this.xh();this.h().WO=this};t.ib=function(){Nl.m.ib.call(this);this.N&&(this.N.C(),this.N=k);this.h().WO=k};a.Pl=function(b){!b.bM&&(b.N&&b.h().form)&&(b.N.c(b.h().form,"submit",b.UM),b.bM=j)};t.p=function(){Nl.m.p.call(this);this.N&&(this.N.C(),this.N=k)};t.Hm="label-input-label";
t.HD=function(){this.Nn=j;Ml(this.h(),this.Hm);if(!Ol&&!Ql(this)&&!this.bO){var b=this,c=function(){b.h().value=""};A?Jd(c,10):c()}};t.yw=function(){Ol||(this.N.Ba(this.h(),"click",this.HD),this.Tf=k);this.Nn=m;this.xh()};t.RM=function(b){27==b.keyCode&&("keydown"==b.type?this.Tf=this.h().value:"keypress"==b.type?this.h().value=this.Tf:"keyup"==b.type&&(this.Tf=k),b.preventDefault())};t.UM=function(){Ql(this)||(this.h().value="",Jd(this.tM,10,this))};t.tM=function(){Ql(this)||(this.h().value=this.Ga)};
t.HN=function(){this.xh()};a.Ql=function(b){return!!b.h()&&""!=b.h().value&&b.h().value!=b.Ga};t.clear=function(){this.h().value="";this.Tf!=k&&(this.Tf="")};t.reset=function(){Ql(this)&&(this.clear(),this.xh())};t.sa=function(b){this.Tf!=k&&(this.Tf=b);this.h().value=b;this.xh()};t.U=function(){return this.Tf!=k?this.Tf:Ql(this)?this.h().value:""};
t.xh=function(){Ol?this.h().placeholder!=this.Ga&&(this.h().placeholder=this.Ga):(Pl(this),Nc(this.h(),Uc.Tp,this.Ga));if(Ql(this))b=this.h(),Ml(b,this.Hm);else{if(!this.bO&&!this.Nn){var b=this.h();Ll(b,this.Hm)}Ol||Jd(this.kS,10,this)}};t.gb=function(b){this.h().disabled=!b;var c=this.h(),d=this.Hm+"-disabled";!b?Ll(c,d):Ml(c,d)};t.isEnabled=function(){return!this.h().disabled};t.kS=function(){this.h()&&(!Ql(this)&&!this.Nn)&&(this.h().value=this.Ga)};a.Rl=function(){};a.Sl=function(){};y(Sl,Rl);Sl.prototype.cb=function(){var b=0;O.forEach(this.dd(j),function(){b++});return b};Sl.prototype.clear=function(){var b=O.toArray(this.dd(j)),c=this;z.forEach(b,function(b){c.remove(b)})};a.Tl=function(b){this.hh=b};y(Tl,Sl);t=Tl.prototype;t.xx=function(){try{return!!this.hh&&!!this.hh.getItem}catch(b){}return m};t.set=function(b,c){try{this.hh.setItem(b,c)}catch(d){f("Storage mechanism: Quota exceeded")}};t.get=function(b){b=this.hh.getItem(b);!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.hh.removeItem(b)};t.cb=function(){return this.hh.length};
t.dd=function(b){var c=0,d=this.hh,e=new Ld;e.next=function(){c>=d.length&&f(O.Za);var e=d.key(c++);if(b)return e;e=d.getItem(e);oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){this.hh.clear()};a.Ul=function(){var b=k;try{b=window.localStorage||k}catch(c){}this.hh=b};y(Ul,Tl);a.Wl=function(b,c){if(A&&!Gb(9)){Vl||(Vl=new Md);this.rd=Vl.get(b);this.rd||(c?this.rd=document.getElementById(c):(this.rd=document.createElement("userdata"),this.rd.addBehavior("#default#userData"),document.body.appendChild(this.rd)),Vl.set(b,this.rd));this.bA=b;try{this.rd.load(this.bA)}catch(d){this.rd=k}}};y(Wl,Sl);a.Xl={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},a.Vl=k;t=Wl.prototype;t.rd=k;t.bA=k;
a.Yl=function(b){return"_"+encodeURIComponent(b).replace(/[.!~*'()%]/g,function(b){return Xl[b]})};t.xx=function(){return!!this.rd};t.set=function(b,c){this.rd.setAttribute(Yl(b),c);Zl(this)};t.get=function(b){b=this.rd.getAttribute(Yl(b));!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.rd.removeAttribute(Yl(b));Zl(this)};t.cb=function(){return $l(this).attributes.length};
t.dd=function(b){var c=0,d=$l(this).attributes,e=new Ld;e.next=function(){c>=d.length&&f(O.Za);var e=d[c++];if(b)return decodeURIComponent(e.nodeName.replace(/\./g,"%")).substr(1);e=e.nodeValue;oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){for(var b=$l(this),c=b.attributes.length;0<c;c--)b.removeAttribute(b.attributes[c-1].nodeName);Zl(this)};a.Zl=function(b){try{b.rd.save(b.bA)}catch(c){f("Storage mechanism: Quota exceeded")}},a.$l=function(b){return b.rd.XMLDocument.documentElement};a.am=function(b,c){this.Jl=b;this.Pj=c+"::"};y(am,Sl);t=am.prototype;t.Jl=k;t.Pj="";t.set=function(b,c){this.Jl.set(this.Pj+b,c)};t.get=function(b){return this.Jl.get(this.Pj+b)};t.remove=function(b){this.Jl.remove(this.Pj+b)};t.dd=function(b){var c=this.Jl.dd(j),d=this,e=new Ld;e.next=function(){for(var e=c.next();e.substr(0,d.Pj.length)!=d.Pj;)e=c.next();return b?e.substr(d.Pj.length):d.Jl.get(e)};return e};a.bm=function(b){var c=new Ul;return c.xx()?b?new am(c,b):c:k},a.cm=function(b){b=new Wl(b||"UserDataSharedStore");return b.xx()?b:k};a.fm=function(b,c){M.call(this);this.CY=k;this.minHeight=c||66;this.Fb=b;this.g().c(this.Fb,["input","propertychange"],this.Ap);dm(this);em(this,j);D.add(this.Fb,"zu-seamless-input-origin-element")};y(fm,Hk);fm.prototype.Ap=function(){return em(this)};
a.em=function(b,c){var d=b.Fb.value.replace(/[<>]/g,"a").replace(/[\n\r]/g,"<br>");if(c||b.mR!==d)b.mR=d,b.Yg&&(b.Yg.innerHTML=d,d=b.Yg.scrollHeight,d=d>b.minHeight?d:b.minHeight,b.Fb.style.height=Xf(d,j),b.Fb.style.minHeight=d+"px",b.dispatchEvent("change"))},a.dm=function(b){if(!b.Yg){var c=$(b.Fb).css("white-space","pre");if(0!==sg(b.Fb).width){var d=K("div",{style:"overflow:hidden;position:relative;height:0;"},b.Yg=K("div","zu-seamless-input-mock-element"));document.body.appendChild(d);$.each("fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),
function(d,g){b.Yg.style[g]=c.css(g)});b.Yg.innerHTML=b.Fb.value}}};a.km=function(b,c,d){M.call(this);this.nf=b;this.uf=d;this.L=c;N(c,[gm,hm,im,jm],this);this.ac=k;this.fb=[];this.Vc=-1;this.Gc=0;this.Nd=this.Rb=k;this.sE={}};y(km,Fd);t=km.prototype;t.Wh=10;t.Om=j;t.tB=m;t.mI=m;t.QH=m;a.gm="hilite",a.hm="select",a.jm="dismiss",a.im="canceldismiss",a.lm={pW:"rowhilite",qV:gm,tW:hm,EI:jm,MU:im,UW:"update",vi:"suggestionsupdate"};t=km.prototype;
t.handleEvent=function(b){if(b.target==this.L)switch(b.type){case gm:this.Ee(b.Uo);break;case hm:this.ak();break;case im:mm(this);break;case jm:this.Ni()}};t.nt=function(b,c){this.ac!=b&&(this.ac=b,this.nf.ci(this.ac,this.Wh,v(this.mP,this),c),mm(this))};t.qb=function(){return this.L.Q()};
a.nm=function(b){var c=b.Gc+b.fb.length-1;b.Vc>=b.Gc&&b.Vc<c?b.Ee(b.Vc+1):-1==b.Vc?b.Ee(b.Gc):b.Vc==c&&(b.tB?b.Ee(-1):b.mI&&b.Ee(b.Gc))},a.om=function(b){b.Vc>b.Gc?b.Ee(b.Vc-1):b.tB&&b.Vc==b.Gc?b.Ee(-1):b.mI&&(-1==b.Vc||b.Vc==b.Gc)&&b.Ee(b.Gc+b.fb.length-1)};t.Ee=function(b){this.Vc=b;this.L.Ee(b);return-1!=pm(this,b)};
t.ak=function(){var b=pm(this,this.Vc);if(-1!=b){var b=this.fb[b],c=this.uf.ei(b);this.QH?(this.ac=k,this.Ni()):this.Ec();c||(this.dispatchEvent({type:"update",Uo:b}),this.QH&&this.uf.update(j));return j}this.Ec();this.dispatchEvent({type:"update",Uo:k});return m};t.Ec=function(){this.Vc=-1;this.ac=k;this.Gc+=this.fb.length;this.fb=[];window.clearTimeout(this.Nd);this.Nd=k;this.L.Ec();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(jm)};
t.Ni=function(){this.Nd||(this.Nd=window.setTimeout(v(this.Ec,this),100))};t.jE=function(){return this.Nd?(window.clearTimeout(this.Nd),this.Nd=k,j):m};a.mm=function(b){b.jE()||window.setTimeout(v(b.jE,b),10)};t.p=function(){km.m.p.call(this);delete this.sE;this.L.C();this.uf.C();this.nf=k};t.mP=function(b,c,d){this.ac==b&&this.$l(c,d)};
t.$l=function(b,c){var d="object"==ja(c)&&c,e=(d?d.UX():c)?pm(this,this.Vc):-1;this.Gc+=this.fb.length;this.fb=b;for(var g=[],h=0;h<b.length;++h)g.push({id:this.Gc+h,data:b[h]});h=k;this.Rb&&(h=this.sE[ua(this.Rb)]||this.Rb);this.L.LJ=h;this.L.$l(g,this.ac,this.Rb);h=this.Om;d&&d.hM()!==i&&(h=d.hM());(h||0<=e)&&0!=g.length&&this.ac?this.Ee(0<=e?this.Gc+e:this.Gc):this.Vc=-1;this.dispatchEvent("suggestionsupdate")};a.pm=function(b,c){var d=c-b.Gc;return 0>d||d>=b.fb.length?-1:d};
t.Jk=function(b){var c=this.uf;c.Jk.apply(c,arguments)};t.update=function(b){this.uf.update(b)};km.qh=lm;a.sm=function(b){var c;a:{var d=0,e=0;if(qm(b))d=b.selectionStart,e=-1;else if(A){var g=rm(b);c=g[0];g=g[1];if(c.inRange(g)){c.setEndPoint("EndToStart",g);if("textarea"==b.type){g.duplicate();d=b=c.text;for(e=m;!e;)0==c.compareEndPoints("StartToEnd",c)?e=j:(c.moveEnd("character",-1),c.text==b?d+="\r\n":e=j);c=[d.length,-1];break a}d=c.text.length;e=-1}}c=[d,e]}return c[0]},a.rm=function(b){var c=b.ownerDocument||b.document,d=c.selection.createRange();"textarea"==b.type?(c=c.body.createTextRange(),
c.moveToElementText(b)):c=b.createTextRange();return[c,d]},a.tm=function(b,c){"textarea"==b.type&&(c=Ia(b.value.substring(0,c)).length);return c},a.qm=function(b){try{return"number"==typeof b.selectionStart}catch(c){return m}};a.um=function(b,c){M.call(this);b&&this.attach(b,c)};y(um,Fd);t=um.prototype;t.e=k;t.Zr=k;t.Gx=k;t.$r=k;t.ae=-1;t.Vh=-1;t.Au=m;
a.vm={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},a.wm={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},a.xm=A||C&&Eb("525"),a.ym=kb&&B;t=um.prototype;
t.ff=function(b){if(C&&(17==this.ae&&!b.ctrlKey||18==this.ae&&!b.altKey||kb&&91==this.ae&&!b.metaKey))this.Vh=this.ae=-1;-1==this.ae&&(b.ctrlKey&&17!=b.keyCode?this.ae=17:b.altKey&&18!=b.keyCode?this.ae=18:b.metaKey&&91!=b.keyCode&&(this.ae=91));xm&&!Tg(b.keyCode,this.ae,b.shiftKey,b.ctrlKey,b.altKey)?this.handleEvent(b):(this.Vh=B?Ug(b.keyCode):b.keyCode,ym&&(this.Au=b.altKey))};t.aN=function(b){this.Vh=this.ae=-1;this.Au=b.altKey};
t.handleEvent=function(b){var c=b.Ub,d,e,g=c.altKey;A&&"keypress"==b.type?(d=this.Vh,e=13!=d&&27!=d?c.keyCode:0):C&&"keypress"==b.type?(d=this.Vh,e=0<=c.charCode&&63232>c.charCode&&Sg(d)?c.charCode:0):rb?(d=this.Vh,e=Sg(d)?c.keyCode:0):(d=c.keyCode||this.Vh,e=c.charCode||0,ym&&(g=this.Au),kb&&(63==e&&224==d)&&(d=191));var h=d,l=c.keyIdentifier;d?63232<=d&&d in vm?h=vm[d]:25==d&&b.shiftKey&&(h=9):l&&l in wm&&(h=wm[l]);b=h==this.ae;this.ae=h;c=new zm(h,e,b,c);c.altKey=g;this.dispatchEvent(c)};t.h=p("e");
t.attach=function(b,c){this.$r&&this.detach();this.e=b;this.Zr=N(this.e,"keypress",this,c);this.Gx=N(this.e,"keydown",this.ff,c,this);this.$r=N(this.e,"keyup",this.aN,c,this)};t.detach=function(){this.Zr&&(yd(this.Zr),yd(this.Gx),yd(this.$r),this.$r=this.Gx=this.Zr=k);this.e=k;this.Vh=this.ae=-1};t.p=function(){um.m.p.call(this);this.detach()};a.zm=function(b,c,d,e){e&&this.v(e,i);this.type="key";this.keyCode=b;this.charCode=c;this.repeat=d};y(zm,kd);a.Am=function(b,c,d,e){M.call(this);e=e||150;this.Ml=d!=k?d:j;this.Wo=b||",;";this.pL=this.Wo.substring(0,1);b=this.Ml?"[\\s"+this.Wo+"]+":"[\\s]+";this.RH=RegExp("^"+b+"|"+b+"$","g");this.CS=RegExp("\\s*["+this.Wo+"]$");this.UE=c||"";this.GR=this.Ml;this.oa=0<e?new Hd(e):k;this.ec=new le(this);this.lu=new le(this);this.nb=new um;this.ME=-1};y(Am,M);a.Bm=(fi||gi)&&!Eb("533.17.9");t=Am.prototype;t.pU=j;t.eM=j;t.YH=m;t.ES=j;t.DS=j;t.ou=k;t.$a=k;t.mo="";t.si=m;t.mz=m;t.WH=j;t.jr=p("$a");t.U=function(){return this.$a.value};
t.sa=function(b){this.$a.value=b};t.gq=function(b){ra(b)&&1==b.nodeType&&Nc(b,"haspopup",j);this.ec.c(b,"focus",this.Ce);this.ec.c(b,"blur",this.Uc);this.$a||(this.lu.c(b,"keydown",this.tQ),ra(b)&&1==b.nodeType&&Jc(Rb(b))==b&&Cm(this,b))};t.Jk=function(b){for(var c=0;c<arguments.length;c++)this.gq(arguments[c])};t.ei=function(b,c){Dm(this,b.toString(),c);return m};
a.Dm=function(b,c,d){if(ka(d)?d:b.Ml){var d=Em(b,b.U(),sm(b.$a)),e=Fm(b,b.U());b.CS.test(c)||(c=La(c)+b.pL);b.pU&&(0!=d&&!Ga(e[d-1])&&(c=" "+c),d==e.length-1&&(c+=" "));if(c!=e[d]){e[d]=c;c=b.$a;(B||A&&Eb("9"))&&c.blur();c.value=e.join("");for(var g=0,h=0;h<=d;h++)g+=e[h].length;c.focus();d=g;e=b.$a;c=d;qm(e)?e.selectionStart=c:A&&(g=rm(e),h=g[0],h.inRange(g[1])&&(c=tm(e,c),h.collapse(j),h.move("character",c),h.select()));e=b.$a;qm(e)?e.selectionEnd=d:A&&(g=rm(e),c=g[1],g[0].inRange(c)&&(d=tm(e,d),
e=tm(e,sm(e)),c.collapse(j),c.moveEnd("character",d-e),c.select()))}}else b.sa(c);b.mz=j};t.p=function(){Am.m.p.call(this);this.ou!=k&&window.clearTimeout(this.ou);this.ec.C();delete this.ec;this.lu.C();this.nb.C()};
t.Vb=function(b){switch(b.keyCode){case 40:if(this.Z.qb())return this.YH?om(this.Z):nm(this.Z),b.preventDefault(),j;if(!this.Ml)return this.update(j),b.preventDefault(),j;break;case 38:if(this.Z.qb())return this.YH?nm(this.Z):om(this.Z),b.preventDefault(),j;break;case 9:if(this.Z.qb()&&!b.shiftKey){if(this.update(),this.Z.ak()&&this.GR)return b.preventDefault(),j}else this.Z.Ec();break;case 13:if(this.Z.qb()){if(this.update(),this.Z.ak())return b.preventDefault(),b.stopPropagation(),j}else this.Z.Ec();
break;case 27:if(this.Z.qb())return this.Z.Ec(),b.preventDefault(),b.stopPropagation(),j;break;case 229:if(!this.si)return this.si||(this.ec.c(this.$a,"keyup",this.SF),this.ec.c(this.$a,"keypress",this.RF),this.si=j),j;break;default:this.oa&&!this.WH&&(this.oa.stop(),this.oa.start())}return Gm(this,b)};a.Gm=function(b,c){var d=b.Ml&&c.charCode&&-1!=b.Wo.indexOf(String.fromCharCode(c.charCode));b.ES&&d&&b.update();return b.DS&&d&&b.Z.ak()?(c.preventDefault(),j):m};t.ur=s(m);
a.Hm=function(b){b.nb.attach(b.$a);b.ec.c(b.nb,"key",b.Go);b.ec.c(b.$a,"mousedown",b.TF);A&&b.ec.c(b.$a,"keypress",b.QF)};t.Ce=function(b){Cm(this,b.target||k)};a.Cm=function(b,c){b.lu.Lc();b.Z&&mm(b.Z);c!=b.$a&&(b.$a=c,b.oa&&(b.oa.start(),b.ec.c(b.oa,Id,b.Pl)),b.mo=b.U(),Hm(b))};t.Uc=function(){Bm?this.ou=window.setTimeout(v(this.tG,this),0):this.tG()};
t.tG=function(){this.$a&&(this.ec.Ba(this.nb,"key",this.Go),this.nb.detach(),this.ec.Ba(this.$a,"keyup",this.ur),this.ec.Ba(this.$a,"mousedown",this.TF),A&&this.ec.Ba(this.$a,"keypress",this.QF),this.si&&Im(this),this.$a=k,this.oa&&(this.oa.stop(),this.ec.Ba(this.oa,Id,this.Pl)),this.Z&&this.Z.Ni())};t.Pl=function(){this.update()};t.tQ=function(b){this.Ce(b)};t.Go=function(b){this.ME=b.keyCode;this.Z&&this.Vb(b)};t.RF=function(){this.si&&229!=this.ME&&Im(this)};
t.SF=function(b){this.si&&(13==b.keyCode||77==b.keyCode&&b.ctrlKey)&&Im(this)};t.TF=function(b){this.Z&&this.De(b)};t.De=ba();a.Im=function(b){b.si&&(b.si=m,b.ec.Ba(b.$a,"keypress",b.RF),b.ec.Ba(b.$a,"keyup",b.SF))};t.QF=function(b){Gm(this,b)};t.update=function(b){if(this.$a&&(b||this.U()!=this.mo)){if(b||!this.mz){var b=sm(this.$a),c=this.U(),b=Fm(this,c)[Em(this,c,b)],b=this.RH?String(b).replace(this.RH,""):b;this.Z&&(this.Z.Rb=this.$a,this.Z.nt(b,this.U()))}this.mo=this.U()}this.mz=m};
a.Em=function(b,c,d){b=Fm(b,c);if(d==c.length)return b.length-1;for(var e=c=0,g=0;e<b.length&&g<=d;e++)g+=b[e].length,c=e;return c},a.Fm=function(b,c){if(!b.Ml)return[c];for(var d=String(c).split(""),e=[],g=[],h=0,l=m;h<d.length;h++)b.UE&&-1!=b.UE.indexOf(d[h])?(b.eM&&!l&&(e.push(g.join("")),g.length=0),g.push(d[h]),l=!l):!l&&-1!=b.Wo.indexOf(d[h])?(g.push(d[h]),e.push(g.join("")),g.length=0):g.push(d[h]);e.push(g.join(""));return e};km.Sp=Am;km.Sp.zW=",;";km.Sp.dW='"';a.Jm=function(b,c,d,e){Am.call(this,b,c,d,e)};y(Jm,Am);Jm.prototype.ei=function(b){var c=Jm.m.ei.call(this,b);b.select(this.Z.Rb);return c};km.OI=Jm;a.Km=function(b,c,d,e){M.call(this);this.Ta=b||document.body;this.ba=Sb(this.Ta);this.So=!b;this.e=k;this.ac="";this.fb=[];this.ah=[];this.yH=this.zl=-1;this.lb=m;this.className="ac-renderer";this.et="ac-row";this.PE="active";this.nu="ac-active";this.TN="ac-highlighted";this.Vk=c||k;this.aI=e!=k?e:j;this.Cr=m;this.oS=!!d;this.Jt=m;this.qs=0};y(Km,Fd);t=Km.prototype;t.h=p("e");t.yf=ca("aI");
t.$l=function(b,c,d){this.ac=c;this.fb=b;this.zl=-1;this.yH=za();this.Rb=d;this.ah=[];this.e||(this.e=b=this.ba.o("div",{style:"display:none"}),D.add(b,this.className),Mc(b,Vc.VA),b.id=gh(fh.D()),this.ba.appendChild(this.Ta,b),N(b,"click",this.qr,m,this),N(b,"mousedown",this.ej,m,this),N(b,"mouseover",this.JD,m,this));this.Jt&&(this.e.style.visibility="hidden");this.qU&&(this.e.style.minWidth=this.qU.clientWidth+"px");this.ah.length=0;this.ba.Ws(this.e);if(this.Vk&&this.Vk.W)this.Vk.W(this,this.e,
this.fb,this.ac);else{var e=k;O.forEach(this.fb,function(b){b=Lm(this,b,this.ac);this.Jt?this.e.insertBefore(b,e):this.ba.appendChild(this.e,b);e=b},this)}0==this.fb.length?this.Ec():(this.show(),this.na(),rg(this.e,j))};t.Ec=function(){this.Rb&&Nc(this.Rb,"activedescendant","");this.lb&&(this.lb=m,this.Rb&&Nc(this.Rb,Uc.zk,m),0<this.qs?(Tc(this.Dk),this.Dk=new nj(this.e,this.qs),this.Dk.play()):R(this.e,m))};
t.show=function(){this.lb||(this.lb=j,this.Rb&&(Mc(this.Rb,Vc.BI),Nc(this.Rb,Uc.yI,"list"),Nc(this.Rb,Uc.zk,j)),0<this.qs?(Tc(this.Dk),this.Dk=new oj(this.e,this.qs),this.Dk.play()):R(this.e,j))};t.Q=p("lb");a.Mm=function(b,c){var d=0<=c&&c<b.ah.length?b.ah[c]:i;b.dispatchEvent({type:"rowhilite",UY:d})&&(0<=b.zl&&D.remove(b.ah[b.zl],b.nu,b.PE),b.zl=c,d&&(D.add(d,b.nu,b.PE),b.Rb&&Nc(b.Rb,"activedescendant",d?d.id:""),fg(d,b.e)))};
t.Ee=function(b){if(-1==b)Mm(this,-1);else for(var c=0;c<this.fb.length;c++)if(this.fb[c].id==b){Mm(this,c);break}};t.na=function(){if(this.Rb&&this.So){var b;b=this.oS?3:1;this.Jt&&(b^=1);jl(this.LJ||this.Rb,b,this.e,b^1,k,k,65);this.Jt&&(this.e.style.visibility="visible")}};t.p=function(){this.e&&(wd(this.e,"click",this.qr,m,this),wd(this.e,"mousedown",this.ej,m,this),wd(this.e,"mouseover",this.JD,m,this),this.ba.removeNode(this.e),this.e=k,this.lb=m);Tc(this.Dk);this.Ta=k;Km.m.p.call(this)};
t.LG=function(b,c,d){d.innerHTML=Ua(b.data.toString())};
a.Nm=function(b,c,d){if(3==c.nodeType){var e=k;la(d)&&(1<d.length&&!b.Cr)&&(e=z.slice(d,1));var g="";d&&(la(d)&&(d=z.filter(d,function(b){return!Ga(b==k?"":String(b))})),b.Cr?la(d)?g=z.map(d,$a).join("|"):(g=d.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),g=$a(g),g=g.replace(/ /g,"|")):la(d)?g=0<d.length?$a(d[0]):"":/^\W/.test(d)||(g=$a(d)));d=g;if(0!=d.length){for(var g=c.nodeValue,h=RegExp("([\\s\\S]*?)\\b("+d+")","gi"),d=[],l=0,n=h.exec(g),q=0;n;)q++,d.push(n[1]),d.push(n[2]),l=h.lastIndex,
n=h.exec(g);d.push(g.substring(l));if(1<d.length){e=!b.Cr?1:q;for(g=0;g<e;g++)h=2*g,c.nodeValue=d[h],l=b.ba.createElement("b"),l.className=b.TN,b.ba.appendChild(l,b.ba.createTextNode(d[h+1])),l=c.parentNode.insertBefore(l,c.nextSibling),c.parentNode.insertBefore(b.ba.createTextNode(""),l.nextSibling),c=l.nextSibling;b=z.slice(d,2*e);c.nodeValue=b.join("")}else e&&Nm(b,c,e)}}else for(c=c.firstChild;c;)e=c.nextSibling,Nm(b,c,d),c=e},a.Lm=function(b,c,d){var e=b.ba.o("div",{className:b.et,id:gh(fh.D())});
Mc(e,Vc.YA);b.Vk&&b.Vk.od?b.Vk.od(c,d,e):b.LG(c,d,e);d&&b.aI&&Nm(b,e,d);D.add(e,b.et);b.ah.push(e);return e},a.Om=function(b,c){for(;c&&c!=b.e&&!D.has(c,b.et);)c=c.parentNode;return c?z.indexOf(b.ah,c):-1};t.qr=function(b){var c=Om(this,b.target);0<=c&&this.dispatchEvent({type:hm,Uo:this.fb[c].id});b.stopPropagation()};t.ej=function(b){b.stopPropagation();b.preventDefault()};t.JD=function(b){b=Om(this,b.target);0<=b&&!(300>za()-this.yH)&&this.dispatchEvent({type:gm,Uo:this.fb[b].id})};a.Pm=function(){};
Pm.prototype.W=ba();Pm.prototype.od=ba();km.iu=Km;km.iu.VU=300;km.iu.TU=Pm;a.Qm=function(b,c){M.call(this);this.gU=b;this.CA=!c;this.$=new ve};y(Qm,M);t=Qm.prototype;t.nF="GET";t.rc=i;t.PN=k;t.Mx=k;t.Az=ca("nF");t.La=ca("rc");t.vU=function(b,c,d){var d=Fe(d.target),e=[];if(d)try{e=Xc(d)}catch(g){}c(b,e)};
t.ci=function(b,c,d){var e,g=this.CA;e=new tf(this.gU);Wi(e);e.Fd.set("token",b);c=String(c);Wi(e);e.Fd.set("max_matches",c);g=String(Number(g));Wi(e);e.Fd.set("use_similar",g);if(e=e.toString())b=v(this.vU,this,b,d),this.$.Gb()&&this.$.abort(),this.Mx&&yd(this.Mx),this.Mx=vd(this.$,"success",b),this.$.send(e,this.nF,this.rc,this.PN)};t.p=function(){this.$.C();Qm.m.p.call(this)};km.aB=Qm;$.fn.placeholder=function(b){return this.each(function(){var c=$(this),d=c.data("placeholder");d||c.data("placeholder",d=new Rm(this,b));d.uq()})};a.Rm=function(b,c){b&&(this.input=b,"string"===typeof c&&(c={text:c}),F.extend(this.F={},this.R,c||{}),this.Mg=k,this.mu())},a.Sm="placeholder"in document.createElement("input");t=Rm.prototype;t.R={text:"",offsetParent:k,IB:m};t.lK=["paddingBottom","paddingTop","paddingLeft","paddingRight"];
t.bk=function(b){var c=this.input,d=this.F;d.text=b||"";Sm?(Tm(c)||Nc(c,Uc.Tp,d.text),c.setAttribute("placeholder",d.text)):xc(this.label,d.text)};a.Um=function(b){Sm?D.enable(b.input,"placeholder-hilight",m):D.enable(b.label,"placeholder-label-hilight",m)};t.C=function(){this.Mg&&(this.Mg.Lc(),this.Mg.C());L(this.label);this.label=k};
t.mu=function(){var b=this.input,c=this.F;c.text||(c.text=b.getAttribute("placeholder"));if(Sm)return this.bk(c.text);var d=this.input,e=eg(d),g=K("label"),h=hg(d,this.offsetParent());Rf(g,{color:"gray",cursor:"text",position:"absolute",left:h.x+e.left+"px",top:h.y+e.top+"px",display:this.Hb()?"block":"none",width:Vm(d,"width"),fontSize:Vm(d,"fontSize"),lineHeight:Vm(d,"lineHeight"),fontFamily:Vm(d,"fontFamily")});d=this.label=g;this.bk(c.text);this.offsetParent().appendChild(d);e=this.Mg=new le(this);
e.c(b,"blur",this.uq);e.c(b,"focus",this.hide);c.IB&&e.c(b,"keydown",this.hide);e.c(d,"click",function(){this.hide();pg(b)&&b.focus()});b.zY=v(this.uq,this);c=this.input;d=this.label;Tm(c)||(c.id?d.htmlFor=c.id:(d.id=gh(fh.D()),Nc(c,Uc.fu,d.id)));this.position();this.uq()};a.Tm=function(b){if(("labels"in b?b.labels.length:b.id&&z.some(document.getElementsByTagName("label"),function(c){return c.htmlFor===b.id}))||Oc(b,Uc.Tp)||Oc(b,Uc.fu))return j},a.Vm=function(b,c){return Tf(b,c)||Uf(b,c)||b.style[c]};
t.offsetParent=function(){return this.F.offsetParent||this.input.offsetParent};t.uq=function(){if(!Sm)if(this.Hb()&&pg(this.input)){this.show();var b=this.input,c=eg(b),d=this.label,e=hg(b,this.offsetParent());Rf(d,{left:e.x+c.left+"px",top:e.y+c.top+"px",width:Vm(b,"width"),fontSize:Vm(b,"fontSize"),lineHeight:Vm(b,"lineHeight"),fontFamily:Vm(b,"fontFamily")});this.offsetParent().appendChild(d)}else this.hide()};t.show=function(){this.label&&R(this.label,j)};
t.hide=function(){this.label&&R(this.label,m)};t.Hb=function(){return!this.input.value};t.position=function(){z.forEach(this.lK,function(b){this.label.style[b]=Vm(this.input,b)},this)};a.Wm=function(b,c,d,e){this.nf=b=new Qm(b,!e);e=new Km;d=new Am(k,k,!!d,300);km.call(this,b,e,d);d.Z=this;d.Jk(c)};y(Wm,km);Wm.prototype.yf=function(b){this.L.yf(b)};Wm.prototype.Az=function(b){this.nf.Az(b)};Wm.prototype.La=function(b){this.nf.La(b)};km.NI=Wm;a.Xm=function(b,c){km.aB.call(this,b,c);this.lz=k;this.gD=j};y(Xm,km.aB);Xm.prototype.JR=["根话题","未归类话题"];Xm.prototype.fp=ca("lz");Xm.prototype.ci=function(b,c,d){var e=v(function(b,c){for(var e=[],n,q=0;q<c.length;q++)for(var r=1;r<c[q].length;r++){n=c[q][r];var x=j;this.gD&&z.forEach(this.JR,function(b){n[2]===b&&(x=m)});x&&e.push(n)}this.lz&&(e=this.lz(e));d(b,e)},this);Xm.m.ci.call(this,b,c,e)};a.Ym=function(b,c,d,e){this.oF=0;km.Sp.call(this,b,c,!!d,e||300)};y(Ym,km.Sp);t=Ym.prototype;
t.ei=function(b){var c=km.OI.m.ei.call(this,b),d=this.Z.Rb,e=this.Z;e.ZG=b;e.dispatchEvent("select");d.value="";return c};t.sa=ba();t.update=function(b){var c=ak(this.U());!c||"搜索用户"===c||"搜索话题"===c||"在这里输入问题"===c||z.contains(this.Z.Ov||[],c)||(!c?0:unescape(encodeURIComponent(c)).length)<this.oF||c===this.dF?(this.Z.Ni(),this.mo=c):(this.dF=k,this.Z.dispatchEvent({type:Zm}),Ym.m.update.call(this,b))};
t.Ce=function(b){this.Z&&mm(this.Z);b.target!==this.$a&&(this.$a=b.target||k,this.oa&&(this.oa.start(),this.ec.c(this.oa,Id,this.Pl)),this.mo=this.U(),Hm(this));this.oa&&this.oa.start();this.update(j)};t.Uc=function(){this.oa&&this.oa.stop();this.Z&&this.Z.Ni()};
t.Vb=function(b){if(13===b.keyCode){if(this.Z.qb()){if(this.Z.ak())return b.preventDefault(),b.stopPropagation(),j;b.preventDefault();b.stopPropagation();this.Z.ac="";this.Z.Ec();this.update(j);return m}b.stopPropagation();b.preventDefault();return m}Ym.m.Vb.call(this,b)};t.gq=function(b){Ym.m.gq.call(this,b);this.ec.c(b,"mousedown",function(b){b.stopPropagation();return j})};a.$m=function(b,c,d,e){Ym.call(this,b,c,!!d,e)};y($m,Ym);
$m.prototype.ei=function(b){var c=this.Z;c.ZG=b;c.dispatchEvent("select");return m};a.an=function(b,c,d,e,g,h,l,n,q){var r={};"question_suggest"===h?(r.W=v(this.bS,this),r.od=jk):"topic_question"===h?(r.W=v(this.dS,this),r.od=ik):r.od=h?ik:jk;h=new km.iu(g,r);g&&(h.So=m);h.Cr=j;this.L=h;this.nf=new Xm(b,!e);b=q?q:new Ym(k,k,d);l&&l.length&&new Rm(c,l[0]);b.WH=m;km.call(this,this.nf,h,b);b.Z=this;b.gq(c);n&&(b.oF=n)};y(an,km.NI);a.Zm="before_update";t=an.prototype;t.yv=j;
t.bS=function(b,c,d){O.forEach(d,function(b){b=Lm(this,b,this.ac);this.ba.appendChild(this.e,b)},b);lc(b.e,b.ba.o("div","zh-question-suggest-info",[b=b.ba.o("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[b.ba.o("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);N(b,"click",function(){var b=this.uf;b.Uc();this.Ec();b.dF=b.U()},m,this)};
t.dS=function(b,c,d){0===d.length?this.Ec():(O.forEach(d,function(b){b=Lm(this,b,this.ac);this.ba.appendChild(this.e,b)},b),c=b.ba.o("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",b.ba.o("span","x-m")]),lc(b.e,c,0),Bg.vc&&N(c,"click",function(){this.uf.Uc();this.Ec()},m,this))};t.Xf=p("ZG");t.fp=function(b){this.nf.fp(b)};t.Ec=function(){if(this.yv)return an.m.Ec.call(this)};t.ak=function(){return-1===pm(this,this.Vc)?m:an.m.ak.call(this)};
t.Ni=function(){Bg.vc?vd(document,"click",v(this.Ec,this)):an.m.Ni.call(this)};a.bn=function(b,c){M.call(this);this.zm=j;this.ki=this.wm=-1;this.HH="";this.eg=b||500;this.zL=c;this.sc=k};y(bn,Hk);a.cn=bm("PMForm"+S.Cj)||cm("PMForm"+S.Cj);t=bn.prototype;t.dh=ca("e");t.h=p("e");t.Sn=function(){this.sc=new vi(k,m);this.sc.Xa("发送私信");Fh(this.sc,k);this.sc.w(j);this.e=this.sc.Y()};t.focus=function(){this.v();this.Fb.focus()};
t.v=function(){this.Vw||(this.Vw=j,this.zm&&(this.sc||this.Sn(),this.e.innerHTML='<div class="zm-pm-wrap"><dl class="zm-form-table zm-form-table-medium"><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">发给：</label></dt><dd class="zm-form-table-field"><div class="zm-pm-selector-wrap"><div class="zg-user-name" style="display:none;padding:4px 0 0 0"></div><input class="zg-form-text-input zm-pm-user-selector" type="text" /></div></dd><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">内容：</label></dt><dd class="zm-form-table-field zm-form-table-field-last"><div class="zg-editor-simple-wrap zg-form-text-input"><textarea class="zg-editor-input" style="font-weight:normal"></textarea></div></dd></dl><div class="zh-pm-warnmsg" style="display:none;text-align:right;color:#C3412F;"></div><div class="zm-command zg-clear"><div class="zm-item-meta zg-left" style="margin: 0 0 0 57px;"><span class="zg-text-counter" style="display:none">还可以输入 500 字</span><span class="additional-info" ></span></div><a name="cancel" href="javascript:;" class="zm-command-cancel">取消</a><a name="send" href="javascript:;" class="zg-btn-blue zg-r3px" id="zh-question-pm-send-button">发送</a></div></div>'),this.Ef=
J("zg-user-name",this.e),this.Fb=J("zg-editor-input",this.e),this.xc=J("zm-pm-user-selector",this.e),this.Ei=J("zm-command",this.e),this.uX=J("zg-text-counter",this.e),this.uo=J("zh-pm-warnmsg",this.e),this.xU=$(".additional-info",$(this.e)),this.oG=new fm(this.Fb),this.g().c(this.Ei,"click",this.fa).c(this.Ef,"click",this.fa).c(this.Fb,"keydown",this.XM),this.xc&&((new Nl("搜索用户")).n(this.xc),this.g().c(this.xc,"blur",this.yK),this.J=new an("/people/autocomplete",this.xc,k,k,J("zm-pm-wrap",this.e),
j),this.J.yf(j),this.g().c(this.J,"select",this.Jo)),this.vn(),this.Ux())};t.XM=function(b){if(13===b.keyCode&&(b.ctrlKey||b.metaKey))dn(this),b.preventDefault()};a.en=function(b,c){b.XX=c;b.Ef.innerHTML+='<a class="zm-profile-email-history-link" href="'+c+'">私信记录  »</a>'};t.yK=function(){this.ZB&&clearTimeout(this.ZB);this.ZB=setTimeout(v(this.zK,this),200)};t.zK=function(){var b=ak(this.xc.value);-1===this.ki&&(b&&"搜索用户"!==b)&&fn(this,"请输入对方姓名，从下拉菜单里选择收件人")};t.nt=ca("BS");t.bm=u(10);
t.show=function(){this.v();this.zm&&(this.sc.w(j),this.sc.na())};t.vn=function(){if(this.Ok)$(window).on("beforeunload.PMForm",v(function(){this.gt()},this))};t.Tq=function(){this.Ok&&$(window).off("beforeunload.PMForm")};t.gt=function(){this.Ok&&this.Fb.value&&cn.set("content",this.Fb.value)};t.Ux=function(){if(this.Ok){var b=cn.get("content");b&&(this.Fb.value=b)}};t.Yu=function(){this.Ok&&cn.remove("content")};t.Jo=function(){var b=z.slice(this.J.Xf(),1);gn(this,b[3],b[0],j)};
a.gn=function(b,c,d,e){-1===c?(c=b.Ef,R(b.xc,j),R(c,m)):c!==S[3]&&(b.ki=c,b.HH=d,b.Ef&&b.xc&&(b.Ef.innerHTML=b.HH+(e?ek():""),c=b.xc,R(b.Ef,j),R(c,m),b.xc.value=""))},a.dn=function(b){if(!(b.xd&&"pending"===b.xd.state()))if(-1===b.ki)fn(b,"请填写收信人。");else{var c=b.Fb.value;Ka(c)?(c=-1!==b.wm?$.post("/inbox/reply",{message_id:b.wm,content:c,type:b.kA}):$.post("/inbox/post",{member_id:b.ki,content:c,token:b.BS}),c.done(v(b.MQ,b)),b.xd=c):fn(b,"请填写私信内容。")}};
t.fa=function(b){if(b=(b=this.df(b.target))&&b.name)switch(b){case "edit":this.ki=-1;b=this.Ef;R(this.xc,j);R(b,m);break;case "cancel":this.zm&&this.sc.w(m);break;case "send":dn(this)}};a.fn=function(b,c){b.uo.innerHTML=c;R(b.uo,j)};t.MQ=function(b){rk("message","send_message");b&&!b.r?(this.Tq(),this.Yu(),this.zm&&this.sc.w(m),this.zL?U("发送成功"):window.location.reload()):fn(this,b.msg)};t.Ok=j;a.hn=function(b,c,d){ll.call(this,b,c);this.nB=d};y(hn,ll);hn.prototype.Fn=s(5);
hn.prototype.na=function(b,c,d,e){var g={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-4":"right"},h;if(this.nB){h=jl(this.element,this.Lf,b,c,k,d,10,e);var l=jn(h,this.Lf),n=jn(h,c);h&496&&(h=jl(this.element,l,b,n,k,d,10,e),h&496&&(l=jn(h,l),n=jn(h,n),this.nB?jl(this.element,l,b,n,k,d,this.Fn(),e):jl(this.element,l,b,n,k,d,0,e)));this.Js&&(b=(ka(l)?l:this.Lf)+"-"+(ka(c)?c:n),this.Js(g[b],b))}else jl(this.element,this.Lf,b,c,i,d),this.Js&&(b=this.Lf+
"-"+c,this.Js(g[b],b))};a.jn=function(b,c){b&48&&(c^=2);b&192&&(c^=1);return c};a.kn=function(){M.call(this);this.WS=this.SN=250;this.className="tooltip";this.pg={};this.Mo={}};y(kn,Hk);t=kn.prototype;t.WN={t:0,r:2,b:1,l:2};
a.mn=function(b){var c=ln(),d=[],e=b[0][1];d.push('<div id="zh-tooltip-topic" class="hovercard"><div class="popover-inner"><div class="popover-content"');d.push('<a class="zm-item-link-avatar" href="/topic/'+e+'"><img class="zm-list-avatar-medium" src="'+b[0][2]+'" /></a>');d.push('<div class="zu-hovercard-head-wrap">');d.push('<a href="/topic/'+e+'">'+b[0][0]+"</a>");d.push('<div class="zg-gray">'+b[2]+"</div></div>");d.push('<div class="zu-hovercard-command">');d.push('<div class="zg-left"><a href="/topic/'+
e+'/followers"><strong>'+b[1]+'</strong></a> <span class="zg-gray">人关注该话题</span></div>');d.push('<a href="javascript:;" data-token="'+e+'" id="fb-'+b[0][3]+'" name="focus" data-focustype="topic" class="zg-btn '+(b[3]?"zg-btn-unfollow":"zg-btn-follow")+'" >'+(b[3]?"取消关注":"关注")+"</a></div>");d.push("</div></div>");d.push(c);d.push("</div>");return d.join("")},a.nn=function(b){var c=ln(),d=[];d.push('<div id="zh-tooltip-people" class="hovercard"><div class="popover-inner"><div class="popover-content"');
d.push('<a class="zm-item-link-avatar" href="/people/'+b[0][1]+'"><img class="zm-list-avatar-medium" src="'+b[0][2]+'" /></a>');d.push('<div class="zu-hovercard-head-wrap">');d.push('<a href="/people/'+b[0][1]+'">'+b[0][0]+"</a>");d.push("<br /><strong>"+b[5]+'</strong> <span class="zg-gray">个回答</span><br /><strong>'+b[1]+'</strong> <span class="zg-gray">人关注'+"她他".charAt(b[0][4])+"</span>");d.push('</div><div class="zg-gray zg-clear">'+b[2]+"</div>");d.push('<div class="zu-hovercard-command">');var e=
b[0][3]===S[3],g=!!b[6],h=!!b[7];e?d.push('<span class="zg-gray-normal">我自己</span>'):b[4]?d.push('<a href="javascript:;" data-focusme="1" data-token="',b[0][1],'" id="fb-',b[0][3],'" name="focus" data-focustype="people" class="zm-rich-follow-btn small zg-btn ',b[3]?"zg-btn-unfollow":"zg-btn-follow",'" ><i class="zg-icon zu-entry-focus-single-way"></i><i class="zg-icon zu-entry-focus-each"></i>',b[3]?"取消关注":"关注","</a>"):h&&d.push('<a href="javascript:;" data-token="'+b[0][1]+'" id="fb-'+b[0][3]+'" name="focus" data-focustype="people" class="zg-btn '+
(b[3]?"zg-btn-unfollow":"zg-btn-follow")+'" >'+(b[3]?"取消关注":"关注")+"</a>");g&&(!e&&S.Ma())&&d.push('<a data-token="'+b[0][1]+'" href="/inbox/'+b[6]+'" name="pm" class="zg-right zg-link-gray js-pm-dialog">私信</a>');d.push("</div></div></div>");d.push(c);d.push("</div>");return d.join("")};
t.v=function(){if(!Bg.vc&&!z.contains(Kg,"tooltiop")){var b=this.P=new Dl({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip"});this.P.className=this.className;var c=K("div",{id:"zh-tooltip"});document.body.appendChild(c);this.P.dh(c);this.P.st=this.WS;this.P.Br=this.SN;this.g().c(this.P,"trigger",this.Cy);var d=$(c),e=k;b.on("show",function(b){clearTimeout(e);d.addClass("in");W.X({type:"ga_hover_hovercard",target:b.target.xe||b.target.anchor})}).on("hide",function(){d.css({display:"block",
visibility:"visible"}).removeClass("in").addClass("out");e=setTimeout(function(){d.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.g().c(this.P,"beforeshow",this.zo);$(c).on("click","a[name=focus]",v(this.TM,this)).on("click","a[name=pm]",v(this.nN,this))}};
t.TM=function(b){var b=b.currentTarget,c=$(b).data();ok(b,c.focustype,k,["zg-btn-follow","zg-btn-unfollow"]);if(c=(b=this.P.xe||this.P.anchor)&&b.getAttribute("data-tip"))this.ov=b,b=c.split("$"),c=b[0],"t"===c?(b=this.pg[b[2]],b[3]=b[3]?0:1):"p"===c&&(b=this.Mo[b[2]],b[3]=b[3]?0:1)};t.nN=function(b){b.preventDefault();var b=b.currentTarget,c=$(b).data("token"),d=new bn(k,j),c=this.Mo[c][0];d.show();gn(d,c[3],c[0]);en(d,b.href);d.Fb.focus();this.P.w(m)};
t.zo=function(){var b=this.P.xe||this.P.anchor,c=b&&b.getAttribute("data-tip");if(c){this.ov=b;var d=c.split("$"),b=d[1];c=d[0];d=d[2];this.hL=c;this.fL=d;this.nn=b;"s"===c?(c=[],c.push('<div class="tooltip-arrow'),c.push('"></div><div class="tooltip-inner">'),c.push(Ya(d)),c.push("</div></div>"),c=c.join(""),on(this,c)):"t"===c?this.pg[d]?on(this,mn(this.pg[d])):(on(this,pn()),qn(this,c,d)):"p"===c&&(this.Mo[d]?on(this,nn(this.Mo[d])):(on(this,pn()),qn(this,c,d)));rn(this,b)}};
a.rn=function(b,c){var d;switch(c){case "t":d=5;break;case "r":d=4;break;case "b":d=4;break;case "l":d=6}var e=b.P;e.Sy=d;e.Q()&&e.na()},a.ln=function(){return'<div class="arrow"></div><div class="arrow2"></div><div class="arrow3"></div>'},a.pn=function(){var b=[];b.push('<div class="zu-hovercard-wrap"><div class="zu-hovercard-inner zh-hovercard-spinner"></div></div>');b.push(ln());return b.join("")},a.qn=function(b,c,d){var e=new V(m),c="t"===c?"topic":"people";P(b.g(),e,"success",b.cQ);e.ajax("/"+
c+"/"+encodeURIComponent(d)+"/json",k,"GET")};t.cQ=function(b){if((b=Ge(b.target))&&!b.r)b=b.msg,b[0][1]===this.fL&&(rn(this,this.nn),4===b.length?(on(this,mn(b)),this.pg[b[0][1]]=b):(on(this,nn(b)),this.Mo[b[0][1]]=b),El(this.P,this.ov,this.nn))};a.on=function(b,c){b.P.ge(c);b.P.$c(b.dL)};
t.Cy=function(b){var b=b.anchor,c=b.getAttribute("data-tip"),d=c.split("$"),e=k;this.P.className="s"!==d[0]?"goog-hovercard popover":"tooltip";if(c)return b.title&&(b.setAttribute("data-original_title",b.title),b.removeAttribute("title")),e=d[1],"s"!==d[0]&&(210>gg(b).y?"t"===e&&(e="b",b.setAttribute("data-tip",c.replace("$t$","$b$"))):(e="t",b.setAttribute("data-tip",c.replace("$b$","$t$")))),this.dL=e=new hn(b,this.WN[e],"b"===e||"t"===e),b=v(this.OQ,this),e.Js=b,j};
t.OQ=function(b,c){var d=this.P.h();D.remove(d,"top","bottom","left","right");D.add(d,b);var e=sg(d),g=sg(this.ov),h=new Mb(d.offsetLeft,d.offsetTop);if("t"===this.nn||"b"===this.nn){var e=(e.width-g.width)/2,l=h.x-e;if("s"===this.hL)Rf(d,"left",l+"px");else{var l=z.contains(["2-5","3-5","3-4","2-4"],c),n=$(".zh-hovercard-spinner",d)[0],q=J("arrow",d),r=J("arrow2",d),x=J("arrow3",d);n?Rf(d,"left",h.x-e+"px"):l?Rf(d,"left",h.x+83+"px"):Rf(d,"left",h.x-70+"px");var E=g.width/2;q&&(r&&x)&&(n||(l?z.forEach([q,
r,x],function(b){Rf(b,"left","auto");Rf(b,"right",E+70+"px")}):z.forEach([q,r,x],function(b){Rf(b,"left",E+70+"px")})))}}else Rf(d,"top",h.y-(e.height-g.height)/2+"px"),"l"===this.nn&&Yf(d,h.x-g.width)};a.sn=function(){var b={warning:"您的知乎用户名 "+S.ew+' 不符合 <a href="http://www.zhihu.com/question/19791408">知乎用户名规范</a>，请您 <a href="/settings/account#rename-section">修改</a>。',pending:"您提交的用户名修改正在审核中，帐号暂时锁定。"},c=Mg,d=Lg,e=m;c?(U(c,4E3),e=j):d&&(b[d]&&U(b[d],4E3),e=j);return e};a.tn=bm(i)||cm(i);a.un=function(b){T.call(this);$.extend(this.F={},this.R,b||{})};y(un,T);t=un.prototype;t.R={trigger:"hover",cG:"open",hideFocus:m};t.Qc=function(){return this.ug.length&&this.cd.length};t.n=function(b){if(b){var c=$(b),d=c.prev();this.ug=c;this.cd=d;this.$t=c.parent();un.m.n.call(this,b);return this}};t.toggle=function(){this.qb()?this.close():this.open()};t.qb=function(){return this.ug.is(":visible")};
t.open=function(){this.ug.attr("aria-hidden","false").parent().addClass(this.F.cG);this.cd.attr("aria-expanded","true")};t.close=function(){this.ug.attr("aria-hidden","true").parent().removeClass(this.F.cG);this.cd.attr("aria-expanded","false")};a.vn=function(b,c){var d=b.ug.children().find("a"),e=d.size();c>=e?c=0:-1>=c&&(c=e-1);d=d.eq(c);b.cd.attr("aria-activedescendant",d.attr("id"));d.focus();b.index=c};
t.WP=function(b){var c=b.keyCode;switch(c){case 32:b.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:vn(this,38===c?-1:0)}};t.vQ=function(b){var c=b.keyCode;switch(c){case 27:case 9:this.close();this.cd.focus();break;case 38:case 40:b.preventDefault(),vn(this,this.index+(38===c?-1:1))}};
t.z=function(){var b=this,c=this.F,d=this.ug,e=this.cd,g=e.attr("id");g||(g=gh(fh.D()),e.attr("id",g),d.attr("aria-labelledby",g));e.attr("role")||e.attr("role","button");this.cd.attr("aria-haspopup","true").attr("aria-activedescendant","");this.ug.children().find("a").attr("tabindex",-1).attr("id",v(function(b,c){return c||gh(fh.D())},this));this.ug.on("keydown",v(this.vQ,this));this.cd.on("keydown",v(this.WP,this));d=li?"click":c.trigger;if("hover"===d)this.$t.on("hover",v(function(b){"mouseenter"===
b.type?this.open():this.close()},this));else if("click"===d)this.cd.on("click",v(function(b){b.preventDefault();this.toggle();this.cd.focus()},this));this.$t.on("focusout",function(){setTimeout(function(){b.$t.get(0).contains(document.activeElement)||b.close()})});if(c.hideFocus)this.ug.children().find("a").on("click",function(){this.blur()})};a.wn=function(b){T.call(this);this.options=$.extend({stopPropagation:j,fK:"#000",Hu:0.5,SK:"#666",gC:0.2,top:2,width:6,right:2,aK:j},b);this.jy=0;this.Zq=m};y(wn,T);t=wn.prototype;
t.ea=function(b){this.e=b;this.G=$(this.e);this.G.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('<div class="zh-scroller-content"></div>');this.G.wrapInner('<div class="zh-scroller-inner"></div>');this.G.append("<div class='zh-scroller-bar-container'><div>");this.G.append('<div class="zh-scroller-bar"></div>');this.ne=this.G.children(".zh-scroller-inner");this.vk=this.G.children(".zh-scroller-bar-container");this.le=this.G.children(".zh-scroller-bar");this.sd=this.ne.children(".zh-scroller-content");
this.jq=this.le[0];this.oO=this.ne[0];this.content=this.sd[0];this.kq=this.vk[0];this.ne.css({height:"100%",width:"150%",overflow:"auto"});this.le.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.Hu,background:this.options.fK,width:this.options.width,"border-radius":3,cursor:"default"});this.vk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,background:this.options.SK,border:"1px solid #444",opacity:0,cursor:"default",
"border-radius":"2px"});this.hi(this.jq,m);this.hi(this.kq,m);this.update()};t.z=function(){wn.m.z.call(this);this.lA=new bl(this.xy,50,this);this.options.stopPropagation&&this.ne.bind("mousewheel DOMMouseScroll",function(b){var c=k;"mousewheel"===b.type?c=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(c=40*b.originalEvent.detail);c&&(b.preventDefault(),$(this).scrollTop(c+$(this).scrollTop()))})};
t.zQ=function(b){b.target===this.jq&&(this.Zq=j,this.gK=b.clientY,this.hK=parseInt(this.le.css("top"),10));(b.target===this.jq||b.target===this.kq)&&this.hi(document.body,m)};t.BQ=function(){this.Zq=m;this.hi(document.body,j)};t.AQ=function(b){if(this.Zq){var c=xn(this,this.hK+(b.clientY-this.gK));this.ne.scrollTop(c)}this.jy=b.target===this.jq?2:b.target===this.kq?1:0};
a.yn=function(b){b.jp&&(b.le.stop().css({opacity:b.options.Hu}).show(),b.Rm&&(clearTimeout(b.Rm),b.Rm=m))},a.zn=function(b,c){b.Rm=setTimeout(v(function(){this.le.stop().fadeOut();this.Rm=m},b),c||0)};t.xy=function(){var b=this.ne.scrollTop(),c=this.sd.height(),d=this.ne.height(),e=b/c*(d-2*this.options.top);yn(this);this.le.css({top:e+this.options.top});this.dispatchEvent(new An(this,b,c-b-d,b/(c-d)))};
t.update=function(){var b=this.rl(this.ne).height,c=this.rl(this.sd).height;b>=c?(this.jp=m,this.le.hide()):(this.jp=j,this.le.show());this.le.css({height:b/c*(b-2*this.options.top)});this.vk.css({height:b-2});this.sd.css({overflow:"hidden",width:this.G.width(),"min-height":"100%"});return this};
t.rl=function(b){var c={height:b.height(),width:b.width()};if(!c.height){var d=b.css("display"),e=b.css("position"),g=b.css("visibility");b.css({position:"absolute",display:"block",visibility:"hidden"});c={height:b.height(),width:b.width()};b.css({position:e,display:d,visibility:g})}return c};t.QP=function(b){this.scrollTo(xn(this,b.offsetY-this.le.height()/2))};a.xn=function(b,c){var d=b.ne.height()-2*b.options.top-b.le.height(),e=b.sd.height()-b.ne.height();return c/d*e};
t.scrollTop=function(b){this.jp&&(b=b||200,yn(this),this.ne.stop().animate({scrollTop:0},b));return this};t.hi=function(b,c){rg(b,!c)};t.scrollTo=function(b){this.jp&&(yn(this),this.ne.stop().animate({scrollTop:b},200));return this};a.An=function(b,c,d,e){gd.call(this,"scroll",b);this.scrollTop=c;this.WY=d;this.XY=e};y(An,gd);a.Bn=function(b,c,d,e){M.call(this);this.e=b;this.Zv=c||"people";this.VL=d||["zg-btn-follow","zg-btn-unfollow"];this.text=e||["关注","取消关注"]};y(Bn,Hk);Bn.prototype.v=function(){this.g().c(this.e,"click",this.Co)};Bn.prototype.Co=function(b){b=kk(this.e,b.target);"focus"===(b&&b.name)&&ok(b,this.Zv,k,this.VL,{follow_text:this.text[0],unfollow_text:this.text[1]})};a.Cn=function(b){T.call(this);this.F=$.extend({},this.R,b||{})};y(Cn,T);Cn.prototype.R={xF:".tab-nav",jG:".tab-panel",Ak:"active"};Cn.prototype.ea=function(b){if(b){this.e=b;var c=this,d=this.F;this.yk=$(d.xF,b);this.MA=$(d.jG,b);this.nj=this.yk.index("."+d.Ak);this.yk.on("click",function(){c.select(c.yk.index(this))})}};
Cn.prototype.select=function(b){if(!(0>b||b>this.yk.size()))if(this.dispatchEvent({type:"action",data:{index:b}}),b!==this.nj){this.nj=b;var c=this.F,d=this.yk.eq(b);this.yk.not(d.addClass(c.Ak)).removeClass(c.Ak);c=this.MA.eq(b);this.MA.not(c.show()).hide();this.dispatchEvent({type:"select",data:{index:b}})}};Cn.prototype.index=p("nj");a.Dn=function(){M.call(this);this.Eg=[0,0,0];this.FF=[0,0,0];this.types=["default","follow","vote_thank"];this.Gv=j;this.Ci=[m,m,m];this.pl=[0,0,0];this.sm=[m,m,m]};y(Dn,Hk);t=Dn.prototype;
t.v=function(){this.wrap=H("zh-top-nav-live-new");this.RA=$(this.wrap);this.wrapInner=H("zh-top-nav-live-new-inner");this.Eq=H("zh-top-nav-count-wrap");this.jn=K("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=Vb("zm-noti7-content",this.wrap);this.dP=Vb("zm-noti7-popup-refresh",this.wrap);this.gv=Vb("zm-noti7-content-body",this.wrap);this.Eq.appendChild(this.jn);this.g().c(this.Eq,"click",this.IT);this.g().c(W,"noti7",this.kN);this.g().c(this.wrap,
"click",this.fa);this.g().c(this.wrap,"click",function(b){b=b.target;b.href&&/group_id=/.test(b.href+"")&&$(b).parent(".unread").removeClass("unread")});var b=J("zm-noti7-popup-tab-container");this.zF=Vb("new-noti",b);this.jh=new Cn({xF:".zm-noti7-popup-tab-item",jG:".zm-noti7-content",Ak:"current"});this.g().c(this.jh,"action",function(b){this.yC=b=b.data.index;En(this,b);var d=this.fm&&this.fm[b];d&&(setTimeout(function(){d.update()}),this.jh.index()===b&&d.scrollTop())}).c(this.jh,"select",function(b){this.yC=
b=b.data.index;Fn(this,b);W.X({type:"ga_click_top_nav_noti_tab",data:{jh:+b}});!this.oc&&window.localStorage&&localStorage.setItem("noti7-tab",b)});this.jh.n(this.wrap);!Bg.vc&&navigator.userAgent.match(/iPad/i)==k&&(this.fm=z.map(this.contents,function(b){var d=new wn;d.n(b);return d}));Bg.vc&&(this.Gv=m);(new Bn(this.gv[1],"people",["zg-follow","zg-unfollow"])).v();this.Tl=H("zh-top-nav-pm-count");this.Tl||(this.Tl=K("span"));this.Nl=H("zh-top-nav-new-pm");this.Nl||(this.Nl=K("span"));this.Rn=parseInt($(this.Nl).attr("data-count")||
$(this.Tl).attr("data-count"),10)||0;this.VE=H("zh-top-nav-count-wrap");this.VE.innerHTML&&(this.count=+this.VE.innerHTML);this.g().c(W,"inbox",this.WM)};t.rr=function(b){!sc(this.wrap,b.target)&&!sc(this.Eq,b.target)&&Gn(this,m)};
a.Fn=function(b,c){b.fm&&z.forEach(b.fm,function(b,e){c===e?b.Kv||(b.g().c(b.oO,"scroll",function(){this.lA.fire()}),A||(b.g().c(b.kq,"click",b.QP),b.g().c(document,"mousedown",b.zQ),b.g().c(document,"mouseup",b.BQ),b.g().c(document,"mousemove",b.AQ)),b.options.aK?(b.zc=new Hd(200),b.g().c(b.zc,Id,function(){2===this.jy||1===this.jy?(yn(this),this.jp&&this.vk.css({opacity:this.options.gC})):!this.Zq&&!this.Rm&&(zn(this,1E3),this.vk.css({opacity:0}))})):(b.le.css({opacity:b.options.Hu}),b.vk.css({opacity:b.options.gC})),
b.zc&&b.zc.start(),zn(b),b.Kv=j):b.Kv&&(b.g().Lc(),b.zc&&b.zc.stop(),b.Kv=m)})};t.fa=function(b){var c=b.target;c&&c.name&&"set"===c.name&&this.yY(b)};t.kN=function(b){this.FF=this.Eg;this.Eg=b.sb;this.oc=this.Eg[0]+this.Eg[1]+this.Eg[2];R(this.jn,!!this.oc);this.jn.innerHTML=99<this.oc?"99+":this.oc;z.forEach(this.Eg,function(b,d){R(this.zF[d],b);b&&(this.Ci[d]=m);this.Gv&&0<b-this.FF[d]&&this.ol(d)},this);Hn(this)};
a.Hn=function(b){var c=99<b.oc?"99+":b.oc,d=99<b.Rn?"99+":b.Rn;window.document.title=(c||d?"("+(b.Rn?d+" 封私信":"")+(b.oc&&b.Rn?" / ":"")+(b.oc?c+" 条消息":"")+") ":"")+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")};
t.IT=function(){if(Bg.vc&&this.visible)Gn(this,m);else if(this.visible&&!this.oc)Gn(this,m);else{Gn(this,j);var b;!this.kv&&!this.oc?(b=(b=window.localStorage&&localStorage.getItem("noti7-tab"))?Number(b):0,this.jh.select(b),this.sm[b]=j):this.oc&&(b=z.Uv(this.Eg,mf),b=-1===b?0:b,this.jh.select(b),this.sm[b]=j);W.X({type:"ga_click_top_nav_noti",data:{jh:this.yC,UH:+(this.oc||0)}})}Hn(this)};
a.In=function(b,c){b.oc-=b.Eg[c];R(b.zF[c],m);0>b.oc&&(b.oc=0);R(b.jn,!!b.oc);b.jn.innerHTML=b.oc},a.En=function(b,c){var d;b.Gv?b.visible&&(b.Ci[c]?(b.gv[c].innerHTML=b.Ci[c],b.Eg[c]&&(d=new V(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST")),In(b,c),b.fm&&b.fm[c].update().scrollTop(),!b.oc&&window.localStorage&&localStorage.setItem("noti7-tab",c)):(b.sm[c]=j,b.ol(c))):b.Ci[c]?(b.gv[c].innerHTML=b.Ci[c],In(b,c)):(b.sm[c]=j,b.ol(c),d=new V(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST"))},
a.Gn=function(b,c){c?b.RA.fadeIn(50):b.RA.fadeOut(50);b.visible=c;D.enable(b.Eq,"open",b.visible);c?(z.forEach(b.Ci,function(b,c){b||this.ol(c)},b),b.g().c(document,"click",b.rr)):b.g().Ba(document,"click",b.rr);Fn(b,-1)};t.ol=function(b){if(!this.pl[b]||!this.pl[b].Gb())this.pl[b]=new V(m),this.g().c(this.pl[b],"success",function(c){this.vy(c,b)}),this.pl[b].ajax("/noti7/stack/"+this.types[b]+"?r="+za(),"","GET")};
t.vy=function(b,c){$(this.dP[c]).hide();var d=Ge(this.pl[c]);if(d)if(d.r)U(d.msg);else{this.kv=j;if(d=d.msg)1===c&&(d='<div class="zm-noti7-content-head-item"><span class="zg-gray-normal">这些人最近关注了你</span></div>'+d);else switch(c){case 0:d="<div class='zm-noti7-popup-empty'>暂无新消息</div>";break;case 1:d="<div class='zm-noti7-popup-empty'>有人关注你时会显示在这里</div>";break;case 2:d="<div class='zm-noti7-popup-empty'>你的答案收到赞同、感谢时会显示在这里</div>"}this.Ci[c]=d;this.sm[c]&&(En(this,c),this.sm[c]=m)}};
t.WM=function(b){this.Rn=b=$.isNumeric(b)?b:b.sb;0!==b?(this.Nl.innerHTML=this.Tl.innerHTML=b,this.Nl.style.visibility=this.Tl.style.visibility="visible"):this.Nl.style.visibility=this.Tl.style.visibility="hidden";Hn(this)};a.Jn=function(){M.call(this);this.Rc=[];this.Yk=[];this.Bv={};this.N=new le(this);this.CO=this.CE=m;this.zA=j};y(Jn,Fd);t=Jn.prototype;t.cE=0;t.fH=ca("cE");a.Kn=function(b,c,d){c.QC=d;c.Oi=i;b.Rc.push(c)};
t.v=function(){if(!this.CE){for(var b=0,c=this.Rc.length;b<c;b++)for(var d=oc(this.Rc[b]),e=0,g=d.length;e<g;++e){var h=d[e],l=h,n=ua(l);this.Bv[n]=h;this.TC&&(this.N.c(h,"mouseover",this.KM),this.N.c(h,"mouseout",this.JM));this.SC&&(this.N.c(l,"mouseover",this.IM),this.N.c(l,"mouseout",this.HM));this.Yk.push(h);this.N.c(l,["mousedown","touchstart"],this.qN)}this.CE=j}};
t.p=function(){this.N.C();for(var b=0,c=this.Rc.length;b<c;b++){var d=this.Rc[b];d.QC=i;d.Oi=i}this.Rc.length=0;this.Yk.length=0;this.Bv=k;Ln(this);Jn.m.p.call(this)};a.Mn=function(b,c){for(var d=0,e=b.Rc.length;d<e;d++){var g=b.Rc[d];g.Xk=ng(g)}d=0;for(e=b.Yk.length;d<e;d++)g=b.Yk[d],g!=c&&(g.Xk=ng(g))};
t.qN=function(b){var c=ua(b.currentTarget);this.va=this.Bv[c];a:{var c=this.va,d=c.cloneNode(j);switch(c.tagName.toLowerCase()){case "tr":c=K("table",k,K("tbody",k,d));break a;case "td":case "th":c=K("table",k,K("tbody",k,K("tr",k,d)));break a;default:c=d}}this.Bb=c;this.Yq&&D.add(this.Bb,this.Yq);this.Bb.style.margin="0";this.Bb.style.position="absolute";this.Bb.style.visibility="hidden";Rb(this.va).body.appendChild(this.Bb);c=bg(this.va);jg(this.Bb,c);this.Cb=new Wg(this.Bb);this.Cb.fH(this.cE);
N(this.Cb,"start",this.Ew,m,this);N(this.Cb,"end",this.FM,m,this);N(this.Cb,"earlycancel",this.Xu,m,this);this.Cb.vm(b)};
t.Ew=function(b){if(this.dispatchEvent(new Nn("beforedragstart",this,b.TB,this.va,k,k))){this.Ds=this.va.parentNode;this.qC=this.Fy=this.va.nextElementSibling!=i?this.va.nextElementSibling:pc(this.va.nextSibling,j);this.mv=this.Ds;this.lv?D.add.apply(k,z.concat(this.va,this.lv)):this.va.style.visibility="hidden";var c=mg(this.Bb);this.Bb.pM=c.width/2;this.Bb.oM=c.height/2;this.Bb.style.visibility="";this.zA&&(this.va.style.display="none");Mn(this,this.va);this.va.style.display="";N(this.Cb,"drag",
this.LM,m,this);this.dispatchEvent(new Nn("dragstart",this,b.TB,this.va,this.Bb,this.Cb))}else b.preventDefault(),this.Xu()};
t.LM=function(b){var c=bg(this.Bb),c=new Mb(c.x+this.Bb.pM,c.y+this.Bb.oM),d;a:{d=k;if("none"!=this.va.style.display){d=this.va.parentNode;var e=ng(d);if(On(c,e))break a}for(var e=0,g=this.Rc.length;e<g;e++){var h=this.Rc[e];if(h!=d&&On(c,h.Xk)){d=h;break a}}d=k}var l;if(d){d==k&&f(Error("getHoverNextItem_ called with null hoverList."));var n,q,e=m,g=i;switch(d.QC){case 0:l=c.y;n=Pn;q=Qn;break;case 4:e=j;case 2:l=c.x;n=Rn;q=Qn;break;case 5:e=j;case 3:l=c.x,n=Sn,q=Tn}for(var h=k,r,x=oc(d),E=0,G=x.length;E<
G;E++){var I=x[E];if(I!=this.va){var Q=n(I.Xk);if(e){var X=Un(I,c);ka(g)||(g=X);if(q(l,Q)&&(r==i||X<g||X==g&&(q(Q,r)||Q==r)))h=I,r=Q;X<g&&(g=X)}else if(q(l,Q)&&(r==i||q(Q,r)))h=I,r=Q}}l=h!==k&&Un(h,c)>g?k:h}else l=k;if(!this.dispatchEvent(new Nn("beforedragmove",this,b,this.va,this.Bb,this.Cb,c,d,l)))return m;if(d)this.zA?(this.va.parentNode!=d||(this.va.nextElementSibling!=i?this.va.nextElementSibling:pc(this.va.nextSibling,j))!=l)&&d.insertBefore(this.va,l):l&&(this.qC=l),this.va.style.display=
"",d.Oi&&D.add(d,d.Oi);else{this.CO||(this.va.style.display="none");n=0;for(q=this.Rc.length;n<q;n++)r=this.Rc[n],r.Oi&&D.remove(r,r.Oi)}d!=this.mv&&(this.mv=d,Mn(this,this.va));this.dispatchEvent(new Nn("dragmove",this,b,this.va,this.Bb,this.Cb,c,d,l));return m};t.Xu=function(){Ln(this);this.Cb=this.Bb=this.Fy=this.Ds=this.mv=this.va=k;for(var b=0,c=this.Rc.length;b<c;b++)this.Rc[b].Xk=k;b=0;for(c=this.Yk.length;b<c;b++)this.Yk[b].Xk=k};
t.FM=function(b){if(!this.dispatchEvent(new Nn("beforedragend",this,b,this.va,this.Bb,this.Cb)))return m;this.zA||this.Ds.insertBefore(this.va,this.qC);Ln(this);this.dispatchEvent(new Nn("dragend",this,b,this.va,this.Bb,this.Cb));this.Xu();return j};
a.Ln=function(b){Tc(b.Cb);b.Bb&&L(b.Bb);b.va&&"none"==b.va.style.display&&(b.Ds.insertBefore(b.va,b.Fy),b.va.style.display="");b.lv&&b.va?D.remove.apply(k,z.concat(b.va,b.lv)):b.va&&(b.va.style.visibility="visible");for(var c=0,d=b.Rc.length;c<d;c++){var e=b.Rc[c];e.Oi&&D.remove(e,e.Oi)}};t.KM=function(b){D.add.apply(k,z.concat(b.currentTarget,this.TC))};t.JM=function(b){D.remove.apply(k,z.concat(b.currentTarget,this.TC))};t.IM=function(b){D.add.apply(k,z.concat(b.currentTarget,this.SC))};
t.HM=function(b){D.remove.apply(k,z.concat(b.currentTarget,this.SC))};
a.On=function(b,c){return b.x>c.left&&b.x<c.left+c.width&&b.y>c.top&&b.y<c.top+c.height},a.Un=function(b,c){var d=b.Xk;return Math.abs(c.y-(d.top+(d.height-1)/2))},a.Pn=function(b){return b.top+b.height-1},a.Rn=function(b){return b.left+b.width-1},a.Sn=function(b){return b.left||0},a.Qn=function(b,c){return b<c},a.Tn=function(b,c){return b>c},a.Nn=function(b,c,d,e,g,h,l,n,q){gd.call(this,b);this.DX=c;this.event=d;this.yX=e;this.EX=g;this.Xq=h;this.FX=l;this.YX=n;this.ZX=q};y(Nn,gd);a.Vn=function(){uh.call(this,i,i,i);this.bL=S.$q;this.qo=S.qo;this.Xw=S.Xw;this.mH=""!==this.qo;this.g().c(Ii,"/activation/resend-email",xa(this.IS,j))};ia(Vn);y(Vn,vi);t=Vn.prototype;t.nk=tk('    <% if (showTopTip) { %>       <div class="top-tip well-blue"><%= topTip %></div>    <% } %>    <% if (showForm) { %>    <form class="js-email-form">    <dl class="zm-form-table zm-form-table-wide" style="">      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的注册邮箱：</label>      </dt>      <dd class="zm-form-table-field zg-form-table-count">        <label class=""><%= curEmail %></label></dd>      <% if (hasPassword) { %>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的密码：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="password" name="pw"></dd>      <% } %>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="new-email">新的登录邮箱：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="text" name="newemail"></dd>      <dd class="zm-form-table-field">        <button class="js-update-email zg-btn-blue">更新邮箱</button>        <a class="js-cancel zm-form-btn-collapse" href="javascript:;">取消</a>      </dd>    </dl>    </form>    <% } %>    <% if (showMiddleTip) { %>    <div class="middle-tip"><%= middleTip %></div>    <% } %>    <% if (showSendEmail) { %>    <div class="">      <dl class="zm-form-table zm-form-table-wide" >        <dt class="zm-form-table-head zm-form-table-head-align-middle">          <label class="">您的<%= isMobile ? "" : "注册" %>邮箱：</label>        </dt>        <dd class="zm-form-table-field zg-form-table-count">          <label class="login-email"><%= curEmail %></label>          <a class="js-change-email" href="javascript:;">修改</a>          <br>        </dd>      </dl>    <% if (sent) { %>    <div style="text-align:center;clear:both;"><span class="zg-medium-gray">已发送</span></div>    <% } else { %>    <div style="text-align:center;margin-bottom:15px;clear:both;"><a class="js-resend" href="javascript:;">重新发送激活邮件</a></div>    <% } %>    </div>    <% } %>    <% if (showEmailUrl) { %>    <div class="email-url">      <a class="zg-btn-blue" target="_blank" href="<%= emailUrl %>">进入我的邮箱 »</a>    </div>    <% } %>    <% if (showBottomTip) { %>    <div class="bottom-tip"><%= bottomTip %></div>    <% } %>    ');
t.xt={showTopTip:j,showSendEmail:j,showBottomTip:j};t.gT={showTopTip:j,showForm:j,showBottomTip:j,showEmailUrl:m};t.hT={showMiddleTip:j};t.W=function(){Vn.m.W.call(this);this.Xa("请激活帐号");Wn(this,Vn.prototype.xt);this.G=$(this.Y()).addClass("activate-dialog");$(this.e).css("width","400px");var b=this;$.each({".js-update-email":b.cU,".js-cancel":b.cancel,".js-change-email":b.uK,".js-resend":b.hS},function(c,d){b.G.on("click",c,$.proxy(d,b))})};
a.Wn=function(b,c){var d=$.extend({showTopTip:m,showMiddleTip:m,showBottomTip:m,showEmailUrl:b.mH,showForm:m,showSendEmail:m,isMobile:sb,sent:b.eH,topTip:"为正常使用知乎提问、回答、评论和编辑功能，请验证您的邮箱、激活帐号。",middleTip:Fa("一封验证邮件已经发到您的新邮箱：<br>%s，请注意查收。",b.GP),bottomTip:"请进入邮箱收取验证邮件、并通过邮件中链接激活你的知乎帐号。",curEmail:b.bL,emailUrl:b.qo,hasPassword:b.Xw},c);b.La(b.nk(d))};
t.cU=function(){var b=this;$.post("/settings/update_email",b.G.find(".js-email-form").serialize()).done(function(c){c.r?U(c.msg):(b.GP=c.msg[0],b.mH=""!==c.msg[1],b.qo=c.msg[1],Wn(b,Vn.prototype.hT))});return m};t.IS=function(b){this.eH=b;Wn(this,Vn.prototype.xt)};t.cancel=function(){Wn(this,Vn.prototype.xt)};t.uK=function(){Wn(this,Vn.prototype.gT)};t.hS=function(){var b=this;$.post("/reactive").done(function(c){c.r?U(c.msg):(b.eH=j,Wn(b,Vn.prototype.xt))})};a.Yn=function(b,c,d){M.call(this);this.Wc=d||"搜索话题";this.V=c;this.data=b||[];this.status=Xn;this.JG="/topic/unbind";this.kB="/topic/bind";this.isEnabled=j;this.Mr='<a class="zm-tag-editor-tip-link" href="#" name="edit">帮忙给这个问题选个话题吧，好让别人来回答</a><a name="edit" class="zu-edit-button" href="#"><i class="zu-edit-button-icon"></i>添加</a>';this.ce=10;this.vs=m;this.os=Infinity;this.rs=0};y(Yn,Hk);a.Zn=["需要阐述清楚的问题","需要重写的问题","需要改进的问题"],a.Xn="view",a.$n="零一二三四五六七八九十".split("");t=Yn.prototype;
t.n=function(b){this.e=b;this.Re=J("zm-tag-editor-labels",this.e);this.vs&&(this.data=this.Ly());ao(this);this.se();this.Ha()};t.Ly=function(){var b=Vb("zm-item-tag",this.Re);return z.map(b,function(b){var d=[Ka(b.innerHTML),b.getAttribute("data-token"),k,b.getAttribute("data-topicid")];d.XT=!!b.getAttribute("data-uneditable");return d})};
a.ao=function(b){if(b.data.length){var c=z.map(b.data,function(b){return $j(b,z.contains(Zn,b[0])?"zg-sys-tag ":"",k,"b")},b);b.isEnabled&&c.push(ek());b.Re.innerHTML=c.join("")}else b.isEnabled&&(b.Re.innerHTML=b.Mr)};
t.xn=function(){this.xb||(this.xb=K("div","zm-tag-editor-editor",[this.sn=K("div","zg-section zg-clear"),this.$e=K("div","zg-section zm-tag-editor-command-buttons-wrap",[this.Sa=K("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),K("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.jD=K("a",{href:"#",name:"close"},"完成")]),this.ps=K("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[K("span",{},"最多只能为一个问题绑定 "+this.os+" 个话题"),
K("a",{href:"#",name:"close"},"完成")])]),kc(this.xb,this.Re),this.Wc&&(this.Jx=new Nl(this.Wc),this.Jx.n(this.Sa),this.Sa.title=this.Wc),this.jf(this.$e))};t.jf=function(b,c){this.J=new an(c||"/topic/autocomplete",this.Sa,k,k,b,j);this.J.yf(j);this.J.Wh=this.ce;this.J.fp(this.Zj());this.J.Ov=[this.Wc];this.g().c(this.J,"select",this.yo);this.g().c(this.J,km.qh.vi,this.tu)};
t.Zj=function(){return v(function(b){return z.filter(b,function(b){return z.every(this.data,function(d){return d[0]!==b[1]})},this)},this)};t.tu=function(){1<this.J.fb.length&&!this.J.fb[0][4]&&nm(this.J)};t.Ha=function(){this.g().c(this.e,"click",this.fa);Ii&&this.g().c(Ii,"anon_change",this.dj)};t.dj=function(b){b.jb?D.add(this.e,"zm-tag-editor-disabled"):D.remove(this.e,"zm-tag-editor-disabled")};
t.fa=function(b){var c=this.df(b.target);if(c&&c.name)switch(b.preventDefault(),c.name){case "edit":if(!S.Ld){Vn.D().w(j);break}this.be(j);break;case "add":(b=ak(bk(this.Sa.value)))&&b!==this.Sa.title&&this.Ue("",b);break;case "close":this.be(m);break;case "remove":this.WF(c)}};t.be=function(b){b&&this.dispatchEvent("start_editing");this.status=b?"edit":Xn;this.xn();this.Oe();this.se();bo(this)};
t.WF=function(b){var c=b.id.split("-")[1],d=rc(b).innerHTML;this.rs&&this.data.length<=this.rs?U("请至少绑定"+$n[this.rs]+"个话题"):(this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c}),this.Io(c))};t.Io=function(b){if(!this.Xs||!this.Xs.Gb()){this.Xs=new V(j);var c=new Qi;c.add("qid",this.V).add("question_id",this.V).add("topic_id",b);P(this.g(),this.Xs,"complete",this.rN);this.Xs.ajax(this.JG,c.toString())}};
t.rN=function(b){b=Ge(b.target);b.r?U(b.msg):(this.dispatchEvent("remove_tag"),ao(this),this.Oe(),bo(this))};t.se=function(){this.status===Xn?(R(this.Re,j),this.xb&&R(this.xb,m)):(R(this.Re,m),this.xb&&this.isEnabled&&R(this.xb,j),this.ps&&R(this.ps,m))};t.Ue=function(b,c){this.Vg||(this.dispatchEvent("add_tag"),this.Vg=j,this.xhr=new V(j),P(this.g(),this.xhr,"complete",this.uu),this.xhr.ajax(this.kB,"qid="+this.V+"&question_id="+this.V+"&topic_id="+b+"&topic_text="+encodeURIComponent(c)))};
t.yo=function(){var b="",c="",d=z.slice(this.J.Xf(),1);3<d.length?(b=d[3],c=d[0]):c=d[1];var e=m;z.forEach(this.data,function(d){if(d[3]&&String(d[3])===b||d[0]===c)e=j});e||this.Ue(b,c)};t.uu=function(){this.Vg=m;var b=Ge(this.xhr);this.ck(b);bo(this)};t.ck=function(b){var c=k;b&&b.r?b.notify?Lk(b.notify):U(b.msg,2E3):(4<b.length&&Lk(b[4]),this.aH=c=b,this.data.push(c),ao(this),this.Oe(),this.Sa.value="",this.dispatchEvent("select"))};t.qD=function(b){return $j(b,"nor",m)};
t.Oe=function(){var b=z.map(this.data,function(b){return['<span class="zm-tag-editor-edit-item">',this.qD(b),b.XT?"":'<a id="rmid-'+b[3]+'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a>',"</span>"].join("")},this);this.sn.innerHTML=b.join("")};t.Xf=p("aH");t.gb=function(b){this.isEnabled=b;this.status=Xn;this.se()};
a.bo=function(b){var c=b.data.length>=b.os;b.$e&&R(b.$e,!c);b.ps&&R(b.ps,c)},a.co=function(b){Yn.call(this);this.Mr="";this.Wc=b||"";this.os=this.ce=5;this.Mp=$("#zh-question-suggest-title-content")};y(co,Yn);t=co.prototype;
t.n=function(b){co.m.n.call(this,b);this.be(j);z.forEach(Ub("a",k,b),function(b){R(b,m)});this.g().c(this.Sa,"focus",function(){this.Mp.val()&&!this.YC&&(this.YC=j,this.yA());this.placeholder&&(this.placeholder.bk("搜索话题"),Um(this.placeholder))});this.HE=new um;this.HE.attach(this.Sa);this.g().c(this.HE,"key",function(b){8===b.keyCode&&(1===this.Sa.value.length&&(this.JB=j,this.eK=setTimeout(v(function(){this.JB=m;clearTimeout(this.eK)},this))),!this.Sa.value.length&&!this.JB&&(this.data.pop(),this.Oe(),
this.dispatchEvent("remove_tag")))});this.nT=new bl(this.yA,2E3,this);this.g().c(this.Mp[0],"keyup",function(){var b=this.Mp.val();this.yt!==b&&(this.nT.fire(),this.yt=b)});this.g().c(this,["remove_tag","add_tag"],function(){eo(this);0<this.data.length&&this.placeholder&&(this.placeholder.bk("搜索话题"),Um(this.placeholder));5<=this.data.length?(this.gb(m),this.Jp.show(),this.placeholder&&this.placeholder.hide(),this.bu.hide()):(this.gb(j),this.Jp.hide(),this.placeholder&&this.placeholder.show(),this.bu.show(),
this.Jp.removeClass("light"))})};t.Zj=function(){return v(function(b){return z.filter(b,function(b){return z.every(this.data,function(d){return d[1]!==b[1]})},this)},this)};t.Io=function(){this.dispatchEvent("remove_tag");ao(this);this.Oe()};
t.xn=function(){this.xb||(co.m.xn.call(this),D.add(this.xb,"zg-clear"),D.set(this.sn,"zg-inline"),D.add(this.$e,"zg-left"),D.remove(this.$e,"zg-section"),D.set(this.Sa,"zu-question-suggest-topic-input"),D.add(this.Sa,"label-input-label"),this.Op=$("<div class='sug-con zg-clear' style='display:none;'></div>").append("<span class='zg-gray-normal zg-left tip'>推荐添加</span>").append(this.vI=$("<span class='sugs zg-clear zg-inline'></span>")).append(this.OA=$("<img src='/static/img/spinner2.gif' style=''/>")),
this.Op.insertAfter(this.e),this.Op.on("click","a[name='add']",v(function(b){b=b.currentTarget;if(5>this.data.length)this.Ue($(b).attr("data-id"),$(b).attr("data-text"));else{this.Jp.addClass("light");var c=$(this.xb);c.parent().addClass("sandbox");c.addClass("animated shake");setTimeout(function(){c.removeClass("animated shake");c.parent().removeClass("sandbox");qa(i)&&i()},1E3)}},this)),this.bu=$("<label for='topic' class='zg-icon search-icon'></label>"),$(this.$e).append(this.bu),this.placeholder=
new Rm(this.Sa,{text:"搜索话题",IB:j}),$(this.$e).append(this.Jp=$("<label class='err-tip' style='display:none;'>最多添加五个话题</label>")),this.g().c(this.xb,"click",this.UT))};t.UT=function(b){kk(this.e,b.target)||(b=J("zu-question-suggest-topic-input",this.xb),pg(b)&&b.focus())};
t.yA=function(){this.YC&&(this.yt=this.Mp.val(),8>this.yt.length?(this.zt=[],eo(this)):(this.sp&&this.sp.abort(),this.sp=new V(m),this.g().c(this.sp,"success",this.PQ),this.sp.ajax("/topic-question/autocomplete?token="+this.yt+"&max_matches=5&use_similar=0","GET"),this.OA.show()))};t.PQ=function(){this.zt=Ge(this.sp)[0].slice(1);eo(this)};
a.eo=function(b){var c;c=b.zt?z.filter(b.zt,function(b){return z.every(this.data,function(c){return c[1]!==b[1]})},b):[];b.Op.show();(!c||0===c.length)&&b.Op.hide();var d="";c=z.map(c,function(b){return"<a href='javascript:;' name='add' data-id='"+b[4]+"' data-text='"+b[1]+"' class='zg-r3px zm-item-tag'><span>"+b[1]+"</span></a>"});d+=c.join("");b.vI.html(d);b.OA.hide()};
t.Oe=function(){var b=[];z.forEach(this.data,function(c){b.push(['<div class="zm-tag-editor-edit-item"><span>',c[0],'</span><a id="rmid-',c[3],'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a></div>'].join(""))},this);this.sn.innerHTML=b.join("")};t.reset=function(){this.data=[];ao(this);this.Oe()};t.WF=function(b){var c=b.id.split("-")[1],d=rc(b).innerHTML;this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c});this.Io(c)};
t.Ue=function(b,c){var d=[c,c,"",b];this.aH=d;this.data.push(d);ao(this);this.Oe();this.Sa.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};t.gb=function(b){this.Sa&&R(this.Sa,b)};a.fo=function(){M.call(this)};y(fo,M);a.go=ke("goog.dom.SavedRange");fo.prototype.restore=u(37);a.ho=function(b,c,d,e,g){this.Mc=!!c;b&&this.$c(b,e);this.depth=g!=i?g:this.$b||0;this.Mc&&(this.depth*=-1);this.Cq=!d};y(ho,Ld);t=ho.prototype;t.ca=k;t.$b=0;t.Yz=m;t.$c=function(b,c,d){if(this.ca=b)this.$b=pa(c)?c:1!=this.ca.nodeType?0:this.Mc?-1:1;pa(d)&&(this.depth=d)};t.Dg=function(b){this.ca=b.ca;this.$b=b.$b;this.depth=b.depth;this.Mc=b.Mc;this.Cq=b.Cq};t.clone=function(){return new ho(this.ca,this.Mc,!this.Cq,this.$b,this.depth)};t.np=u(17);
t.next=function(){var b;if(this.Yz){(!this.ca||this.Cq&&0==this.depth)&&f(O.Za);b=this.ca;var c=this.Mc?-1:1;if(this.$b==c){var d=this.Mc?b.lastChild:b.firstChild;d?this.$c(d):this.$c(b,-1*c)}else(d=this.Mc?b.previousSibling:b.nextSibling)?this.$c(d):this.$c(b.parentNode,-1*c);this.depth+=this.$b*(this.Mc?-1:1)}else this.Yz=j;(b=this.ca)||f(O.Za);return b};t.Ui=function(b){return b.ca==this.ca&&(!this.ca||b.$b==this.$b)};
t.splice=function(b){var c=this.ca,d=this.Mc?1:-1;this.$b==d&&(this.$b=-1*d,this.depth+=this.$b*(this.Mc?-1:1));this.Mc=!this.Mc;ho.prototype.next.call(this);this.Mc=!this.Mc;for(var d=ma(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)kc(d[e],c);L(c)};a.io=function(){},a.jo=function(b){if(b.getSelection)return b.getSelection();var b=b.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(e){return k}return c}return k},a.ko=function(b){for(var c=[],d=0,e=b.cj();d<e;d++)c.push(b.Be(d));return c};t=io.prototype;t.Db=u(54);
a.lo=function(b){return b.Uh()?b.ha():b.T()},a.mo=function(b){return b.Uh()?b.T():b.ha()},a.no=function(b){return b.Uh()?b.ra():b.Ea()};t.Uh=s(m);t.za=function(){return Rb(A?this.uc():this.T())};t.Pa=function(){return ac(this.za())};t.containsNode=function(b,c){return this.Ag(oo(b),c)};t.lg=u(40);a.po=function(b,c){ho.call(this,b,c,j)};y(po,ho);a.qo=function(){};y(qo,io);qo.prototype.Ag=function(b,c){var d=ko(this),e=ko(b);return(c?z.some:z.every)(e,function(b){return z.some(d,function(d){return d.Ag(b,c)})})};qo.prototype.insertNode=function(b,c){c?jc(b,this.T()):kc(b,this.ha());return b};qo.prototype.ih=u(9);a.ro=function(b,c,d,e,g){var h;b&&(this.ta=b,this.ya=c,this.pa=d,this.wa=e,1==b.nodeType&&"BR"!=b.tagName&&(b=b.childNodes,(c=b[c])?(this.ta=c,this.ya=0):(b.length&&(this.ta=z.rf(b)),h=j)),1==d.nodeType&&((this.pa=d.childNodes[e])?this.wa=0:this.pa=d));ho.call(this,g?this.pa:this.ta,g,j);if(h)try{this.next()}catch(l){l!=O.Za&&f(l)}};y(ro,po);t=ro.prototype;t.ta=k;t.pa=k;t.ya=0;t.wa=0;t.bj=u(60);t.$i=u(43);t.T=p("ta");t.ha=p("pa");t.bo=function(){return this.Yz&&this.ca==this.pa&&(!this.wa||1!=this.$b)};
t.next=function(){this.bo()&&f(O.Za);return ro.m.next.call(this)};t.np=u(16);t.Dg=function(b){this.ta=b.ta;this.pa=b.pa;this.ya=b.ya;this.wa=b.wa;this.lf=b.lf;ro.m.Dg.call(this,b)};t.clone=function(){var b=new ro(this.ta,this.ya,this.pa,this.wa,this.lf);b.Dg(this);return b};a.so=function(){};so.prototype.Ag=function(b,c){var d=c&&!b.isCollapsed(),e=b.O;try{return d?0<=this.ve(e,0,1)&&0>=this.ve(e,1,0):0<=this.ve(e,0,0)&&0>=this.ve(e,1,1)}catch(g){return A||f(g),m}};so.prototype.containsNode=function(b,c){return this.Ag(to(b),c)};so.prototype.Kg=u(26);so.prototype.dd=function(){return new ro(this.T(),this.ra(),this.ha(),this.Ea())};a.uo=function(b){this.O=b};y(uo,so);a.wo=function(b){var c=Rb(b).createRange();if(3==b.nodeType)c.setStart(b,0),c.setEnd(b,b.length);else if(vo(b)){for(var d,e=b;(d=e.firstChild)&&vo(d);)e=d;c.setStart(e,0);for(e=b;(d=e.lastChild)&&vo(d);)e=d;c.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=b.parentNode,b=z.indexOf(d.childNodes,b),c.setStart(d,b),c.setEnd(d,b+1);return c},a.xo=function(b,c,d,e){var g=Rb(b).createRange();g.setStart(b,c);g.setEnd(d,e);return g};t=uo.prototype;t.clone=function(){return new this.constructor(this.O.cloneRange())};
t.uc=function(){return this.O.commonAncestorContainer};t.T=function(){return this.O.startContainer};t.ra=function(){return this.O.startOffset};t.ha=function(){return this.O.endContainer};t.Ea=function(){return this.O.endOffset};t.ve=function(b,c,d){return this.O.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.START_TO_END:1==c?fa.Range.END_TO_START:fa.Range.END_TO_END,b)};t.isCollapsed=function(){return this.O.collapsed};t.Jc=u(32);t.Yd=u(48);
t.select=function(b){var c=ac(Rb(this.T()));this.Vo(c.getSelection(),b)};t.Vo=function(b){b.removeAllRanges();b.addRange(this.O)};t.Yc=u(5);t.insertNode=function(b,c){var d=this.O.cloneRange();d.collapse(c);d.insertNode(b);d.detach();return b};t.ih=u(8);t.collapse=function(b){this.O.collapse(b)};a.yo=function(b){this.O=b};y(yo,uo);yo.prototype.Vo=function(b,c){!c||this.isCollapsed()?yo.m.Vo.call(this,b,c):(b.collapse(this.ha(),this.Ea()),b.extend(this.T(),this.ra()))};a.zo=function(b,c){this.O=b;this.Wq=c};y(zo,so);a.Ao=ke("goog.dom.browserrange.IeRange"),a.Bo=function(b){var c=Rb(b).body.createTextRange();if(1==b.nodeType)c.moveToElementText(b),vo(b)&&!b.childNodes.length&&c.collapse(m);else{for(var d=0,e=b;e=e.previousSibling;){var g=e.nodeType;if(3==g)d+=e.length;else if(1==g){c.moveToElementText(e);break}}e||c.moveToElementText(b.parentNode);c.collapse(!e);d&&c.move("character",d);c.moveEnd("character",b.length)}return c};t=zo.prototype;t.ig=k;t.ta=k;
t.pa=k;t.ya=-1;t.wa=-1;t.clone=function(){var b=new zo(this.O.duplicate(),this.Wq);b.ig=this.ig;b.ta=this.ta;b.pa=this.pa;return b};t.ue=function(){this.ig=this.ta=this.pa=k;this.ya=this.wa=-1};
t.uc=function(){if(!this.ig){var b=this.O.text,c=this.O.duplicate(),d=b.replace(/ +$/,"");(d=b.length-d.length)&&c.moveEnd("character",-d);d=c.parentElement();c=Ha(c.htmlText).length;if(this.isCollapsed()&&0<c)return this.ig=d;for(;c>Ha(d.outerHTML).length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&vo(d.firstChild);)d=d.firstChild;0==b.length&&(d=Co(this,d));this.ig=d}return this.ig};
a.Co=function(b,c){for(var d=c.childNodes,e=0,g=d.length;e<g;e++){var h=d[e];if(vo(h)){var l=Bo(h),n=l.htmlText!=h.outerHTML;if(b.isCollapsed()&&n?0<=b.ve(l,1,1)&&0>=b.ve(l,1,0):b.O.inRange(l))return Co(b,h)}}return c};t.T=function(){this.ta||(this.ta=Do(this,1),this.isCollapsed()&&(this.pa=this.ta));return this.ta};t.ra=function(){0>this.ya&&(this.ya=Eo(this,1),this.isCollapsed()&&(this.wa=this.ya));return this.ya};
t.ha=function(){if(this.isCollapsed())return this.T();this.pa||(this.pa=Do(this,0));return this.pa};t.Ea=function(){if(this.isCollapsed())return this.ra();0>this.wa&&(this.wa=Eo(this,0),this.isCollapsed()&&(this.ya=this.wa));return this.wa};t.ve=function(b,c,d){return this.O.compareEndPoints((1==c?"Start":"End")+"To"+(1==d?"Start":"End"),b)};
a.Do=function(b,c,d){d=d||b.uc();if(!d||!d.firstChild)return d;for(var e=1==c,g=0,h=d.childNodes.length;g<h;g++){var l=e?g:h-g-1,n=d.childNodes[l],q;try{q=to(n)}catch(r){continue}var x=q.O;if(b.isCollapsed())if(vo(n)){if(q.Ag(b))return Do(b,c,n)}else{if(0==b.ve(x,1,1)){b.ya=b.wa=l;break}}else{if(b.Ag(q)){if(!vo(n)){e?b.ya=l:b.wa=l+1;break}return Do(b,c,n)}if(0>b.ve(x,1,0)&&0<b.ve(x,0,1))return Do(b,c,n)}}return d},a.Eo=function(b,c){var d=1==c,e=d?b.T():b.ha();if(1==e.nodeType){for(var e=e.childNodes,
g=e.length,h=d?1:-1,l=d?0:g-1;0<=l&&l<g;l+=h){var n=e[l];if(!vo(n)&&0==b.O.compareEndPoints((1==c?"Start":"End")+"To"+(1==c?"Start":"End"),to(n).O))return d?l:l+1}return-1==l?0:l}g=b.O.duplicate();h=Bo(e);g.setEndPoint(d?"EndToEnd":"StartToStart",h);g=g.text.length;return d?e.length-g:g};t.bg=u(68);t.isCollapsed=function(){return 0==this.O.compareEndPoints("StartToEnd",this.O)};t.Jc=u(31);t.Yd=u(47);t.select=function(){this.O.select()};t.Yc=u(4);
a.Fo=function(b,c,d){var e;e=e||Sb(b.parentElement());var g;1!=c.nodeType&&(g=j,c=e.o("DIV",k,c));b.collapse(d);var d=e||Sb(b.parentElement()),h,l=h=c.id;h||(h=c.id=db());b.pasteHTML(c.outerHTML);(c=d.h(h))&&(l||c.removeAttribute("id"));g&&(b=c.firstChild,e.TL(c),c=b);return c};t.insertNode=function(b,c){var d=Fo(this.O.duplicate(),b,c);this.ue();return d};t.ih=u(7);t.collapse=function(b){this.O.collapse(b);b?(this.pa=this.ta,this.wa=this.ya):(this.ta=this.pa,this.ya=this.wa)};a.Go=function(b){this.O=b};y(Go,uo);Go.prototype.Vo=function(b){b.collapse(this.T(),this.ra());(this.ha()!=this.T()||this.Ea()!=this.ra())&&b.extend(this.ha(),this.Ea());0==b.rangeCount&&b.addRange(this.O)};a.Ho=function(b){this.O=b};y(Ho,uo);Ho.prototype.ve=function(b,c,d){return Eb("528")?Ho.m.ve.call(this,b,c,d):this.O.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.END_TO_START:1==c?fa.Range.START_TO_END:fa.Range.END_TO_END,b)};Ho.prototype.Vo=function(b,c){b.removeAllRanges();c?b.setBaseAndExtent(this.ha(),this.Ea(),this.T(),this.ra()):b.setBaseAndExtent(this.T(),this.ra(),this.ha(),this.Ea())};a.Io=function(b){return A&&!Gb(9)?new zo(b,Rb(b.parentElement())):C?new Ho(b):B?new yo(b):rb?new Go(b):new uo(b)},a.to=function(b){if(A&&!Gb(9)){var c=new zo(Bo(b),Rb(b));if(vo(b)){for(var d,e=b;(d=e.firstChild)&&vo(d);)e=d;c.ta=e;c.ya=0;for(e=b;(d=e.lastChild)&&vo(d);)e=d;c.pa=e;c.wa=1==e.nodeType?e.childNodes.length:e.length;c.ig=b}else c.ta=c.pa=c.ig=b.parentNode,c.ya=z.indexOf(c.ig.childNodes,b),c.wa=c.ya+1;b=c}else b=C?new Ho(wo(b)):B?new yo(wo(b)):rb?new Go(wo(b)):new uo(wo(b));return b},a.vo=
function(b){return gc(b)||3==b.nodeType};a.Jo=function(){};y(Jo,io);a.Ko=function(b,c){var d=new Jo;d.zi=b;d.lf=!!c;return d},a.Mo=function(b,c,d,e){var g=new Jo;g.lf=Lo(b,c,d,e);if("BR"==b.tagName)var h=b.parentNode,c=z.indexOf(h.childNodes,b),b=h;"BR"==d.tagName&&(h=d.parentNode,e=z.indexOf(h.childNodes,d),d=h);g.lf?(g.ta=d,g.ya=e,g.pa=b,g.wa=c):(g.ta=b,g.ya=c,g.pa=d,g.wa=e);return g};t=Jo.prototype;t.zi=k;t.ta=k;t.ya=k;t.pa=k;t.wa=k;t.lf=m;
t.clone=function(){var b=new Jo;b.zi=this.zi;b.ta=this.ta;b.ya=this.ya;b.pa=this.pa;b.wa=this.wa;b.lf=this.lf;return b};t.Oh=s("text");t.Vd=function(){return No(this).O};t.ue=function(){this.ta=this.ya=this.pa=this.wa=k};t.cj=s(1);t.Be=function(){return this};
a.No=function(b){var c;if(!(c=b.zi)){c=b.T();var d=b.ra(),e=b.ha(),g=b.Ea();if(A&&!Gb(9)){var h=c,l=d,n=e,q=g,r=m;1==h.nodeType&&(l>h.childNodes.length&&Ao.log(ae,"Cannot have startOffset > startNode child count",i),l=h.childNodes[l],r=!l,h=l||h.lastChild||h,l=0);var x=Bo(h);l&&x.move("character",l);h==n&&l==q?x.collapse(j):(r&&x.collapse(m),r=m,1==n.nodeType&&(q>n.childNodes.length&&Ao.log(ae,"Cannot have endOffset > endNode child count",i),n=(l=n.childNodes[q])||n.lastChild||n,q=0,r=!l),h=Bo(n),
h.collapse(!r),q&&h.moveEnd("character",q),x.setEndPoint("EndToEnd",h));q=new zo(x,Rb(c));q.ta=c;q.ya=d;q.pa=e;q.wa=g;c=q}else c=C?new Ho(xo(c,d,e,g)):B?new yo(xo(c,d,e,g)):rb?new Go(xo(c,d,e,g)):new uo(xo(c,d,e,g));c=b.zi=c}return c};t.uc=function(){return No(this).uc()};t.T=function(){return this.ta||(this.ta=No(this).T())};t.ra=function(){return this.ya!=k?this.ya:this.ya=No(this).ra()};t.ha=function(){return this.pa||(this.pa=No(this).ha())};t.Ea=function(){return this.wa!=k?this.wa:this.wa=No(this).Ea()};
t.Uh=p("lf");t.Ag=function(b,c){var d=b.Oh();return"text"==d?No(this).Ag(No(b),c):"control"==d?(d=b.Lh(),(c?z.some:z.every)(d,function(b){return this.containsNode(b,c)},this)):m};t.bg=u(67);t.isCollapsed=function(){return No(this).isCollapsed()};t.Jc=u(30);t.Kg=u(25);t.Yd=u(46);t.dd=function(){return new ro(this.T(),this.ra(),this.ha(),this.Ea())};t.select=function(){No(this).select(this.lf)};t.Yc=u(3);t.insertNode=function(b,c){var d=No(this).insertNode(b,c);this.ue();return d};t.ih=u(6);t.oz=function(){return new Oo(this)};
t.collapse=function(b){b=this.Uh()?!b:b;this.zi&&this.zi.collapse(b);b?(this.pa=this.ta,this.wa=this.ya):(this.ta=this.pa,this.ya=this.wa);this.lf=m};a.Oo=function(b){this.vB=lo(b);this.MJ=b.Uh()?b.Ea():b.ra();this.mD=mo(b);this.XL=no(b)};y(Oo,fo);Oo.prototype.Yj=u(36);Oo.prototype.p=function(){Oo.m.p.call(this);this.mD=this.vB=k};a.Po=function(){};y(Po,qo);a.Qo=function(b){var c=new Po;c.O=b;return c},a.Ro=function(b){for(var c=Rb(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)c.addElement(arguments[d]);return Qo(c)};t=Po.prototype;t.O=k;t.Va=k;t.pp=k;t.ue=function(){this.pp=this.Va=k};t.clone=function(){return Ro.apply(this,this.Lh())};t.Oh=s("control");t.Vd=function(){return this.O||document.body.createControlRange()};t.cj=function(){return this.O?this.O.length:0};
t.Be=function(b){b=this.O.item(b);return Ko(to(b),i)};t.uc=function(){return wc.apply(k,this.Lh())};t.T=function(){return So(this)[0]};t.ra=s(0);t.ha=function(){var b=So(this),c=z.rf(b);return z.find(b,function(b){return sc(b,c)})};t.Ea=function(){return this.ha().childNodes.length};t.Lh=function(){if(!this.Va&&(this.Va=[],this.O))for(var b=0;b<this.O.length;b++)this.Va.push(this.O.item(b));return this.Va};
a.So=function(b){b.pp||(b.pp=b.Lh().concat(),b.pp.sort(function(b,d){return b.sourceIndex-d.sourceIndex}));return b.pp};t.bg=u(66);t.isCollapsed=function(){return!this.O||!this.O.length};t.Jc=u(29);t.Kg=u(24);t.Yd=u(45);t.dd=function(){return new To(this)};t.select=function(){this.O&&this.O.select()};t.Yc=u(2);t.lg=u(39);t.oz=function(){return new Uo(this)};t.collapse=function(){this.O=k;this.ue()};a.Uo=function(b){this.Va=b.Lh()};y(Uo,fo);Uo.prototype.Yj=u(35);
Uo.prototype.p=function(){Uo.m.p.call(this);delete this.Va};a.To=function(b){b&&(this.Va=So(b),this.ta=this.Va.shift(),this.pa=z.rf(this.Va)||this.ta);ho.call(this,this.ta,m,j)};y(To,po);t=To.prototype;t.ta=k;t.pa=k;t.Va=k;t.bj=u(59);t.$i=u(42);t.T=p("ta");t.ha=p("pa");t.bo=function(){return!this.depth&&!this.Va.length};t.next=function(){this.bo()&&f(O.Za);if(!this.depth){var b=this.Va.shift();this.$c(b,1,1);return b}return To.m.next.call(this)};
t.Dg=function(b){this.Va=b.Va;this.ta=b.ta;this.pa=b.pa;To.m.Dg.call(this,b)};t.clone=function(){var b=new To(k);b.Dg(this);return b};a.Vo=function(){this.We=[];this.Yl=[];this.Dq=this.um=k};y(Vo,qo);t=Vo.prototype;t.Aa=ke("goog.dom.MultiRange");t.ue=function(){this.Yl=[];this.Dq=this.um=k};t.clone=function(){var b=new Vo;b.We=z.clone(this.We);return b};t.Oh=s("mutli");t.Vd=function(){1<this.We.length&&this.Aa.rk("getBrowserRangeObject called on MultiRange with more than 1 range");return this.We[0]};t.cj=function(){return this.We.length};t.Be=function(b){this.Yl[b]||(this.Yl[b]=Ko(Io(this.We[b]),i));return this.Yl[b]};
t.uc=function(){if(!this.Dq){for(var b=[],c=0,d=this.cj();c<d;c++)b.push(this.Be(c).uc());this.Dq=wc.apply(k,b)}return this.Dq};a.Wo=function(b){b.um||(b.um=ko(b),b.um.sort(function(b,d){var e=b.T(),g=b.ra(),h=d.T(),l=d.ra();return e==h&&g==l?0:Lo(e,g,h,l)?1:-1}));return b.um};t.T=function(){return Wo(this)[0].T()};t.ra=function(){return Wo(this)[0].ra()};t.ha=function(){return z.rf(Wo(this)).ha()};t.Ea=function(){return z.rf(Wo(this)).Ea()};t.bg=u(65);
t.isCollapsed=function(){return 0==this.We.length||1==this.We.length&&this.Be(0).isCollapsed()};t.Jc=u(28);t.Kg=u(23);t.Yd=u(44);t.dd=function(){return new Xo(this)};t.select=function(){var b=jo(this.Pa());b.removeAllRanges();for(var c=0,d=this.cj();c<d;c++)b.addRange(this.Be(c).Vd())};t.Yc=u(1);t.oz=function(){return new Yo(this)};t.collapse=function(b){if(!this.isCollapsed()){var c=b?this.Be(0):this.Be(this.cj()-1);this.ue();c.collapse(b);this.Yl=[c];this.um=[c];this.We=[c.Vd()]}};
a.Yo=function(b){this.qz=z.map(ko(b),function(b){return b.oz()})};y(Yo,fo);Yo.prototype.Yj=u(34);Yo.prototype.p=function(){Yo.m.p.call(this);z.forEach(this.qz,function(b){b.C()});delete this.qz};a.Xo=function(b){b&&(this.cg=z.map(Wo(b),function(b){return O.ad(b)}));b=b?this.T():k;ho.call(this,b,m,j)};y(Xo,po);t=Xo.prototype;t.cg=k;t.Uk=0;t.bj=u(58);t.$i=u(41);t.T=function(){return this.cg[0].T()};t.ha=function(){return z.rf(this.cg).ha()};t.bo=function(){return this.cg[this.Uk].bo()};
t.next=function(){try{var b=this.cg[this.Uk],c=b.next();this.$c(b.ca,b.$b,b.depth);return c}catch(d){return(d!==O.Za||this.cg.length-1==this.Uk)&&f(d),this.Uk++,this.next()}};t.Dg=function(b){this.cg=z.clone(b.cg);Xo.m.Dg.call(this,b)};t.clone=function(){var b=new Xo(k);b.Dg(this);return b};a.$o=function(b){return(b=jo(b||window))&&Zo(b)},a.Zo=function(b){var c,d=m;if(b.createRange)try{c=b.createRange()}catch(e){return k}else if(b.rangeCount){if(1<b.rangeCount){c=new Vo;for(var d=0,g=b.rangeCount;d<g;d++)c.We.push(b.getRangeAt(d));return c}c=b.getRangeAt(0);d=Lo(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}else return k;return ap(c,d)},a.ap=function(b,c){return b&&b.addElement?Qo(b):Ko(Io(b),c)},a.oo=function(b){return Ko(to(b),i)},a.bp=function(b,c){return Mo(b,c,b,c)},a.Lo=
function(b,c,d,e){if(b==d)return e<c;var g;if(1==b.nodeType&&c)if(g=b.childNodes[c])b=g,c=0;else if(sc(b,d))return j;if(1==d.nodeType&&e)if(g=d.childNodes[e])d=g,e=0;else if(sc(d,b))return m;return 0<(vc(b,d)||c-e)};a.cp=function(b){return(b=b.exec(nb()))?b[1]:""},a.dp=function(){if(di)return cp(/Firefox\/([0-9.]+)/);if(A||rb)return xb;if(ii)return cp(/Chrome\/([0-9.]+)/);if(ji)return cp(/Version\/([0-9.]+)/);if(fi||gi){var b=/Version\/(\S+).*Mobile\/(\S+)/.exec(nb());if(b)return b[1]+"."+b[2]}else{if(hi)return(b=cp(/Android\s+([0-9.]+)/))?b:cp(/Version\/([0-9.]+)/);if(ei)return cp(/Camino\/([0-9.]+)/)}return""}();a.ep=A&&!Gb(9),a.fp=B||C||rb||A&&Gb(9),a.gp=C||m,a.hp=A||C||rb,a.ip=B||C;C&&Eb("534.16");a.jp=B&&j,a.kp=B||C||rb,a.lp=B||rb;A&&Eb("7.0");a.mp=B&&Eb("1.8")||C||rb,a.np=C||A&&Eb("9");A||rb||B&&Eb("1.9");a.op=B||C&&!Eb("527"),a.pp=A||rb,a.qp=A||C&&Eb("525"),a.rp=C&&!Eb("531"),a.sp=C&&!Eb("528");B&&Eb("1.9")||A||rb||C&&Eb("531");a.tp=A||B||rb,a.up=B||C&&!Eb("526"),a.vp=A||rb,a.wp=!A&&!rb,a.xp=!C;ii&&0<=bb(dp,"4")||ji&&Eb("533")||B&&Eb("2.0")||A&&Eb("10");a.yp=rb&&Eb("11.10");ii&&bb(dp,"12");a.zp=F.Dh("ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DETAILS","DIR","DIV","DL","DD","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","ISINDEX","OL","LI","MAP","MENU","NAV","OPTGROUP","OPTION","P","PRE","SECTION","SUMMARY","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"),a.Ap=F.Dh("IMG","IFRAME","EMBED");a.Bp=F.Dh("text","file","url");a.Dp=function(b,c){var d=b?Sb(b):c;T.call(this,d);this.rR=b||this.H().za().body;this.Gy={};Cp.push(this);this.ht=j};y(Dp,T);a.Ep=0,a.Cp=[];Dp.prototype.fe=k;Dp.prototype.il=m;Dp.prototype.Es=0;a.Fp=A?"styleFloat":"cssFloat",a.Gp=["position","top","left","width",Fp],a.Hp=["position","top","left","display",Fp,"marginTop","marginLeft","marginRight","marginBottom"];t=Dp.prototype;t.o=function(){Dp.m.o.call(this);this.ea(this.h())};t.ea=function(b){Dp.m.ea.call(this,b);D.add(b,"goog-scrollfloater")};
t.z=function(){Dp.m.z.call(this);this.Ku=vg(document.body).top-2;this.fe||(this.fe=this.H().o("div",{style:"visibility:hidden"}));this.Es=bg(this.h()).y;Ip(this,this.ht);var b=this.up=new bl(this.Bp,150,this);this.g().c(window,"scroll",b.fire,m,b);this.g().c(window,"resize",zk(150,this.Rw))};t.p=function(){Dp.m.p.call(this);z.remove(Cp,this);this.up.C();this.Bx&&(Ep-=this.uC);delete this.fe};a.Ip=function(b,c){(b.ht=c)?b.Bp():Jp(b)};
t.Bp=function(){this.ht&&(Lc(this.H()).y+this.Ku>this.Es?Kp(this):Jp(this))};a.Kp=function(b){if(!b.il){var c=b.h(),d=bg(c).x,e=sg(c).width;b.Gy={};F.forEach(Gp,function(b){this.Gy[b]=c.style[b]},b);F.forEach(Hp,function(b){this.fe.style[b]=c.style[b]||Uf(c,b)||Tf(c,b)},b);kg(b.fe,c.offsetWidth,c.offsetHeight);Rf(c,{left:d+"px",width:e+"px",cssFloat:"none"});c.parentNode.replaceChild(b.fe,c);b.rR.appendChild(c);c.style.position="fixed";b.So();D.add(c,"goog-scrollfloater-floating");b.il=j}};
t.So=function(){var b=this.h(),c=this.Ku;!this.Bx&&0<Ep&&(c+=Ep);b.style.top=c+"px"};a.Jp=function(b){if(b.il){var c=b.h();F.forEach(b.Gy,function(b,e){c.style[e]=b});b.fe.parentNode.replaceChild(c,b.fe);D.remove(c,"goog-scrollfloater-floating");b.il=m}};t.Rw=function(){Jp(this);this.Es=bg(this.h()).y;this.Bp()};a.Lp=function(b,c,d){Dp.call(this,b,d);this.RR=c;this.ji="";this.Jy=100};y(Lp,Dp);
Lp.prototype.Bp=function(){var b,c=this.ji;b=c&&z.find(Cp,function(b){return c===b.ji&&b.il});if(this.ht&&(!b||b===this)){b=this.RR.getBoundingClientRect();var d=this.Ku+Ep,e=d+this.Jy;b.top<d&&b.bottom>e?Kp(this):Jp(this)}};a.Mp=function(){};ia(Mp);
Mp.prototype.Fg=function(b,c,d){function e(){var e=window.ZH.createRichTextEditor(b,c),g=e[0],e=e[1];d&&d(g,e)}var g=vf.D(),h=g.ld.rich_text_editor;h.Zd()?(g.Aa.info("rich_text_editor module already loaded"),g=new qf(e,i),window.setTimeout(v(g.execute,g),0)):yf(g,"rich_text_editor")?(g.Aa.info("rich_text_editor module already loading"),h.Us(e,i)):(g.Aa.info("Registering callback for module: rich_text_editor"),h.Us(e,i),g.Aa.info("Initiating module load: rich_text_editor"),Bf(g,["rich_text_editor"]))};a.Np=function(b,c){this.G=$(b);this.F=$.extend({},this.R,c||{});this.xg()};Np.prototype.R={iS:[],iz:[],EK:j};a.Op="data-tip class style id bgcolor color size width height".split(" ");
Np.prototype.xg=function(){var b=this;if(this.F.EK)this.G.on("paste",function(){setTimeout(function(){var c=b.F,d=c.iS,e=c.iz,g={id:function(b,c){b.id&&!z.contains(d,b.id)&&b.removeAttribute(c)},"class":function(b,c){if(b.className)if(e.length){var d=D.get(b),d=z.filter(d,of(xa(z.contains,e)));d.length&&D.remove.apply(k,[b].concat(d))}else b.removeAttribute(c)}};$("*",b.G).each(function(){var b=this;$.each(Op,function(c,d){var e=g&&F.get(g,d);e?e(b,d):b.removeAttribute(d)})})})})};a.Pp=function(b,c){var d=this,e={};F.extend(e,this.R,c||{});this.F=e;var g=e.od?{od:v(e.od,d)}:k;g.W=e.W?v(e.W,d):k;this.L=g=new Km(e.Vj,g);var h=new Qm(e.source,!e.jU);this.nf=h;var l=e.sx;l||(l=new Am(e.separator,e.uL,!!e.multiple,e.delay),l.ei=function(b,c){var g;qa(e.select)&&(g=e.select.call(d,b,d.L.ah[d.L.zl]));Dm(this,ka(g)?g:b.label||b.toString(),c);return m});km.call(this,h,g,l);l.Z=this;l.Jk(b);b.setAttribute("autocomplete","off");h.ci=function(b,c,g){var h=g;qa(e.format)&&(h=function(b,
c){var h=e.format.call(d,c,b);qa(e.filter)&&(h=e.filter.call(d,h,b));g(b,h)});return Qm.prototype.ci.call(this,b,c,h)};g.LG=function(b,c,d){b=b.data;d.innerHTML=b.FT?b.FT():b.label||b.toString()};this.Rb=b;e.ce&&(this.Wh=e.ce);e.placeholder&&(this.fe=new Rm(b,e.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.qb()?"show":"hide")})};y(Pp,Wm);
Pp.prototype.R={source:"",ce:10,jU:m,filter:k,format:k,sx:k,delay:300,separator:k,uL:k,multiple:m,Vj:k,RY:k,placeholder:"",od:k,W:k};a.Sp=function(b){var c;return(c=Qp[this.F.source])||(c=Qp[Rp][b[0]])?c(b):b};Pp.prototype.R.format=function(b,c){return Ka(c)&&la(b)&&la(b[0])?z.map(b[0].slice(1),Sp,this):[]};a.Rp={}.aX,a.Qp={};
Qp[Rp]={topic:function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],answers:b[6],alias:b[7],raw:b,value:b[4],label:b[1]}},question:function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],answers:b[4],is_star:!!b[5],raw:b,label:b[1],value:b[2]}},people:function(b){return{type:b[0],fullname:b[1],url_token:b[2],avatar:b[3],id:b[4],headline:b[5],raw:b,label:b[1],value:b[4]}},search_link:function(b){return{type:b[0],raw:b,label:b[1],value:b[1]}}};
Qp["/topic/autocomplete"]=function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],followers:b[5],alias:b[6],label:b[1]}};Qp["/question/autocomplete"]=function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],is_duplicated:Boolean(+b[4]),answer_count:b[5],raw:b,label:b[1],value:b[2]}};a.Tp=function(b){this.F=$.extend(j,{},this.R,b||{});this.Qu();this.jf()};y(Tp,Fd);t=Tp.prototype;t.R={Im:{ce:6,content:"",method:"POST",source:"/people/autocomplete"},yR:"mention-popup",Mj:document.body,hB:"activated"};t.Qu=function(){var b=this.e=fc(this.VT);this.Oo=b.getElementsByTagName("input")[0];b.className=this.F.yR;b.style.display="none";this.F.Mj.appendChild(b)};t.uc=function(){return this.F.Mj};t.VT='<div><div class="writing-bg"><input></div><div class="tip">想用 @ 提到谁？</div></div>';
t.Bf=tk('<% if (data.id) { %><img class="avatar" src="<%=avatar%>"><span class="name"><%=label%></span><% } %>');t.qb=function(){return pg(this.e)};t.open=function(){this.qb()||(R(this.e,j),this.Oo.focus(),this.xg(),this.dispatchEvent("open"))};t.close=function(){this.qb()&&(R(this.e,m),D.remove(this.e,this.F.hB),this.Oo.value="",this.Oo.blur(),this.qv(),this.dispatchEvent("close"))};a.Up=function(b,c){b.close();b.dispatchEvent({type:"cancel",data:{originalEvent:c}})};
t.MF=function(b){this.qb()&&!sc(this.e,b.target)&&Up(this,b)};t.Fo=function(b){var c=b.keyCode,d=this.Oo;if(27===c||d===b.target&&""===d.value&&(8===c||32===c))Up(this,b),b.preventDefault(),b.stopPropagation()};t.xg=function(){N(document,"click",this.MF,m,this);N(this.e,"keydown",this.Fo,m,this)};t.qv=function(){wd(document,"click",this.MF,m,this);wd(this.e,"keydown",this.Fo,m,this)};
t.jf=function(){var b=this,c=this.F.Im,d=new Pp(this.Oo,{Vj:this.e,ce:c.ce,source:c.source,select:function(c){setTimeout(function(){b.close();b.dispatchEvent({type:"select",data:{wR:c}})});return""},od:function(c,d,h){h.innerHTML=b.Bf(c.data)}});d.Az(c.method);d.La(c.content);d.addEventListener("suggestionsupdate",function(){D.enable(this.e,this.F.hB,d.qb())},m,this);this.Z=d};t.position=function(b){Yf(this.e,b)};t.Ne=u(50);a.Vp=function(b,c){this.input=b;F.extend(this.F={},this.R,c||{});this.bi=new Tp({Im:this.F.Im,Mj:this.F.Mj});this.xg()};y(Vp,Fd);a.Wp=!!window.getSelection;Vp.prototype.R={Im:{},Mj:document.body,QE:"member_mention",Dr:"mention-holder",position:function(b,c){b.x+=c.width+7;b.y-=5;A&&7<xb&&(b.y+=c.height/2-9)}};a.Xp=F.Fa({LV:"member_mention"});Vp.prototype.h=p("input");
a.Yp=function(b){var b=J(b.F.Dr,b.input),c;if(b)return c=document.createTextNode("@"),mc(c,b),c},a.Zp=function(b,c){var d;B&&(d=$b(document),b.input.focus(),window.scrollTo(d.x,d.y));var e;Wp?(d=window.getSelection(),e=document.createRange(),e.setStartAfter(c),d.removeAllRanges(),d.addRange(e)):3===c.nodeType&&bp(c,c.length).select()};
Vp.prototype.xg=function(){var b=this.bi;N(b,"cancel",function(b){var d=Yp(this),b=b.data.originalEvent;d&&"click"!==b.type&&("keydown"===b.type&&32===b.keyCode&&(d=d.parentNode.insertBefore(document.createTextNode(" "),d.nextSibling)),Zp(this,d))},m,this);N(b,"select",function(b){var d=b.data.wR,b=J(this.F.Dr,this.input),e=document.createTextNode(" "),d=this.Hq(d);mc(d,b);d.parentNode.insertBefore(e,d.nextSibling);Zp(this,e)},m,this);N(this.input,"click",function(){b.qb()&&Yp(this)},m,this);N(this.input,
"keydown",function(b){var d;if(8===b.keyCode&&(d=$o())){var b=d.T(),e=d.ha(),g=d.ra();d=d.Ea();var h=m;$p(b.parentNode)&&(g=0,h=j);$p(e.parentNode)&&(d=e.length,h=j);h&&Mo(b,g,e,d).select()}},m,this);N(this.input,kb||fi||gi?"keypress":"keyup",function(b){function d(b,c){if(3!==b.nodeType||"@"===b.nodeValue&&b.previousSibling&&"A"===b.previousSibling.nodeName||b.parentNode&&"A"===b.parentNode.nodeName)return m;var d=b.nodeValue,e=c-1;if("@"!==d.slice(e,e+1))return m;var g=d;0<=e&&e<d.length&&(g=d.substr(0,
e)+d.substr(e+1,d.length-e-1));b.nodeValue=g;return j}if(!("keypress"===b.type&&"@"!==String.fromCharCode(b.charCode))){var e,g,h,l;if("keyup"===b.type){if(50!==b.keyCode)return;if(Wp){e=window.getSelection();h=e.anchorNode;l=e.anchorOffset;if(!d(h,l))return;C&&!h.nextSibling&&(h.nodeValue+=" ");g=document.createRange();e.removeAllRanges();g.setStart(h,l-1);g.setEnd(h,l-1);e.addRange(g)}else{g=ap(document.selection.createRange());h=lo(g);l=g.ra();if(!d(h,l))return;bp(h,l-1).select()}}this.At(b)}},
m,this)};
Vp.prototype.At=function(b){var c=this,d=this.bi;if(!d.qb()){var e=function(d){return!(d&&"A"===d.nodeName)&&d.className!==c.F.QE?(b&&b.preventDefault(),j):m};if(Wp){var g=window.getSelection();if(e(g.anchorNode.parentNode)){var e=g.getRangeAt(0),h=aq(c);e.insertNode(h);e.selectNode(h);g.removeAllRanges();g.addRange(e);e=bq(c,window.getSelection().getRangeAt(0));d.position(e);d.open()}}else g=document.selection.createRange(),h=g.parentElement(),e(h)&&(g.pasteHTML(aq(c).outerHTML),g.moveToElementText(J(c.F.Dr,c.input)),
g.select(),e=bq(c,g),"7.0"===xb&&(e.x-=2),d.position(e),d.open())}};a.bq=function(b,c){var d;d=c.getBoundingClientRect();var e;A&&(e={width:c.boundingWidth,height:c.boundingHeight},ya(e,d),d=e);e=$b(document);var g=bg(b.bi.uc());g.x=d.left-g.x+e.x;g.y=d.top-g.y+e.y;b.F.position.call(b,g,d);return g},a.$p=function(b){return b&&1===b.nodeType&&"A"===b.tagName&&z.contains(Xp,b.className)};Vp.prototype.Hq=function(b,c){return K("a",{href:"/people/"+b.url_token,className:c||this.F.QE,innerHTML:"@"+b.label})};
a.aq=function(b){return K("a",{className:b.F.Dr,innerHTML:"@"})};a.cq=function(b,c,d,e){T.call(this);this.status=this.Ab=k;this.EE=b;this.pP=e||0;this.VG=c;this.Lq=d;this.isEnabled=j;this.pD=m;this.de=[];this.content=k;this.dY=this.pP?j:m;this.Ot=m;this.CC=$.Deferred()};y(cq,T);t=cq.prototype;t.p=function(){this.Ka=k;cq.m.p.call(this)};
t.ea=function(b){cq.m.ea.call(this,b);var c=b.getAttribute("data-resourceid");c&&(this.jS=b.getAttribute("data-action"),this.bt=c);this.status||(this.status="normal");b=this.H();this.wd||(this.wd=b.Zi("zm-editable-content",this.e),"1"===this.wd.getAttribute("data-disabled")&&(this.disabled=j));this.nc?this.Ab&&(this.nc.innerHTML=this.Ab):(this.nc=b.Zi("zm-editable-tip",this.e),this.Ab&&!this.nc&&(this.nc=b.o("div","zm-editable-tip"),this.nc.innerHTML=this.Ab,b.Xn(this.nc,this.wd)));this.Lb=b.Zi("zm-editable-editor-wrap",
this.e);this.content=Ka(this.content||this.Ot?Fc(this.wd):this.wd.innerHTML);this.se();dq(this)};t.o=function(){var b=this.H(),b=b.o("div","zm-editable-item-wrap",[this.nc=b.o("div","zm-editable-tip"),this.wd=b.o("div","zm-editable-content",this.content)]);this.ea(b)};t.z=function(){cq.m.z.call(this);this.g().c(this.wd,"click",this.fa);this.nc&&this.g().c(this.nc,"click",this.fa)};t.La=function(b){this.content=b;dq(this)};
t.fa=function(b){var c=kk(this.e,b.target),d=this.H();if(!c||!c.name)return b=d.gM(b.target,"div","zm-editable-tip-label"),this.isEnabled&&b&&this.Gd(),j;b=c.name;switch(b){case "expand":dq(this);break;case "collapse":dq(this);break;case "edit":if(!S.Ld){Vn.D().w(j);return}this.v();this.Gd();this.dispatchEvent("click_edit");break;case "save":this.PD();break;case "cancel":this.dispatchEvent("cancel_edit");this.gh();break;default:return this.tl(b)}return j};
t.PD=function(){var b=ak(this.Wf()),c=/<embed/i.test(b);if(/<img/i.test(b)||c||this.EE||(!b?0:bk(b).length))b===this.content&&!this.pD?(this.dispatchEvent("save_unchanged"),this.gh()):(this.dispatchEvent("save_changed"),this.pf(b))};t.pf=function(b){if(!this.$||!this.$.Gb())if(this.Lq&&this.VG){this.$=new V(j);P(this.g(),this.$,"success",this.pB);var c=new Qi(this.de.join("&"));c.add(this.Lq,b).add("field_name",this.Lq);this.$.ajax(this.VG,c.toString())}else this.dispatchEvent("change")};
t.gh=function(){this.status="normal";this.se()};t.pB=function(){var b=Ge(this.$);b&&(b.r?U(b.msg):(this.La(b.msg),this.gh(),this.dispatchEvent("change")))};t.bb=p("content");t.lr=u(0);t.isContentEditable=function(){return!this.Ad};t.Wf=function(){return ck(Ma(this.Ka.value))};t.tl=function(b){this.dispatchEvent(b);return j};t.v=function(){this.xr||(this.xr=j,this.Fg())};
t.Or=function(){var b=this.Ka;if(b.h){var c=v(function(){this.tY=new Vp(b.h(),{Mj:this.Si})},this);b.Zd()?c():b.addEventListener("load",c)}};
t.Fg=function(){var b=this.H();this.Lb?(this.fd=b.Zi("zm-command",this.Lb),this.Ka=b.Zi("zm-editable-editor-input",this.Lb)):(this.Lb=b.o("div","zm-editable-editor-wrap clearfix",this.Si=b.o("div","zm-editable-editor-outer",b.o("div","zm-editable-editor-inner zg-form-text-input",this.Ka=b.o("textarea","zm-editable-editor-input")))),b.tx(this.Lb,this.wd),this.Gi());this.Ka&&(this.Ka.tagName&&"TEXTAREA"===this.Ka.tagName&&!this.Rq)&&new fm(this.Ka,66);this.Eo()};t.ready=function(b){this.CC.done(b)};
t.Eo=function(){this.g().c(this.fd,"click",this.fa);this.Nt&&this.Or();var b=this.Ka;if(b.h)b.on("load",function(){new Np(b.h(),{iz:this.Nt?Xp:[]})},m,this);this.CC.resolveWith(this)};t.Gi=function(){this.fd=K("div","zm-command",[this.mX=K("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.hn=K("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Lb.appendChild(this.fd)};
t.se=function(){this.Kq&&D.remove(this.e,this.Kq);"editing"===this.status?(this.nc&&R(this.nc,m),this.Lb&&R(this.Lb,j),R(this.wd,m),this.Kq="zm-editable-status-editing"):(this.nc&&(this.EE&&!this.content&&!this.disabled?R(this.nc,j):R(this.nc,m)),this.Lb&&R(this.Lb,m),this.content?R(this.wd,j):R(this.wd,m),this.Kq="zm-editable-status-normal");D.add(this.e,this.Kq)};t.Gd=function(){this.fr||(this.v(),this.ready(function(){this.status="editing";this.se();this.bp()}))};
t.bp=function(){if(this.bt)this.fr=j,eq(this);else{var b=this.Ka,c;c=Ya(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");b.value=c}};
a.dq=function(b){if(b.dispatchEvent("shouldUpdateContent")){var c=b.content,d=b.wd,e;e=[];b.disabled||e.push('<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>');e=e.join("");b.Ot?(xc(d,c),d.appendChild(fc(e))):d.innerHTML=c+e;$("img.lazy",d).lazyload({data_attribute:"actualsrc",threshold:400})}},a.eq=function(b){b.fr||(b.fr=j,Ci(b.jS+"?id="+b.bt,v(function(b){this.fr=m;b=Ge(b.target);b.r?U(b.msg):this.xz(b.msg)},b),"GET"))};
t.xz=function(b){this.Ka.value=b};a.fq=function(b,c,d,e){cq.call(this,b,c,d,e);this.xP="mock"+this.Wd();this.Fv=m;this.tq=j;this.Ad=!ki||hi;this.Nt=m;this.$H=this.iU=j;this.Xx=""};y(fq,cq);t=fq.prototype;t.xz=function(b){this.Ad?fq.m.xz.call(this,b):(b||(b=B?"":"<div></div>"),this.Ka.ge(m,b,j))};t.bp=function(){this.ready(function(){this.bt?eq(this):this.Ad?fq.m.bp.call(this):this.content?this.Ka.ge(m,this.content,m,j):this.Ka.ge(m,C?"<div><br></div>":"<div></div>",m,j)})};
t.p=function(){Tc(this.Ka);L(this.Lb);this.Hp=this.QA=this.Yg=this.al=this.qA=this.Si=this.Lb=k;fq.m.p.call(this)};
t.Fg=function(){if(this.Ad)fq.m.Fg.call(this);else{var b=this.H();this.Lb=b.o("div","zm-editable-editor-wrap",this.Si=b.o("div","zm-editable-editor-outer",[this.qA=b.o("div","zm-editable-toolbar-container"),this.al=b.o("div","zm-editable-editor-field-wrap",this.Yg=b.o("div",{id:this.xP,className:"zm-editable-editor-field-element"}))]));this.QA=$(this.qA);this.Hp=$(this.Lb);this.Hp.hide();b.tx(this.Lb,this.wd);this.bt||(this.Yg.innerHTML=this.content);b={loremIpsum_:this.Xx,enableFullScreen:this.Fv,
content:this.content,useScraper_:this.iU,canUploadMedia_:this.tq,useRemoveFormat_:this.$H};this.Gi();Mp.D().Fg(this.Lb,b,v(this.Eo,this));sb||(this.og=new Lp(k,this.Si),this.og.n(this.qA),Ip(this.og,m),Jp(this.og),Rc(this,this.og))}};
t.Eo=function(b,c){if(this.Ad)fq.m.Eo.call(this);else{this.Ka=b;this.Hp.show();fq.m.Eo.call(this);var d=b.aj("FullScreenPlugin");if(d){var e=kh(c,"toggleFullScreen");d.on("save",this.PD,m,this).on("willEnterFullScreen",function(){gq(this,m)},m,this).on("enterFullScreen",function(){e.Nc("退出写作模式")}).on("exitFullScreen",function(){e.Nc("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.Og})}if(d=b.aj("CodePlugin"))d.HS(c),d.xg()}};
a.gq=function(b,c){if(b.og)if(c){D.add(b.al,"zm-editable-editor-field-wrap-active");var d=b.og;d.Es=bg(d.h()).y;Ip(b.og,j)}else D.remove(b.al,"zm-editable-editor-field-wrap-active"),Ip(b.og,m)};t.Gd=function(){fq.m.Gd.call(this);this.ready(function(){!this.Ad&&!this.HL&&(this.HL=j,vd(this.Ka,"load",function(){var b=this.Ka,c=b.aj("FullScreenPlugin");B&&(b=b.field);N(b,["focus","blur"],function(b){(!c||!c.Ax())&&gq(this,"focus"===b.type)},m,this)},m,this),this.Ka.be())})};
t.Wf=function(){if(this.Ad)return fq.m.Wf.call(this);var b=this.Ka,c=b.h();return(z.some(["img","embed"],function(b){return c.getElementsByTagName(b).length})?0:!nf(ck,Ka,Fc)(c))?"":b.ll()};t.se=function(){fq.m.se.call(this);this.og&&Ip(this.og,"editing"===this.status)};a.hq=function(b){b.QA.toggle();b.Hp.toggleClass("no-toolbar")};a.iq=function(){this.xd=k};ia(iq);iq.prototype.refresh=function(){return this.xd&&"pending"===this.xd.state()?this.xd:this.xd=$.post("/oauth/refresh",function(b){var c=b.qq,b=b.sina;F.extend(Rg,c);F.extend(Qg,b);b.id&&W.dispatchEvent(new Jk("sina_callback",b));c.id&&W.dispatchEvent(new Jk("qq_callback",c))})};a.kq=function(b,c,d,e,g){function h(b){b&&(b.tabIndex=0,Mc(b,l.tc()),D.add(b,"goog-zippy-header"),jq(l,b),b&&l.IE.c(b,"keydown",l.mQ))}M.call(this);this.ba=g||Sb();this.Hh=this.ba.h(b)||k;this.un=this.ba.h(e||k);this.bl=(this.Px=qa(c)?c:k)||!c?k:this.ba.h(c);this.yd=d==j;this.IE=new le(this);this.iy=new le(this);var l=this;h(this.Hh);h(this.un);this.Ia(this.yd)};y(kq,Fd);t=kq.prototype;t.fj=j;t.p=function(){kq.m.p.call(this);Tc(this.IE);Tc(this.iy)};t.tc=function(){return Vc.bB};t.Y=p("bl");
t.expand=u(63);t.collapse=function(){this.Ia(m)};t.toggle=function(){this.Ia(!this.yd)};t.Ia=function(b){this.bl?R(this.bl,b):b&&this.Px&&(this.bl=this.Px());this.bl&&D.add(this.bl,"goog-zippy-content");this.un?(R(this.Hh,!b),R(this.un,b)):this.Hh&&(D.enable(this.Hh,"goog-zippy-expanded",b),D.enable(this.Hh,"goog-zippy-collapsed",!b),Nc(this.Hh,Uc.UA,b));this.yd=b;this.dispatchEvent(new lq("toggle",this,this.yd))};t.ic=p("yd");
t.cp=function(b){this.fj!=b&&((this.fj=b)?(jq(this,this.Hh),jq(this,this.un)):this.iy.Lc())};a.jq=function(b,c){c&&b.iy.c(c,"click",b.lQ)};t.mQ=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new gd("action",this)),b.preventDefault(),b.stopPropagation()};t.lQ=function(){this.toggle();this.dispatchEvent(new gd("action",this))};a.lq=function(b,c,d){gd.call(this,b,c);this.Sd=d};y(lq,gd);a.mq=function(){},a.nq=void 0;ia(mq);t=mq.prototype;t.tc=ba();t.o=function(b){var c=b.H().o("div",this.ef(b).join(" "),b.bb());oq(this,b,c);return c};t.Y=aa();t.Ti=function(b,c,d){if(b=b.h?b.h():b)if(A&&!Eb("7")){var e=pq(D.get(b),c);e.push(c);xa(d?D.add:D.remove,b).apply(k,e)}else D.enable(b,c,d)};t.Qc=s(j);
t.n=function(b,c){c.id&&jh(b,c.id);var d=this.Y(c);d&&d.firstChild?b.lm(d.firstChild.nextSibling?z.clone(d.childNodes):d.firstChild):b.lm(k);var e=0,g=this.K(),h=this.K(),l=m,n=m,d=m,q=D.get(c);z.forEach(q,function(b){!l&&b==g?(l=j,h==g&&(n=j)):!n&&b==h?n=j:e|=this.sw(b)},this);b.da=e;l||(q.push(g),h==g&&(n=j));n||q.push(h);var r=b.cf;r&&q.push.apply(q,r);if(A&&!Eb("7")){var x=pq(q);0<x.length&&(q.push.apply(q,x),d=j)}(!l||!n||r||d)&&D.set(c,q.join(" "));oq(this,b,c);return c};
t.Ge=function(b){b.Dd()&&this.gi(b.h(),j);b.isEnabled()&&this.Qe(b,b.Q())};a.oq=function(b,c,d){c.isEnabled()||b.qg(d,1,j);c.da&8&&b.qg(d,8,j);c.Qb&16&&b.qg(d,16,c.He());c.Qb&64&&b.qg(d,64,c.qb())};t.Xo=function(b,c){rg(b,!c,!A&&!rb)};t.gi=function(b,c){this.Ti(b,this.K()+"-rtl",c)};t.Th=function(b){var c;return b.Qb&32&&(c=b.hc())?Cc(c):m};t.Qe=function(b,c){var d;if(b.Qb&32&&(d=b.hc())){if(!c&&b.da&32){try{d.blur()}catch(e){}b.da&32&&b.Uc(k)}Cc(d)!=c&&Dc(d,c)}};t.w=function(b,c){R(b,c)};
t.Zb=function(b,c,d){var e=b.h();if(e){var g=this.Dn(c);g&&this.Ti(b,g,d);this.qg(e,c,d)}};t.qg=function(b,c,d){nq||(nq=F.create(1,Uc.DI,8,Uc.QI,16,Uc.Qp,64,Uc.UA));(c=nq[c])&&Nc(b,c,d)};t.La=function(b,c){var d=this.Y(b);if(d&&(ic(d),c))if(oa(c))xc(d,c);else{var e=function(b){if(b){var c=Rb(d);d.appendChild(oa(b)?c.createTextNode(b):b)}};la(c)?z.forEach(c,e):ma(c)&&!("nodeType"in c)?z.forEach(z.clone(c),e):e(c)}};t.hc=function(b){return b.h()};t.K=s("goog-control");
t.ef=function(b){var c=this.K(),d=[c],e=this.K();e!=c&&d.push(e);c=b.Xd();for(e=[];c;){var g=c&-c;e.push(this.Dn(g));c&=~g}d.push.apply(d,e);(b=b.cf)&&d.push.apply(d,b);A&&!Eb("7")&&d.push.apply(d,pq(d));return d};a.pq=function(b,c){var d=[];c&&(b=b.concat([c]));z.forEach([],function(e){z.every(e,xa(z.contains,b))&&(!c||z.contains(e,c))&&d.push(e.join("_"))});return d};t.Dn=function(b){this.wq||qq(this);return this.wq[b]};
t.sw=function(b){this.AH||(this.wq||qq(this),this.AH=F.ym(this.wq));b=parseInt(this.AH[b],10);return isNaN(b)?0:b};a.qq=function(b){var c=b.K();b.wq=F.create(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")};a.sq=function(b,c){b||f(Error("Invalid class name "+b));qa(c)||f(Error("Invalid decorator function "+c));rq[b]=c},a.tq={},a.rq={};a.uq=function(b,c,d){T.call(this,d);if(!c){for(var c=this.constructor,e;c;){e=ua(c);if(e=tq[e])break;c=c.m?c.m.constructor:k}c=e?qa(e.D)?e.D():new e:k}this.L=c;this.lm(b)};y(uq,T);t=uq.prototype;t.rc=k;t.da=0;t.Qb=39;t.yi=255;t.fk=0;t.lb=j;t.cf=k;t.fj=j;t.bq=m;t.Oj=k;t.cp=function(b){this.xa&&b!=this.fj&&vq(this,b);this.fj=b};t.hc=function(){return this.L.hc(this)};t.mr=function(){return this.nb||(this.nb=new um)};
t.th=function(b){b&&(this.cf?z.contains(this.cf,b)||this.cf.push(b):this.cf=[b],this.L.Ti(this,b,j))};t.Ti=function(b,c){c?this.th(b):b&&this.cf&&(z.remove(this.cf,b),0==this.cf.length&&(this.cf=k),this.L.Ti(this,b,m))};t.o=function(){var b=this.L.o(this);this.e=b;var c=this.Oj||this.L.tc();c&&Mc(b,c);this.bq||this.L.Xo(b,m);this.Q()||this.L.w(b,m)};t.ep=u(18);t.Y=function(){return this.L.Y(this.h())};t.Qc=function(b){return this.L.Qc(b)};
t.ea=function(b){this.e=b=this.L.n(this,b);var c=this.Oj||this.L.tc();c&&Mc(b,c);this.bq||this.L.Xo(b,m);this.lb="none"!=b.style.display};t.z=function(){uq.m.z.call(this);this.L.Ge(this);if(this.Qb&-2&&(this.fj&&vq(this,j),this.Qb&32)){var b=this.hc();if(b){var c=this.mr();c.attach(b);this.g().c(c,"key",this.Vb).c(b,"focus",this.Ce).c(b,"blur",this.Uc)}}};
a.vq=function(b,c){var d=b.g(),e=b.h();c?(d.c(e,"mouseover",b.kd).c(e,"mousedown",b.De).c(e,"mouseup",b.Zf).c(e,"mouseout",b.Ph),b.Ln!=ha&&d.c(e,"contextmenu",b.Ln),A&&d.c(e,"dblclick",b.CD)):(d.Ba(e,"mouseover",b.kd).Ba(e,"mousedown",b.De).Ba(e,"mouseup",b.Zf).Ba(e,"mouseout",b.Ph),b.Ln!=ha&&d.Ba(e,"contextmenu",b.Ln),A&&d.Ba(e,"dblclick",b.CD))};t.ib=function(){uq.m.ib.call(this);this.nb&&this.nb.detach();this.Q()&&this.isEnabled()&&this.L.Qe(this,m)};
t.p=function(){uq.m.p.call(this);this.nb&&(this.nb.C(),delete this.nb);delete this.L;this.cf=this.rc=k};t.bb=p("rc");t.La=function(b){this.L.La(this.h(),b);this.lm(b)};t.lm=ca("rc");t.Jg=function(){var b=this.bb();if(!b)return"";b=oa(b)?b:la(b)?z.map(b,Gc).join(""):Fc(b);return Ja(b)};t.jm=u(57);t.gi=function(b){uq.m.gi.call(this,b);var c=this.h();c&&this.L.gi(c,b)};t.Xo=function(b){this.bq=b;var c=this.h();c&&this.L.Xo(c,b)};t.Q=p("lb");
t.w=function(b,c){if(c||this.lb!=b&&this.dispatchEvent(b?"show":"hide")){var d=this.h();d&&this.L.w(d,b);this.isEnabled()&&this.L.Qe(this,b);this.lb=b;return j}return m};t.isEnabled=function(){return!(this.da&1)};t.gb=function(b){var c=this.getParent();if((!c||"function"!=typeof c.isEnabled||c.isEnabled())&&wq(this,1,!b))b||(this.setActive(m),this.qd(m)),this.Q()&&this.L.Qe(this,b),this.Zb(1,!b)};t.qd=function(b){wq(this,2,b)&&this.Zb(2,b)};t.Gb=function(){return!!(this.da&4)};
t.setActive=function(b){wq(this,4,b)&&this.Zb(4,b)};t.nm=function(b){wq(this,8,b)&&this.Zb(8,b)};t.He=function(){return!!(this.da&16)};t.Zc=function(b){wq(this,16,b)&&this.Zb(16,b)};t.qb=function(){return!!(this.da&64)};t.ub=function(b){wq(this,64,b)&&this.Zb(64,b)};t.Xd=p("da");t.Zb=function(b,c){this.Qb&b&&c!=!!(this.da&b)&&(this.L.Zb(this,b,c),this.da=c?this.da|b:this.da&~b)};
a.xq=function(b,c,d){b.xa&&(b.da&c&&!d)&&f(Error("Component already rendered"));!d&&b.da&c&&b.Zb(c,m);b.Qb=d?b.Qb|c:b.Qb&~c},a.yq=function(b,c){return!!(b.yi&c)&&!!(b.Qb&c)},a.wq=function(b,c,d){return!!(b.Qb&c)&&!!(b.da&c)!=d&&(!(b.fk&c)||b.dispatchEvent(ih(c,d)))&&!b.Mf};t.kd=function(b){(!b.relatedTarget||!sc(this.h(),b.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&yq(this,2))&&this.qd(j)};
t.Ph=function(b){if((!b.relatedTarget||!sc(this.h(),b.relatedTarget))&&this.dispatchEvent("leave"))yq(this,4)&&this.setActive(m),yq(this,2)&&this.qd(m)};t.Ln=ha;t.De=function(b){this.isEnabled()&&(yq(this,2)&&this.qd(j),md(b)&&(yq(this,4)&&this.setActive(j),this.L.Th(this)&&this.hc().focus()));!this.bq&&md(b)&&b.preventDefault()};t.Zf=function(b){this.isEnabled()&&(yq(this,2)&&this.qd(j),this.Gb()&&(this.ee(b)&&yq(this,4))&&this.setActive(m))};t.CD=function(b){this.isEnabled()&&this.ee(b)};
t.ee=function(b){yq(this,16)&&this.Zc(!this.He());yq(this,8)&&this.nm(j);yq(this,64)&&this.ub(!this.qb());var c=new gd("action",this);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Py=b.Py);return this.dispatchEvent(c)};t.Ce=function(){yq(this,32)&&wq(this,32,j)&&this.Zb(32,j)};t.Uc=function(){yq(this,4)&&this.setActive(m);yq(this,32)&&wq(this,32,m)&&this.Zb(32,m)};
t.Vb=function(b){return this.Q()&&this.isEnabled()&&this.gf(b)?(b.preventDefault(),b.stopPropagation(),j):m};t.gf=function(b){return 13==b.keyCode&&this.ee(b)};qa(uq)||f(Error("Invalid component class "+uq));qa(mq)||f(Error("Invalid renderer class "+mq));a.zq=ua(uq);tq[zq]=mq;sq("goog-control",function(){return new uq(k)});a.Aq=function(){};y(Aq,mq);ia(Aq);Aq.prototype.o=function(b){return b.H().o("div",this.K())};Aq.prototype.n=function(b,c){c.id&&jh(b,c.id);if("HR"==c.tagName){var d=c,c=this.o(b);jc(c,d);L(d)}else D.add(c,this.K());return c};Aq.prototype.La=ba();Aq.prototype.K=s("goog-menuseparator");a.Bq=function(b,c){uq.call(this,k,b||Aq.D(),c);xq(this,1,m);xq(this,2,m);xq(this,4,m);xq(this,32,m);this.da=1};y(Bq,uq);Bq.prototype.z=function(){Bq.m.z.call(this);Mc(this.h(),"separator")};sq("goog-menuseparator",function(){return new Bq});a.Cq=function(){};ia(Cq);t=Cq.prototype;t.tc=ba();t.o=function(b){return b.H().o("div",this.ef(b).join(" "))};t.Y=aa();t.Qc=function(b){return"DIV"==b.tagName};t.n=function(b,c){c.id&&jh(b,c.id);var d=this.K(),e=m,g=D.get(c);g&&z.forEach(g,function(c){c==d?e=j:c&&this.Dz(b,c,d)},this);e||D.add(c,d);Dq(this,b,this.Y(c));return c};t.Dz=function(b,c,d){c==d+"-disabled"?b.gb(m):c==d+"-horizontal"?b.dp(Eq):c==d+"-vertical"&&b.dp(Fq)};
a.Dq=function(b,c,d){if(d)for(var e=d.firstChild,g;e&&e.parentNode==d;){g=e.nextSibling;if(1==e.nodeType){var h=b.En(e);h&&(h.e=e,c.isEnabled()||h.gb(m),c.M(h),h.n(e))}else(!e.nodeValue||""==Ka(e.nodeValue))&&d.removeChild(e);e=g}};t.En=function(b){a:{for(var c=D.get(b),d=0,e=c.length;d<e;d++)if(b=c[d]in rq?rq[c[d]]():k)break a;b=k}return b};t.Ge=function(b){b=b.h();rg(b,j,B);A&&(b.hideFocus=j);var c=this.tc();c&&Mc(b,c)};t.hc=function(b){return b.h()};t.K=s("goog-container");
t.ef=function(b){var c=this.K(),d=[c,b.zb==Eq?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};t.iw=u(13);a.Eq="horizontal",a.Fq="vertical";a.Gq=function(){T.call(this);this.Vt=[]};y(Gq,T);t=Gq.prototype;t.Nb=ke("ZH.ui.Accordion");t.Da=function(b){this.Vt.push(b);b.mt(this)};t.z=function(){Gq.m.z.call(this);this.g().c(this,"toggle",this.FN)};t.FN=function(b){z.forEach(this.Vt,function(c){b.target!==c&&c.ic()&&c.Ia(m,j)},this)};t.p=function(){Gq.m.p.call(this);z.forEach(this.Vt,function(b){b.C()},this);this.Vt=[]};a.Hq=function(){};y(Hq,mq);ia(Hq);t=Hq.prototype;t.tc=function(){return Vc.Pp};t.qg=function(b,c,d){16==c?Nc(b,Uc.MI,d):Hq.m.qg.call(this,b,c,d)};t.o=function(b){var c=Hq.m.o.call(this,b),d=b.Yf();d&&this.Nc(c,d);(d=b.U())&&this.sa(c,d);b.Qb&16&&this.qg(c,16,b.He());return c};t.n=function(b,c){var c=Hq.m.n.call(this,b,c),d=this.U(c);b.Bc=d;b.ot(this.Yf(c));b.Qb&16&&this.qg(c,16,b.He());return c};t.U=ha;t.sa=ha;t.Yf=function(b){return b.title};t.Nc=function(b,c){b&&(b.title=c||"")};t.vf=u(21);
t.K=s("goog-button");a.Iq=function(){};y(Iq,Hq);ia(Iq);t=Iq.prototype;t.tc=ba();t.o=function(b){b.cp(m);b.yi&=-256;xq(b,32,m);return b.H().o("button",{"class":this.ef(b).join(" "),disabled:!b.isEnabled(),title:b.Yf()||"",value:b.U()||""},b.Jg()||"")};t.Qc=function(b){return"BUTTON"==b.tagName||"INPUT"==b.tagName&&("button"==b.type||"submit"==b.type||"reset"==b.type)};t.n=function(b,c){b.cp(m);b.yi&=-256;xq(b,32,m);c.disabled&&D.add(c,this.Dn(1));return Iq.m.n.call(this,b,c)};t.Ge=function(b){b.g().c(b.h(),"click",b.ee)};
t.Xo=ha;t.gi=ha;t.Th=function(b){return b.isEnabled()};t.Qe=ha;t.Zb=function(b,c,d){Iq.m.Zb.call(this,b,c,d);if((b=b.h())&&1==c)b.disabled=d};t.U=function(b){return b.value};t.sa=function(b,c){b&&(b.value=c)};t.qg=ha;a.Jq=function(b,c,d){uq.call(this,b,c||Iq.D(),d)};y(Jq,uq);t=Jq.prototype;t.U=p("Bc");t.sa=function(b){this.Bc=b;this.L.sa(this.h(),b)};t.Yf=p("xp");t.Nc=function(b){this.xp=b;this.L.Nc(this.h(),b)};t.ot=ca("xp");t.vf=u(20);t.p=function(){Jq.m.p.call(this);delete this.Bc;delete this.xp};t.z=function(){Jq.m.z.call(this);if(this.Qb&32){var b=this.hc();b&&this.g().c(b,"keyup",this.gf)}};t.gf=function(b){return 13==b.keyCode&&"key"==b.type||32==b.keyCode&&"keyup"==b.type?this.ee(b):32==b.keyCode};
sq("goog-button",function(){return new Jq(k)});a.Kq=function(){};y(Kq,Hq);ia(Kq);t=Kq.prototype;t.o=function(b){var c={"class":"goog-inline-block "+this.ef(b).join(" "),title:b.Yf()||""};return b.H().o("div",c,b.bb())};t.tc=function(){return Vc.Pp};t.Qc=function(b){return"DIV"==b.tagName};t.n=function(b,c){D.add(c,"goog-inline-block");return Kq.m.n.call(this,b,c)};t.U=s("");t.K=s("goog-flat-button");sq("goog-flat-button",function(){return new Jq(k,Kq.D())});a.Lq=function(){};y(Lq,Kq);ia(Lq);Lq.prototype.K=s("goog-link-button");sq("goog-link-button",function(){return new Jq(k,Lq.D())});a.Mq=function(b,c,d,e){Am.call(this,b,c,d,e)};y(Mq,Am);Mq.prototype.Uc=ha;Mq.prototype.Vb=ha;Mq.prototype.ei=s(m);a.Nq=function(){};y(Nq,mq);ia(Nq);Nq.prototype.o=function(b){var c=b.H().o("span",this.ef(b).join(" "));Oq(this,c,b.yh);return c};Nq.prototype.n=function(b,c){var c=Nq.m.n.call(this,b,c),d=D.get(c),e=Pq;z.contains(d,Qq(this,Rq))?e=Rq:z.contains(d,Qq(this,Sq))?e=Sq:z.contains(d,Qq(this,Pq))&&(e=Pq);b.yh=e;Nc(c,Uc.Qp,e==Rq?"mixed":e==Sq?"true":"false");return c};Nq.prototype.tc=function(){return Vc.AI};
a.Oq=function(b,c,d){if(c){var e=Qq(b,d);D.has(c,e)||(F.forEach(Tq,function(b){b=Qq(this,b);D.enable(c,b,b==e)},b),Nc(c,Uc.Qp,d==Rq?"mixed":d==Sq?"true":"false"))}};Nq.prototype.K=s("goog-checkbox");a.Qq=function(b,c){var d=b.K();if(c==Sq)return d+"-checked";if(c==Pq)return d+"-unchecked";if(c==Rq)return d+"-undetermined";f(Error("Invalid checkbox state: "+c))};a.Uq=function(b,c,d){d=d||Nq.D();uq.call(this,k,d,c);this.yh=ka(b)?b:Pq};y(Uq,uq);a.Sq=j,a.Pq=m,a.Rq=k,a.Tq={Qp:Sq,OW:Pq,QW:Rq};t=Uq.prototype;t.Ga=k;t.He=function(){return this.yh==Sq};t.Zc=function(b){b!=this.yh&&(this.yh=b,Oq(this.L,this.h(),this.yh))};t.toggle=function(){this.Zc(this.yh?Pq:Sq)};
t.z=function(){Uq.m.z.call(this);if(this.fj){var b=this.g();this.Ga&&b.c(this.Ga,"click",this.Bw).c(this.Ga,"mouseover",this.kd).c(this.Ga,"mouseout",this.Ph).c(this.Ga,"mousedown",this.De).c(this.Ga,"mouseup",this.Zf);b.c(this.h(),"click",this.Bw)}if(this.Ga){if(!this.Ga.id){var b=this.Ga,c;c=this.Wd()+".lbl";b.id=c}Nc(this.h(),Uc.fu,this.Ga.id)}};t.gb=function(b){Uq.m.gb.call(this,b);if(b=this.h())b.tabIndex=this.isEnabled()?0:-1};
t.Bw=function(b){b.stopPropagation();var c=this.yh?"uncheck":"check";this.isEnabled()&&this.dispatchEvent(c)&&(b.preventDefault(),this.toggle(),this.dispatchEvent("change"))};t.gf=function(b){32==b.keyCode&&this.Bw(b);return m};sq("goog-checkbox",function(){return new Uq});a.Vq=function(){uh.call(this,i,i,i);this.KC=j;this.kY=m;this.fY=j;this.ky=!!S[5];this.ly=S.ly;this.OS=-1===window.location.href.indexOf("psq");this.rH=this.yc=this.wG=this.wc=k};y(Vq,vi);ia(Vq);a.Wq=bm("AddQuestionForm"+S.Cj)||cm("AddQuestionForm"+S.Cj);t=Vq.prototype;
t.z=function(){Vq.m.z.call(this);this.Y().appendChild(H("zh-add-question-wrap"));this.Xc=Vb("zg-editor-input",this.e)[0];this.oq=J("zu-question-form-add",this.e);this.Ym=J("zu-question-form-jump",this.e);this.vo=H("zm-modal-dialog-warnmsg-wrapper");this.fs=H("js-title-length-err-msg");this.Yy=J("zm-modal-dialog-warnmsg-wrapper",this.e);this.JC=H("zh-question-form-detail-err");this.fA=H("zh-question-form-tag-err");this.JK=J("zu-global-notify-close",this.vo);this.NT=J("zu-global-notify-close",this.Yy);
this.fO=H("zm-modal-dialog-info-wrapper");this.uo=J("zm-modal-dialog-warnmsg",this.vo);this.NY=J("zm-modal-dialog-warnmsg",this.Yy);this.cn=J("zg-addq-isanon",this.e);this.GT=J("js-toggle-editor-toolbar",this.e);this.hJ=J("js-editor-add-pic",this.e);this.iJ=J("js-editor-add-video",this.e);this.eT=J("js-add-question-splash",this.e);this.hP=J("js-add-question-form",this.e);this.MB=H("js-before-ask");this.wL=H("zh-question-suggest-detail-container");this.MT=H("zh-question-suggest-topic-container");this.Sn();
this.ly?(Xq(this,j),this.mx()):(this.Tn(),Xq(this,m))};a.Yq=function(b,c){c&&(b.bY=c,b.Xc&&(b.Xc.value=c,b.aG(),b.yG.Ap(),b.Na&&b.Na.yA()))};t.show=function(){this.w(j)};t.Sn=function(){this.Xa("提问");this.qm(550);Fh(this,k);this.G=$(this.e);this.w(j);this.na()};
t.Ux=function(){var b=this,c=Wq.get("add_question_form_title");c&&Yq(this,c);var d=Wq.get("add_question_form_des");if(d){var e=this.Kb;setTimeout(function(){e.La(d);e.bp()})}if(c=Wq.get("add_question_form_topics"))c=JSON.parse(c),z.forEach(c,function(c){b.Na.ck(c)})};
t.Tn=Xj(function(){function b(){var b=$('<div><div style="text-align:center"><img src="http://static.zhihu.com/static/img/spinner2.gif"/></div></div>'),c=this.un,d=$(c&&pg(c)?c:this.Hh);$.get("/question/"+d.data("url_token")+"/answers/summary").done(function(c){if(c&&!c.r){var c=c.msg,e=+d.data("answer_count"),e=0<e?"的全部 "+e+" 个回答":"";b.html(q({forEach:z.forEach,truncate:Za,answers:c,question_url_token:d.data("url_token")})).append(Fa('<div class="zippy-row"><a class="zg-link-litblue" href="/question/%s">查看该问题%s</a></div>',
d.data("url_token"),e))}else U(c.msg)});d.after(b);return b.get(0)}function c(b,c){b.h().title=c;b.h().setAttribute("data-tip","s$b$"+c)}var d=this;this.Na=new co;this.Na.n(this.MT);this.g().c(this.Na,["add_tag","remove_tag"],this.ZF);new Rm(this.Xc,"写下你的问题");var e=this.wL;this.Kb=new fq;this.Kb.Xx='<span style="font-style: normal;color: #999;">问题背景、条件等详细信息</span>';this.Kb.n(e);this.Kb.v();this.Kb.Gd();(!sb||gi)&&hq(this.Kb);setTimeout(function(){d.na()});this.g().c(this.cn,"click",this.NJ);iq.D().refresh();
var e=J("zm-add-question-form-sns-wrap",this.e),g=new Uq,h=new Uq;g.W(e);h.W(e);D.add(g.h(),"icon sina");D.add(h.h(),"icon qq");c(g,"分享到新浪微博");c(h,"分享到腾讯微博");g.PB="/oauth/auth/sina?next=/oauth/callback";h.PB="/oauth/auth/qq?next=/oauth/callback";this.g().c(g,"change",this.XF).c(h,"change",this.XF);this.yc=g;this.wc=h;if(!sb||gi)e=Lq.D(),g=new Jq("",e),xq(g,32,m),this.g().c(g,"action",this.fQ),g.n(this.GT),g.Nc("切换工具栏"),g=new Jq("",e),xq(g,32,m),this.g().c(g,"action",function(){this.Kb.Ka.execCommand("image")}),
g.n(this.hJ),g.Nc("添加图片"),e=new Jq("",e),xq(e,32,m),this.g().c(e,"action",function(){this.Kb.Ka.execCommand("video")}),e.n(this.iJ),e.Nc("添加视频");var l=this,n=tk(l.nk.xG),q=tk(l.nk.TJ),e=l.Xc,g=new Mq;l.dB=new Pp(e,{source:"/question/autocomplete",Vj:H("zh-question-suggest-ac-wrap"),od:$.noop,W:function(c,d,e){l.fB&&l.fB.C();var d=$(c.h()),g=l.fB=new Gq;d.html(n({forEach:z.forEach,questions:e,token:encodeURIComponent(this.ac)}));d.prepend('<div class="ac-head zg-gray">你的问题可能已经有答案</div>');$(".ac-row",
d).each(function(){g.Da(new kq($(this).get(0),b,m))});g.n(c.h())},sx:g});this.Ha();this.Ux()});t.nk={};t.nk.xG='<% forEach(questions, function(q, i) { q = q.data; %><div class="ac-row" data-url_token="<%=q.url_token%>" data-answer_count="<%=q.answer_count%>"><% if (q.is_star) { %><a class="zg-star" data-tip="s$b$优质问答" href="/question/<%=q.url_token%>"></a><% } %><a class="zippy-indicator"><i></i></a><a style="color:#222" href="/question/<%=q.url_token%>?q=<%= token %>"><%- q.title%></a><span class="zm-ac-gray"><%= parseInt(q.answer_count) > 0 ? q.answer_count + "个回答" : "还没有回答" %> </span></div><% }) %>';
t.nk.TJ='<% forEach(answers, function(a, i) { %><div class="zippy-row"><div class="summary-item"><a href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><span class="zm-item-vote-count"><%=a.vote_count%></span></a><% if (a.author.url_token) { %><a style="vertical-align: top;" href="/people/<%=a.author.url_token%>"><span class="author"><%-a.author.name%></span> </a><% } else { %><span class="anou-author"><%-a.author.name%></span> <% } %><div class="ellipsis" style="max-width: 65%;display: inline-block; "><%=truncate(a.summary, 30, true)%></div><a  style="vertical-align: top;" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><span class="readall">阅读全部 »</span></a></div></div><% }) %>';
t.mx=function(){function b(){Xq(c,m);c.Xc.value=e.value}var c=this,d=tk(this.nk.xG),e=this.MB,g=new Mq;this.dJ=new Pp(e,{source:"/question/autocomplete",Vj:e.offsetParent,od:ba(),W:function(c,g,n){c=$(c.h());c.html(d({forEach:z.forEach,questions:n,token:encodeURIComponent(this.ac)}));0<n.length&&c.prepend('<div class="ac-row ac-first"><b>你想问的是不是：</b></div>').append($('<div class="ac-row ac-last iwanttoask"><b>不是，我要提一个新问题 »</b></div>'));0===n.length&&e.value&&(c.html('<div class="ac-row ac-last iwanttoask"><b>没有找到相关问题，马上提问 »</b></div>').show(),
n.push("fake row"));c.off("click").on("click",".iwanttoask",b)},sx:g});this.dJ.Om=m};a.Xq=function(b,c){$(b.eT).toggle(!!c);$(b.hP).toggle(!c);c?b.MB.focus():(b.Tn(),b.Xc.focus());b.na()};t.XF=function(b){b=b.target;if(b===this.yc&&!this.rH||b===this.wc&&!this.wG)window.open(b.PB),b.Zc(m)};t.NJ=function(){var b=J("zm-add-question-form-sns-wrap"),c=J("zm-question-form-split"),d=this.cn.checked;R(b,!d);R(c,!d)};a.Zq=function(b,c,d){"title"===d?b.PO=c:"detail"===d?b.DO=c:b.QO=c;b.KC=b.PO||b.DO||b.QO};
t.Ha=function(){this.g().c(this.e,"click",this.Aw);this.XO&&this.XO.n(this.Xc);this.yG=new fm(this.Xc,22);this.g().c(this.yG,"change",this.aG);this.g().c(this.JK,"click",function(){R(this.vo,m);R(this.fO,j)});this.g().c(this.NT,"click",function(){R(this.Yy,m)});this.g().c(W,"sina_callback",this.Ao);this.g().c(W,"qq_callback",this.Ao);this.g().c(this,"afterhide",function(){this.gt()});this.vn()};t.vn=function(){$(window).on("beforeunload.AddQuestionForm",v(function(){this.gt()},this))};t.Tq=function(){$(window).off("beforeunload.AddQuestionForm")};
t.Ao=function(b){var c={id:b.sb.id,name:b.sb.name};"sina_callback"===b.type?(this.rH=c,this.yc.Zc(m)):"qq_callback"===b.type&&(this.wG=c,this.wc.Zc(m))};t.gt=function(){this.Xc.value&&Wq.set("add_question_form_title",this.Xc.value);var b=this.Kb.Wf();b&&Wq.set("add_question_form_des",b);(b=this.Na.data)&&Wq.set("add_question_form_topics",JSON.stringify(b))};t.Yu=function(){Wq.remove("add_question_form_title");Wq.remove("add_question_form_des");Wq.remove("add_question_form_topics")};
t.Aw=function(b){if(b=kk(this.e,b.target))switch(b=b.name,b){case "expand":D.add(this.e,"zg-qform-expanded");break;default:this.tl(b)}};t.Nj=function(){if(!this.Uy){this.Uy=j;setTimeout(v(function(){this.Uy=m},this),3E4);this.xhr=new V(j);P(this.g(),this.xhr,"success",this.ZP);this.xhr.ajax("/question/add",$q(this).Ic());var b=this.Na,c=0,d=b.data.length;z.forEach(b.data,function(b){z.forEach(this.zt,function(d){b[1]===d[1]&&c++},this)},b);W.X({type:"ga_click_add_question",data:{At:c,total:d}})}};
t.ZP=function(){this.Uy=m;var b=Ge(this.xhr);if(b)if(b.r)if(281===b.errcode){var c=new ar;c.ze=b.msg;c.jc=3;br(this,c,j)}else U(b.msg);else tn.set("__Q_ISNEWLYCREATED__","yep"),this.Yu(),this.Tq(),top.location.href=b.msg;else U("网络异常")};
t.tl=function(b){if("cancel"===b)this.w(m);else if("addq"===b){var b=cr(this),c=dr(this);if(!(1<c.jc)&&!(1<b.jc)){var d=er(this),e=new ar;3E3<pk(d)?(e.jc=3,e.ze="请控制在 3000 字以下"):e.jc=0;d=1<e.jc;this.JC.innerHTML=e.ze;R(this.JC,d);Zq(this,d,"detail");this.ZF()}Zq(this,1<c.jc||1<b.jc,"title");this.KC?br(this,1<b.jc?b:c,j):this.Nj()}};a.br=function(b,c,d){b.uo.innerHTML=c.ze;0===c.jc?R(b.vo,m):(3!==c.jc&&(R(b.oq,j),R(b.Ym,m)),R(b.vo,d),d&&b.Xc.focus())};
t.aG=function(){var b=cr(this),c=dr(this);"toolong"===b.name||"buffer"===b.name?(this.fs.innerHTML=b.ze,R(this.fs,j)):(this.fs.innerHTML=b.ze,R(this.fs,m));"multiquestionmark"===c.name||"duplicatedquestion"===c.name?br(this,c,j):br(this,c,m);Zq(this,1<c.jc,"title")};
a.dr=function(b){var c=ak(b.Xc.value).replace(/？/g,"?"),d;var e="#";d=b.lo||new ar;var g=m;if(b.dB&&b.OS){var h=b.dB.fb;h&&h.length?(z.forEach(h,function(b){4<b.raw.length&&1===+b.raw[4]&&(g=j,e="/question/"+b.url_token+"?q="+encodeURIComponent(this.Xc.value)+"&psq=0")},b),g?(d.ze='我们找到了一个也许是你想问的问题，<a href="'+e+'">查看问题</a>',d.jc=3,d.name="duplicatedquestion",d.live=j,b.Ym.href=e,R(b.oq,m),R(b.Ym,j)):(d=new ar,R(b.oq,j),R(b.Ym,m)),b.lo=d):(d=new ar,b.lo=d,R(b.oq,j),R(b.Ym,m));b.lo||(b.lo=d);d=b.lo}1<
d.jc||(1>hk(ak(b.Xc.value).replace("？","?"))?(d.ze="您还没有给问题添加问号",d.jc=3,d.name="noquestionmark"):1<hk(c)&&(d.ze="如果有多个问题，最好拆分一下",d.jc=1,d.name="multiquestionmark"));return d},a.cr=function(b){var b=ak(b.Xc.value).replace(/？/g,"?"),b=pk(b),c=new ar;4>b?(c.jc=3,c.ze="问题字数太少了吧",c.name="tooshort"):40<b&&50>=b?(c.jc=1,c.ze='还可以输入 <span class="warning">'+(50-b)+"</span> 字",c.name="buffer"):50<b&&(c.jc=3,c.ze='已超出 <span class="error">'+(b-50)+"</span> 字",c.name="toolong");return c};
t.ZF=function(){var b=m;1>this.Na.data.length?(b=j,this.fA.innerHTML="至少添加一个话题"):5<this.Na.data.length&&(b=j,this.fA.innerHTML="最多添加五个话题");R(this.fA,b);Zq(this,b,"topic")};
a.er=function(b){var b=b.Kb,c=Ka(b.Wf());return b.isContentEditable()?c:Ma(c)},a.$q=function(b){var c=new lk,d=[],e=[];c.add("question_title",b.Xc.value);c.add("question_detail",er(b));b.cn&&c.add("anon",b.cn.checked?"1":"0");z.forEach(b.Na.data,function(b){b[3]?d.push(b[3]):e.push(b[1])});c.add("topic_ids",d.join(","));c.add("new_topics",e.join("$"));Fg&&c.add("uid",Fg[3]);b.cn.checked||(c.add("share_qq",Number(b.wc.He())),c.add("share_sina",Number(b.yc.He())));return c};
t.fQ=function(){this.Kb&&hq(this.Kb)};a.ar=function(){this.jc=isNaN(i)?0:i;this.ze=""};a.fr=function(b){M.call(this);this.iE=k;this.hq=b;this.TY=0;this.qY=3;this.eo=m};y(fr,Hk);t=fr.prototype;
t.n=function(b){this.wrap=b;if(!this.Vw){this.Vw=j;if(b=J("zm-entry-head-avatar-edit-button",this.wrap))this.eo=j,this.g().c(b,"click",function(b){b.stopPropagation();b.preventDefault();S.Ma()&&!S.Ld&&"people"!==this.hq?Vn.D().w(j):S.Ma()?(this.ox(),this.S.w(j)):nk.D().w(j)});this.iE=J("zm-avatar-editor-preview",this.wrap);if(!this.eo&&(gr(this),b=J("zm-form-table-field",this.wrap)))b.appendChild(this.jl),this.Ha()}};
t.ox=function(){this.zR||(gr(this),this.zR=j,this.S=new vi(k,m),this.S.Xa("people"===this.hq?"修改头像":"修改话题图片"),this.S.Y().appendChild(this.jl),this.Ha())};
a.gr=function(b){b.jl=K("div",b.eo?k:"zg-section",[b.DR=K("iframe",{id:"av_up_frame",src:"about:_blank",name:"av_up_frame",style:"visible:hidden;position:absolute;height:0;width:0;left:-9000px"}),b.uF=K("div",{"class":"zm-modal-dialog-warnmsg",style:"display:none"},"上传失败， 请重试"),b.Kh=K("div","avt_form"),b.bX=K("label",{"class":"zg-gray zg-section",style:"display: block;padding:12px 0;","for":"avt_file"},"支持 JPG、GIF、PNG 格式，不要超过 2MB。"),b.eo?K("div","zm-command",[b.Pk=K("a",{"class":"zm-command-cancel",
href:"javascript:;"},"关闭"),b.Rk=K("a",{"class":"zg-btn-blue",href:"javascript:;"},"开始上传")]):b.Rk=K("a",{"class":"zg-btn-blue",href:"javascript:;"},"开始上传")]);b.Kh.innerHTML=['<form target="av_up_frame" method="post" enctype="multipart/form-data" action="'+("http://upload."+Bg.em+":"+location.port)+'">','<input type="hidden" name="type" value="'+("people"===b.hq?"1":"2")+'" />','<input type="hidden" name="dest_id" value="',"people"===b.hq?S[3]:Eg[0][3],'" /><input type="file" name="picture" id="avt_file" /><input type="hidden" name="return_size" value="l" /></form>'].join("");
b.fU=b.Kh.firstChild};t.Ha=function(){this.g().c(this.Rk,"click",this.fT);this.g().c(W,"iframe_data",this.dU);this.Pk&&this.g().c(this.Pk,"click",function(){this.S.w(m)})};t.fT=function(){R(this.uF,m);var b=H("avt_file");b&&b.value&&(hr(this,j),this.fU.submit())};t.dU=function(b){var b=b.sb,c;b&&!b.r&&(c=b.msg)?(this.iE.src=c+"?r="+ +new Date,hr(this,m),this.eo&&this.S.w(m),this.dispatchEvent({type:"uploadSuccess",data:c})):R(this.uF,j)};
a.hr=function(b,c){b.co=c;b.co?(b.Rk.innerHTML="上传中…",D.xi(b.Rk,"zg-btn-blue","zg-btn-white")):(b.Rk.innerHTML="开始上传",D.xi(b.Rk,"zg-btn-white","zg-btn-blue"))};a.ir=function(b){T.call(this);this.qR=b};y(ir,T);t=ir.prototype;t.ea=function(b){ir.m.ea.call(this,b);this.oe=$("input",b);this.ud=$(".zm-profile-details-items",this.e);this.Vp=[];var c=this;c.Vp=this.oe.map(function(){var b=new jr("/topic/autocomplete",this,c.qR||$(this).parents(".topic-input-wrap")[0]);b.Om=m;var e=v(c.filter,c);b.filter=e;return b});this.cm()};
t.z=function(){this.g().c(J("add",this.e),"click",this.add);var b=this;this.oe.each(function(){b.g().c(this,"keydown",function(b){this.keydown(b)})});z.forEach(this.Vp,function(c){b.g().c(c.L,hm,b.select)});this.ud.on("click","[name='del']",$.proxy(this.remove,this));this.cm()};t.cm=function(){if(!Bg.vc){var b=this;this.Nf&&this.Nf.C();var c=new Jn;c.Yq="profile-edit-item-moving";Kn(c,this.ud[0],0);c.v();this.Nf=c;$('a, input, [role="button"]',this.ud).each(function(){b.g().c(this,"mousedown",function(b){b.stopPropagation()})})}};
t.keydown=function(b){13===b.keyCode&&setTimeout(v(function(){kr(this)&&this.add();this.oe[0].value&&(this.oe[1]&&!this.oe[1].value)&&this.oe[1].focus()},this));return j};a.kr=function(b){return!z.some(b.oe,function(b){return!b.value})};t.dm=function(){z.forEach(this.oe,function(b){b.value=""});this.oe[0].focus()};t.select=function(){kr(this)&&this.add()};
t.add=function(){var b={title:this.oe[0].value||"",member_url_token:Fg["1"]};this.oe[1]&&(b.sub_title=this.oe[1].value||"");yj("ProfileEditItemV2",b,this.MP,this)};t.MP=function(b){var b=$(b),c;if(b.data("title")){if(c=this.ud.find("[data-title='"+b.data("title")+"']")[0]){gk(c);this.dm();return}}else if(b.data("sub-title")&&(c=this.ud.find("[data-sub-title='"+b.data("sub-title")+"']")[0])){gk(c);this.dm();return}this.ud.append(b);this.cm();this.dm();this.dispatchEvent("add")};
t.remove=function(b){$(b.target).parents("li").remove();this.dispatchEvent("remove")};ir.prototype.filter=function(b){return z.filter(b,function(b){return!this.ud.find("[data-title='"+b+"']")[0]},this)};a.jr=function(b,c,d,e,g){this.nf=b=new Qm(b,!g);d=new Km(d);e=new Am(k,k,!!e,300);km.call(this,b,d,e);e.Z=this;e.Jk(c);(e=c.getAttribute("placeholder"))&&new Rm(c,e)};y(jr,Wm);
jr.prototype.$l=function(b,c){b=b[0].slice(1);b=z.filter(b,function(b){return 3<b.length});b=z.map(b,function(b){return b[1]});this.filter&&(b=this.filter(b));jr.m.$l.call(this,b,c)};a.lr=function(b){T.call(this);$.extend(this.options={},this.R,b||{});this.AF=(new tf(location.href)).Ic().get("next")};y(lr,T);t=lr.prototype;t.R={Cv:function(b,c){mr(this,b).toggle(c);nr(this);or(this,b)}};t.$f=m;t.Rp={signup:["signcontrol","signup","sina"],signin:["signcontrol","signin","sina"]};t.ut="";a.pr=function(b){b.Sq();b.AF?location.href=b.AF:b.$f?location.href="/":location.reload()};t.fh=function(b){this.ut=b;this.ix&&($(".js-signtip",this.G).text(b),$(".view-signtip").show())};
t.z=function(){lr.m.z.call(this);this.G.show();this.Xa("登录或注册");this.qm(550);nr(this)};
t.ea=function(b){lr.m.ea.call(this,b);this.G=$(b);sb&&!gi?this.G.addClass("mobile"):this.G.addClass("dialog");this.$f&&(this.G=$(document.body));var b=this.$f?k:function(b,c){var d=c.parent();c.is("[type=checkbox]")||c.is("[type=radio]")?b.insertAfter(d):d.hasClass("zg-form-text-input-group")||d.hasClass("zg-form-text-input-group-horizontal")?d.append(b):b.insertAfter(c)},c={confirm_password:{equalTo:"密码不一致",minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位")},
password:{minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位"),required:"密码未填写"},last_name:{required:"姓氏未填写"},first_name:{required:"名字未填写"},email:{required:"邮箱未填写"}},b={submitHandler:this.kQ,errorPlacement:b,messages:c,onfocusout:$.noop,highlight:function(b,c,d){"radio"===b.type?this.hD(b.name).addClass("error").removeClass(d):$(b).addClass("error").removeClass(d)},errorClass:"validate-error"};this.$f&&(b=$.extend({},b,{errorContainer:"#summary",errorLabelContainer:"#summary ul",
wrapper:"li",showErrors:function(b,c){if(0<c.length){var d=[];d.push("<ul>");$.each(c,function(b,c){d.push('<li><i class="icon-sign icon-sign-error"></i>'+c.message+"</li>")});d.push("</ul>");$("#summary").html(d.join("")).show()}else $("#summary").hide().html("")}}));this.pt=b;(b=Lf.get("r_e"))?(this.$q=(c=b.match(/\"(.+)\"/))?c[1]:b,this.Ki="signup"):this.Ki=this.Ki||"signup";this.ut&&($(".js-signtip",this.G).text(this.ut),this.Rp[this.Ki].push("signtip"));qr(this,this.Rp[this.Ki]);var d=this;this.G.on("click",
".js-signup",$.proxy(this.Oz,this));this.G.on("click",".js-signin",$.proxy(this.qH,this));this.G.on("click",".js-bindsignin",function(b){W.X({type:"ga_click_sign_in_link_account",target:b.target});qr(d,["bindsignin"]);d.Pf()});this.G.on("click",".js-bindweibo",function(){W.X({type:"ga_click_sign_in_weibo",label:"sign_in_box_weibo"});window.open("/oauth/auth/sina?next=/oauth/account_callback","_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return m}).on("click",
".js-weiboname",function(){W.X({type:"ga_click_sign_in_connect",label:"sign_in_box_weibo"});window.open("/oauth/auth/sina?next=/oauth/callback","_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no");return m});this.cu=$(".view-signcontrol",this.e);this.cu.find('[type="radio"]').on("change",$.proxy(function(b){b=$(b.target).val();rr(this,"signin","signin"===b);rr(this,"signup","signup"===b);W.X({type:"ga_click_sign_in_switch",data:b})},this)).filter("[value="+this.Ki+
"]").prop("checked",j);this.nZ=(this.Np=$(".view-signin",this.e)).find("form").validate($.extend({},this.pt,{cs:$.proxy(this.YF,this)}));var e=this;e.oZ=(e.vg=$(".view-signup",e.e)).find("form").validate($.extend({},e.pt,{cs:$.proxy(e.NQ,e)}));e.$q&&(e.Oz(),e.vg.find("[name=email]").val(e.$q));e.vg.find('input[name="accept_terms"]').on("change",function(){e.vg.find("[type=submit]").prop("disabled",!$(this).prop("checked")).toggleClass("disabled",!$(this).prop("checked"))});e.vg.on("change","input, textarea, select",
function(){e.Hv()});this.g().c(W,["accountcallback","sina_callback"],$.proxy(this.GF,this));this.rI=$(".view-bindtip",this.e);var g=this;g.mZ=(g.td=$(".view-info",g.e)).find("form").validate($.extend({},g.pt,{cs:$.proxy(g.nQ,g)}));g.td.on("change",'input[name="iamstudent"]',function(){$(this).prop("checked")?(g.td.find(".js-workerinfo").hide(),g.td.find(".js-studentinfo").show(),nr(g),sr(g)):(g.td.find(".js-workerinfo").show(),g.td.find(".js-studentinfo").hide())}).on("change",'input[name="gender"]',
function(){var b=$(".js-avatar",g.G),c=b.attr("src");if("http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg"===c||"http://p2.zhimg.com/54/5a/545a51608_xl.jpg"===c)"0"===$(this).val()?b.attr("src","http://p2.zhimg.com/54/5a/545a51608_xl.jpg"):b.attr("src","http://p2.zhimg.com/c0/e3/c0e310228_xl.jpg")});sr(g);var h=this;(h.Gp=$(".view-bindsignin",h.e)).find("form").validate($.extend({},h.pt,{cs:$.proxy(h.SP,h)}));h.Gp.on("click",".js-backto-info",function(b){W.X({type:"ga_click_sign_in_link_account",target:b.target});
qr(h,["bindtip","info"]);return m});sb&&h.Gp.find("input[type=submit]").val("登录");var l=this;l.yU=$(".view-warmup",l.e).on("click",".js-gotoinfo",function(){sk("/signup/form");qr(l,["info"]);l.$f&&(qr(l,["info","bindtip"]),l.rI.find("span").hide());l.Pf();return m});var n=this;n.Kp=$(".view-followtopic",n.e).on("click",".js-gotofollowpeople",function(){W.X({type:"ga_click_follow_topic",data:n.OT||0});$.get("/register/recommendations").done(function(b){n.Dm.find("ul").html(tk(n.uR,{each:z.forEach,
persons:b.msg}));n.Dm.find("a.box.followed").length&&n.Dm.find(".friendsfollowed").show()});qr(n,["followpeople"]);n.Dm.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));sk("/signup/suggested_users");return m}).on("click","a.box",n.oD);$(document).on("followchange",function(){var b=n.Kp.find("a.box.followed").length;n.Kp.find(".js-gotofollowpeople").text(0<b?"下一步":"跳过");n.OT=b;n.tR=n.Dm.find("a.box.followed").length});var q=this;q.Dm=$(".view-followpeople",
q.e).on("click",".js-gotofollowtopoic",function(){W.X({type:"ga_click_sign_in_previous_step"});tr(q)}).on("click",".js-startuse",function(){W.X({type:"ga_click_follow_people",data:q.tR||0});sk("/signup/succeed");pr(q)}).on("click","a.box",q.oD);this.Pf();var r=this;A&&Eb("8")&&$(function(){$("input",r.e).keydown(function(b){if(13===b.keyCode)return $(this).parents("form").submit(),m})})};t.Hv=function(){$(window).on("beforeunload.SignFlow",v(s("注册还未完成，确认离开该页面吗？"),this))};t.Sq=function(){$(window).off("beforeunload.SignFlow")};
a.nr=function(b){Sm||setTimeout(function(){$("input[placeholder]:visible",b.e).placeholder()},10)};
t.GF=function(b){b=b.sb;if(1===b.login)return sk("/signin/connect/weibo"),pr(this),m;S.Ma()?qr(this,["info","bindtip"]):(qr(this,["warmup","bindtip"]),this.G.find(".js-weibo-bind-name-transfer").insertAfter(".main-info>div:first-child"));this.$Y=b;0===$("#follow-official-weibo").length&&this.td.find(".avatar-info").append('<div id="follow-official-weibo" style="margin-top:15px;"><label><input name="followzhihu" type="checkbox" checked> 关注 <a target="_blank" href="http://e.weibo.com/zhihu">@知乎</a> 官方微博</label></div>');this.td.find(".js-weiboname").replaceWith(b.name).removeClass("zg-btn-red js-weiboname").attr("href",
"");this.G.find(".js-avatar").attr("src",b.img);this.td.find(".zm-entry-head-avatar-edit-button").remove();return j};a.sr=function(b){sb||b.td.find("input[aria-haspopup]").each(function(){var b=$(this).data();b.ON||(new jr("/topic/autocomplete",this,$(this).parent()[0]),b.ON=j)})};
t.Oz=function(){this.$f&&(location.hash="signup");this.cu.find("input[type=radio][value=signup]").prop("checked",j);qr(this,this.Rp.signup);this.vg.find("[name=email]").val(this.Np.find("[name=email]").val());nr(this);this.Pf();return m};t.qH=function(){this.$f&&(location.hash="signin");this.cu.find("input[type=radio][value=signin]").prop("checked",j);qr(this,this.Rp.signin);this.Np.find("[name=email]").val(this.vg.find("[name=email]").val());this.Pf();return m};a.ur={people:uj,topic:xj};t=lr.prototype;
t.oD=function(){var b=$(this),c=b.data();c.disabled||(c.disabled=j,ur[c.type](c.id,!b.hasClass("followed")).done(function(){var c=b.hasClass("followed")?"关注":"已关注";b.toggleClass("followed");$(document).trigger("followchange");b.find(".follow-tip span").text(c)}).always(function(){c.disabled=m}))};t.ny=m;
t.kQ=function(b){function c(){d.disabled=m}var d=$(b).data();if(!d.disabled){d.disabled=j;var e=this;var g=$(b);if(g.data("nosubmit")===j)b=$.Deferred().resolve().promise();else{var h=$(b).serializeArray();(g=g.data("otherform"))&&$.each($(g).serializeArray(),function(b,c){z.some(h,function(b){return b.name===c.name})||h.push(c)});b=$.post(b.action,$.param(h))}b.done(e.settings.cs).done(function(b){b&&b.r&&($.isPlainObject(b.msg)?e.showErrors(b.msg):"string"===$.type(b.msg)&&U(b.msg))}).always(c)}};
t.YF=function(b){b&&!b.r?(sk("/signin"),pr(this)):b.msg&&this.Pf()};t.SP=function(b){W.X({type:"ga_click_sign_in_link_account",label:"sign_in_box_sign_in_link_account"});this.YF(b)};
t.Pf=function(){var b=$(".js-captcha");"1"===Lf.get("l_c")||"1"===Lf.get("r_c")?("1"===Lf.get("r_c")&&(this.td.find("input[name=email]").is(":visible")?b.appendTo(this.td.find(".main-info")).show():this.vg.is(":visible")&&b.insertBefore(this.vg.find(".captcha-holder")).show()),"1"===Lf.get("l_c")&&(this.Gp.is(":visible")?b.appendTo(this.Gp.find(".formbar")).show():this.Np.is(":visible")&&b.insertBefore(this.Np.find(".captcha-holder")).show()),this.Pf.rK||$(".js-refresh-captcha",this.G).click($.proxy(this.FG,
this)),this.Pf.rK=j,b.find('input[name="checkcode"]').prop("disabled",m),this.FG()):(b.hide(),b.find('input[name="checkcode"]').prop("disabled",j))};t.FG=function(){$(".js-captcha-img",this.G).attr("src","/checkcode.jpg?r="+za())};
t.NQ=function(b){if(b&&!b.r){S[3]="1";var c=this,b=new fr("people");b.n(this.td.find(".avatar-info").get(0));b.on("uploadSuccess",function(b){W.X({type:"ga_click_sign_in_avatar"});(b=b.data.match(/\/(\w+)_\w.\w+$/))&&c.td.find('input[name="avatar_path"]').val(b[1])},m,this);qr(this,["warmup"]);this.td.find("input[name=email]").val(this.vg.find("input[name=email]").val()).parent().hide();sk("/signup/splash");this.ny=j}else this.Pf()};t.nQ=function(b){b&&!b.r?(tr(this),this.ny=j):this.Pf()};
a.tr=function(b){$.get("/register/interests").done(function(c){b.Kp.find("ul").html(tk(b.QT,{each:z.forEach,topics:c.msg}))});qr(b,["followtopic"]);$(document).trigger("followchange");b.Kp.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));sk("/signup/suggested_topics")};t.Xa=function(b){var c=this.getParent();c&&c.Xa&&c.Xa(b)};t.lt=function(b){var c=this.getParent();c&&c.lt&&c.lt(b)};
t.qm=function(b){var c=this.getParent(),d;if(c&&c.h&&(d=c.h(),!sb||gi))$(d).width(b),c.na()};
a.qr=function(b,c){function d(b){return z.contains(c,b)}if(b.$f){$("#summary").hide();d("signin")?($(".hideinlogin").hide(),$(".hideinreg").css("display","inline-block")):($(".hideinlogin").css("display","inline-block"),$(".hideinreg").hide());if(d("warmup")||d("info"))b.G.addClass("regflow"),$(".hideinlogin").hide();(d("signin")||d("signup"))&&b.G.removeClass("regflow");if(d("info"))$("#summary").prependTo($(".main-info"));else{var e=mr(b,d("signin")?"signin":"signup");$("#summary").insertBefore(e.find(".command"))}(d("followtopic")||
d("followpeople"))&&$(".hideinlogin").hide()}b.ix=d("signin")||d("signup")?j:m;if(d("warmup")||d("info"))b.lt(m),e=b.getParent(),$(e&&e.h?e.h():document.body).addClass("bg-signup"),b.Xa("注册知乎"),nr(b);d("bindsignin")&&b.Xa("登录并绑定微博");if(d("followtopic")&&(b.Xa("关注话题"),b.qm(825),b.$f&&(!sb||gi)))$("#js-form-wrapper").width(825).css("margin","0 0 0 -412px").css("top","150px").css("height","auto"),$(".footer").css("bottom","-100px"),$(".view-followtopic").width(825),$(".view-followpeople").width(825);
d("followpeople")&&b.Xa("关注用户");$("div.view",b.e).hide();$.each(c,function(c,d){rr(b,d)});b.iL=c},a.mr=function(b,c){return $(".view-"+c,b.e)},a.rr=function(b,c,d){d="undefined"===$.type(d)?j:!!d;b.options.Cv.call(b,c,d);d&&(b.iL=[c])},a.or=function(b,c){var d=mr(b,c).find("input:text,input[type=email]").filter(":visible").get(0);setTimeout(function(){d&&d.focus()})};t.QT='<% each(topics, function(topic, i) { %> <li><a class="box <%= topic.is_following ? "followed" : "" %> " href="javascript:;" data-type="topic" data-id="<%=topic.topic_id%>" ><img src="<%=topic.topic_avatar%>" alt="<%-topic.topic_name%>" /><div><strong class="topicname"><%=topic.topic_name%></strong><div class="extra-info"><strong><%=topic.topic_follower_num%></strong> 人关注<br><strong><%=topic.topic_answer_num%></strong> 个精彩回答</div><div class="follow-tip"><i class="icon-green-check"></i><span><%= topic.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';
t.uR='<% each(persons, function(person, i) { %> <li><a class="box <%= person.is_following ? "followed" : "" %>" href="javascript:;" data-type="people" data-id="<%=person.member_id %>"><img src="<%=person.member_avatar %>" alt="<%-person.member_fullname %>" /><div><strong class="peoplename"><%=person.member_fullname %></strong><div class="extra-info"><%=person.description %></div><div class="follow-tip"><i class="icon-green-check"></i><span><%= person.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';a.nk=function(){uh.call(this,i,i,i)};y(nk,vi);ia(nk);nk.prototype.W=function(){S.Ma()||nk.m.W.call(this)};nk.prototype.Pz=m;nk.prototype.fh=function(b){this.ut=b;this.Uf&&this.Uf.fh("为了继续你的操作，请先登录或注册知乎")};a.vr=function(b,c){b.Pz=c;if(b.Uf)if(b.Pz){var d=b.Uf;d.ix&&d.Oz()}else d=b.Uf,d.ix&&d.qH()};
nk.prototype.z=function(){nk.m.z.call(this);this.g().c(this,"aftershow",function(){var b=this.Pz?"signup":"signin";if(this.Uf)or(this.Uf,b);else{var c=H("js-sign-flow");this.Y().appendChild(c);var d=this.Uf=new lr;this.M(d);d.Ki=b;d.n(c);this.na()}}).c(this,"afterhide",function(){W.X({type:"ga_click_sign_in_close"});xi.Sq("SignFlow");this.Uf.ny&&location.reload()}).c(this,"beforeshow",function(){W.X({type:"ga_click_sign_in",data:{label:this.Ga}})})};a.wr=function(){M.call(this)};y(wr,Hk);t=wr.prototype;
t.sN=function(b){var c=this.J.Xf(),d=this.J.L.zl,e=z.slice(c,1),g=k;"topic"===c[0]?(g="/topic/"+e[1],g=xr(this,g)):"people"===c[0]?(g="/people/"+e[1],g=xr(this,g)):"question"===c[0]?(g="/question/"+e[2],g=xr(this,g)):"search_link"===c[0]&&(g="/search?q="+encodeURI(e[0])+"&type=question");g&&(e=["/search?q="+encodeURI(this.J.ac)+"&type1="+("search_link"===c[0]?"autocomplete_"+c[0]:"autocomplete")],window.localStorage&&(e=(Wc(localStorage.getItem("zhga"))||[]).concat([e]),localStorage.setItem("zhga",
Zc(e))),W.X({type:"ga_serach_select",data:{type:c[0],index:d}}),c=window.top,this.metaKey?c.open(g):c.location.href=g);b.stopPropagation();b.preventDefault()};
a.xr=function(b,c){return window.localStorage?(b.metaKey||localStorage.setItem("query",b.J.ac),c):c+"?q="+encodeURIComponent(b.J.ac)},a.yr=function(b,c){if(sb&&c.length&&c.children("ul").length){var d=function(d){d=d.target;!c[0].contains(d)&&!d.contains(b[0])&&e()},e=function(){b.parent().removeClass("open");c.hide();$(document.body).off("mousedown",d)};b.click(function(g){g.preventDefault();c.is(":visible")?e():(b.parent().addClass("open"),c.show(),$(document.body).mousedown(d))}).attr("href","javascript:;");
c.find(".slide-up").click(e)}};
t.v=function(){tn.get("__Q_ISNEWLYCREATED__")&&(tn.remove("__Q_ISNEWLYCREATED__"),Cg&&(Cg.DE=j));var b=(new tf(location)).Ic().get("q");b&&(b=decodeURIComponent(b));b==k&&window.localStorage&&(b=localStorage.getItem("query"))&&localStorage.removeItem("query");if(S.Ma())(new Dn).v();else{var c=$("#zh-top-inner"),d=nk.D();c.on("click",'a[href="/topic"]',function(){vr(d,m);d.Ga="top_nav_topics";d.w(j);return m}).on("click",".js-signin-noauth",function(){vr(d,m);d.Ga="top_nav_sign_in";d.w(j);return m}).on("click",
".js-signup-noauth",function(){vr(d,j);d.Ga="top_nav_sign_up";d.w(j)})}if(this.tn=H("zh-top-search")){c=H("zu-top-add-question");this.g().c(c,"click",function(){this.rt()});this.iX=c;if(gi||!sb)(new un({hideFocus:j})).n($("#top-nav-profile-dropdown").get(0));else{var c=$("#top-nav-dd-topic"),e=$("#mobile-top-nav-topic-popup");yr(c,e);ni&&$("img",e).each(function(){var b=$(this).data("2x");b&&(this.src=b)});yr($("#js-top-nav-link-profile"),$("#mobile-top-nav-profile-popup"))}this.g().c(W,"query_string_change",
this.rt);this.dE=J("icon-magnify-q",this.tn);var g=this.Cd=J("zu-top-search-input",this.tn);b&&(g.value=b);Tj(Rj(Uj,"/",function(){setTimeout(function(){g.focus()});gk(g,k,500)}),{group:"导航",name:"搜索"});b="/autocomplete";c=this.tn.getAttribute("data-new");"False"===c&&(c=m);c&&(b="/autocomplete1?url_token="+S[1]);c=new $m;this.J=new an(b,this.Cd,k,k,this.tn,k,["搜索话题、问题或人..."],k,c);this.J.Om=m;this.J.yf(j);this.g().c(this.J,"select",this.sN);this.g().c(this.Cd,"keydown",function(b){13===b.keyCode&&
(this.Cd.value&&"show me the money"!==this.Cd.value&&!/^ +$/.test(this.Cd.value))&&(b=(new Qi(location.href.match(ue)[6]||k)).get("type"),(window.parent||window).location.href="/search?q="+encodeURIComponent(this.Cd.value)+"&type="+(b||"question"))});this.g().c(this.J,km.qh.vi,this.qu);this.g().c(document,"keydown",function(b){b.metaKey&&(this.metaKey=j,this.J.yv=m)});this.g().c(document,"keyup",function(b){if(91===b.keyCode||224===b.keyCode)this.metaKey=m,this.J.yv=j});this.g().c(this.Cd,["keyup",
"focus"],this.IH);this.g().c(this.Cd,"blur",this.IH);this.g().c(this.Cd,"mousedown",function(b){b.stopPropagation();return j})}};t.IH=function(){this.Cd.value?D.add(this.dE,"icon-magnify-active"):D.remove(this.dE,"icon-magnify-active")};
t.qu=function(){var b=this.J.fb,c=this.J.L.ah;if(b&&0!==b.length){if(1===b.length){var d=K("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");jc(d,c[0]);L(c[0])}z.forEach(b,function(d,g){if(0===g||d[0]!==b[g-1][0]){var h=c[g],l={people:"用户",topic:"话题",question:"问题"}[d[0]];l&&(l=K("div",{className:"zu-autocomplete-row-label"},l),jc(l,h),this.g().c(this.J,km.qh.vi,yk))}},this)}};
t.rt=function(){var b;S.Ma()?sn()||(S.Ld?(b=Vq.D(),b.show(),this.Cd.value&&this.Cd.value!==this.Cd.title&&Yq(b,this.Cd.value)):Vn.D().w(j)):(b=nk.D(),b.w(j),b.Ga="top_nav_ask",b.fh("为了让问题被更多人看到以及产生互动，请先登录或注册知乎"))};a.zr=function(){T.call(this)};y(zr,T);a.Ar=new zr;Ar.n(document);a.Br=function(b){var c=b.bd;c.category&&c.action&&Y(c.category,b.type.replace("!","")+"_"+c.action,c.label,c.value)},a.Y=function(b,c,d,e,g){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e,!!g]);!Va(location.host,"zhihu.com")&&window.console&&console.log("trackEvent(new)",z.toArray(arguments))};a.Cr=function(){$(".shameimaru-placeholder").map(function(){var b=$(this);$.get("/node/"+b.attr("data-class"),{params:b.attr("data-params")},function(c){var d=$(c);b.replaceWith(d);var e=d.attr("data-id"),g=d.attr("data-location");(c=$(".shameimaru-close",d))&&c.click(function(b){b.preventDefault();$.post("/shameimaru/close?"+$.param({id:e,location:g}));Zj(d[0],j)})})})};a.Dr=function(b){this.options=$.extend({title:"建议和反馈",CP:"请填写您的反馈内容：",pH:m},b)};y(Dr,T);a.Er=bm("Report"+S.Cj)||cm("Report"+S.Cj);t=Dr.prototype;t.vn=function(){$(window).on("beforeunload.Report",v(function(){Er.set("content",this.Lp.val())},this))};t.Tq=function(){$(window).off("beforeunload.Report")};t.ea=function(b){this.e=b;this.G=$(this.e);this.sd=$("#zh-report-content");this.PA=$(".zg-gray-darker",this.sd);this.G.click(v(this.show,this))};
t.lp=function(b){if(b){var c=$(wh(this.ab)),b=$(".zg-editor-input",c),d=$(".zg-report-msg",c),c=$(".zg-editor-type",c),c=this.options.type||c.val(),e=b.val();if(!e)return d.html("请填写反馈内容").show(),b.focus(),m;d.hide();b=new V(j);P(this.g(),b,"success",function(){U("建议发送成功，我们会尽快处理，感谢您的帮助",3E3);Er.remove("content");this.ab.C();this.ab=k});b.ajax("/feedback/report","type="+c+"&content="+e);return m}};
t.show=function(){if(this.ab)this.ab.w(j);else if(this.vn(),this.PA.html(this.options.CP),this.G[0]&&this.sd[0]){this.ab=Ai(this.options.title,this.sd.html(),v(this.lp,this));var b=$(".zg-editor-type",wh(this.ab));this.options.pH||b.hide();this.Lp=$(".zg-editor-input",wh(this.ab));new fm(this.Lp[0]);this.Lp.html(Er.get("content"))}};a.Fr=function(){$("#js-sidebar-app-link").click(function(){Y($(this).hasClass("iphone")?"iphone":"android","click_sidebar_app_link")});$("#zh-top-link-logo").click(function(){Y("navigation","visit_home","top_logo")});$("#zh-top-link-home").click(function(){Y("navigation","visit_home","top_nav_home")});$("#top-nav-dd-topic").click(function(){Y("navigation","visit_topics_activities","top_nav_topic")});$("#ga_sidebar_topic_all").click(function(){Y("navigation","visit_topics_activities","sidebar_topic_all")});
$(".zm-side-pinned-topics .zm-side-nav a.zm-side-nav-link").eq(0).click(function(){Y("navigation","visit_topic","sidebar_topic_1")}).end().eq(1).click(function(){Y("navigation","visit_topic","sidebar_topic_2")}).end().eq(2).click(function(){Y("navigation","visit_topic","sidebar_topic_3")});var b=$("#zh-trendings");b.on("click",'li:nth-child(1) a[href^="/topic/"]',function(){Y("navigation","visit_topic","sidebar_intresting_people_1_topic")}).on("click",'li:nth-child(2) a[href^="/topic/"]',function(){Y("navigation",
"visit_topic","sidebar_intresting_people_2_topic")}).on("click",'li:nth-child(3) a[href^="/topic/"]',function(){Y("navigation","visit_topic","sidebar_intresting_people_3_topic")});$("#zh-single-question .zm-tag-editor-labels a.zm-item-tag").click(function(){Y("question_answer","visit_topic","question_topic")});N(W,"ga_serach_select",function(b){"topic"===b.data.type&&Y("search","visit_topic","top_search_list_"+(b.data.index+1))});var c=$(".zm-search-result-topic-wrap").on("click",'.title-container a[href^="/topic/"]',
function(){Y("search","visit_topic","search_result_card_topic_name")}).on("click",'a[href^="/topic/"] .zm-search-result-topic-avatar',function(){Y("search","visit_topic","search_result_card_topic_avatar")}).on("click",".meta a.question",function(){Y("search","visit_topic","search_result_card_topic_questions_count")}).on("click",".meta a.follow",function(){Y("search","visit_topic_followers","search_result_card_topic_followers_count")}),d=$('.zm-search3-side-topic .zm-search3-side-topic-item .content a[href^="/topic/"]').click(function(){var b=
d.index(this)+1;Y("search","visit_topic","search_result_sidebar_topics_"+b+"_name")}),e=$(".zm-search3-side-topic .zm-search3-side-topic-item .zm-item-link-avatar").click(function(){var b=e.index(this)+1;Y("search","visit_topic","search_result_sidebar_topics_"+b+"_avatar")}),g=$('#zh-search3-list[data-type="topic"]').on("click",".zm-search3-item .user-info a.user-name",function(){var b=$('#zh-search3-list[data-type="topic"] .zm-search3-item .user-info a.user-name').index(this)+1;Y("search","visit_topic",
"search_result_topic_list_"+b+"_name")}).on("click",".zm-search3-item .user-info .meta a.follow",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info .meta a.follow").index(this)+1;Y("search","visit_topic_followers","search_result_topic_list_"+b+"_followers_count")});g.on("click",".zm-search3-item img.user-avatar",function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+1;Y("search","visit_topic","search_result_topic_list_"+b+"_avatar")});var h=$(".zm-topic-list-container").on("click",
'.subtopic a[href^="/topic/"]',function(){Y("topic","visit_topic","topic_activity_children_topic")});$(".zm-side-section-inner.child-topic").on("click",'a.zm-item-tag[href^="/topic/"]',function(){Y("topic","visit_topic","topic_sidebar_children_topic")});$(".zm-topic-cat-hot").on("click",'a[href^="/topic/"]',function(){Y("topic","visit_topic","topic_square_sidebar")});$(".zm-topic-cat-sub").on("click",'a[href^="/topic/"]',function(){Y("topic","visit_topic","topic_square_list_item")});$('a.zm-side-nav-link[href="/topics"]').click(function(){Y("navigation",
"visit_topic_square","sidebar_topic_square")});$('a.zm-side-nav-link[href="/invitation/email"]').click(function(){Y("navigation","visit_invite_by_email","sidebar_invite_friend")});$("#zh-tooltip").on("click","#zh-tooltip-people .zu-hovercard-head-wrap a",function(){Y("navigation","visit_people_profile","hovercard_people_name")});var l=$("#zh-top-nav-live-new").on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-list-content-medium a[href^="/people"]',function(){Y("notification","visit_people_profile",
"top_nav_noti_follower_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-item-link-avatar',function(){Y("notification","visit_people_profile","top_nav_noti_follower_people_avatar")});l.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/people"]',function(){Y("notification","visit_people_profile","top_nav_noti_vote_thank_people_name")});l.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/people"]',function(){Y("notification",
"visit_people_profile","top_nav_noti_message_invitation_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/people"]',function(){Y("notification","visit_people_profile","top_nav_noti_message_qcomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/people"]',function(){Y("notification","visit_people_profile","top_nav_noti_message_acomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/people"]',
function(){Y("notification","visit_people_profile","top_nav_noti_message_new_answer_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/people"]',function(){Y("notification","visit_people_profile","top_nav_noti_message_edit_people_name")});var n=$("#js-home-feed-list");n.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .source a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_answer_vote_source_people_name")});n.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] >.avatar a[href^="/people"]',
function(){Y("feed","visit_people_profile","feed_answer_vote_source_people_avatar")});n.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .zm-item-answer-author-info a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_answer_vote_author_name")});n.on("click",'div[data-feedtype="ANSWER_CREATE"] .source a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_answer_answer_source_people_name")});n.on("click",'div[data-feedtype="ANSWER_CREATE"] >.avatar a[href^="/people"]',
function(){Y("feed","visit_people_profile","feed_answer_answer_source_people_avatar")});n.on("click",'div[data-feedtype="QUESTION_FOLLOW"] .source a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_question_follow_source_people_name")});n.on("click",'div[data-feedtype="QUESTION_FOLLOW"] >.avatar a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_question_follow_source_people_avatar")});n.on("click",'div[data-feedtype="QUESTION_CREATE"] .source a[href^="/people"]',
function(){Y("feed","visit_people_profile","feed_question_ask_source_people_name")});n.on("click",'div[data-feedtype="QUESTION_CREATE"] >.avatar a[href^="/people"]',function(){Y("feed","visit_people_profile","feed_question_ask_source_people_avatar")});b.on("click",'li:nth-child(1) a[href^="/people"]:not(.zg-link-gray-14)',function(){Y("navigation","visit_people_profile","sidebar_interesting_people_1")}).on("click",'li:nth-child(2) a[href^="/people"]:not(.zg-link-gray-14)',function(){Y("navigation",
"visit_people_profile","sidebar_interesting_people_2")}).on("click",'li:nth-child(3) a[href^="/people"]:not(.zg-link-gray-14)',function(){Y("navigation","visit_people_profile","sidebar_interesting_people_3")});b.on("click",'li:nth-child(1) a.zg-link-gray-14[href^="/people"]',function(){Y("navigation","visit_people_profile","sidebar_interesting_people_1")}).on("click",'li:nth-child(2) a.zg-link-gray-14[href^="/people"]',function(){Y("navigation","visit_people_profile","sidebar_interesting_people_2")}).on("click",
'li:nth-child(3) a.zg-link-gray-14[href^="/people"]',function(){Y("navigation","visit_people_profile","sidebar_interesting_people_3")});var q=$("#zh-question-answer-wrap").on("click",'.zm-item-answer-author-wrap >a[href^="/people"]',function(){Y("question_answer","visit_people_profile","question_answer_author_name")}).on("click",".zm-item-answer-author-wrap img.zm-list-avatar",function(){Y("question_answer","visit_people_profile","question_answer_author_avatar")});q.on("click",".voters a",function(){var b=
$(this).parents(".voters").find("a").index(this)+1;Y("question_answer","visit_people_profile","question_answer_voters_"+b)});q.on("click",'.zm-comment-hd a[href^="/people"]',function(){Y("question_answer","visit_people_profile","question_answer_comment_author_name")}).on("click",".zm-comment-list img.zm-item-img-avatar",function(){Y("question_answer","visit_people_profile","question_answer_comment_author_avatar")});$(".zh-question-followers-sidebar",'a[href^="/people"]',function(){Y("question_answer",
"visit_people_profile","question_sidebar_followers_avatar")});N(W,"ga_serach_select",function(b){"people"===b.data.type&&Y("search","visit_people_profile","top_search_list_"+(b.data.index+1))});c.on("click",'.title-container a[href^="/people/"]',function(){Y("search","visit_people_profile","search_result_card_people_name")}).on("click",'a[href^="/people/"] .zm-search-result-topic-avatar',function(){Y("search","visit_people_profile","search_result_card_people_avatar")});var r=$('.zm-search3-side.user a[href^="/people/"]').click(function(){var b=
r.index(this);Y("search","visit_people_profile","search_result_sidebar_people_"+b+"_avatar")}),x=$('#zh-search3-list[data-type="people"]').on("click",".zm-search3-item .user-info a.user-name",function(b){b=$(b.delegateTarget).find(".zm-search3-item .user-info a.user-name").index(this)+1;Y("search","visit_people_profile","search_result_user_list_"+b+"_people_name")}).on("click",".zm-search3-item  img.user-avatar",function(b){b=$(b.delegateTarget).find(".zm-search3-item img.user-avatar").index(this)+
1;Y("search","visit_people_profile","search_result_user_list_"+b+"_people_name")});$("#zh-topic-top-answerer").on("click",'.zm-topic-side-person-item-content a[href^="/people/"]',function(){Y("topic","visit_people_profile","topic_sidebar_top_answerer_people_name")}).on("click","img.zm-list-avatar",function(){Y("topic","visit_people_profile","topic_sidebar_top_answerer_people_avatar")});c.on("click",'a[href^="/people"][href$="/answers"]',function(){Y("search","visit_people_answers","search_result_card_people_answers_count")});
x.on("click",'a[href^="/people"][href$="/answers"]',function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/answers"]').index(this);Y("search","visit_people_answers","search_result_user_list_"+b+"_people_answers_count")});c.on("click",'a[href^="/people"][href$="/followers"]',function(){Y("search","visit_people_followers","search_result_card_people_followers_count")});x.on("click",'a[href^="/people"][href$="/followers"]',function(b){b=$(b.delegateTarget).find('a[href^="/people"][href$="/followers"]').index(this);
Y("search","visit_people_followers","search_result_user_list_"+b+"_people_followers_count")});l.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/question"]',function(){Y("notification","visit_question","top_nav_noti_vote_thank_question")});l.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/question"]',function(){Y("notification","visit_question","top_nav_noti_message_invitation_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/question"]',
function(){Y("notification","visit_question","top_nav_noti_message_qcomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/question"]',function(){Y("notification","visit_question","top_nav_noti_message_acomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/question"]',function(){Y("notification","visit_question","top_nav_noti_message_new_answser_question")});n.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] h2 a[href^="/question"]',
function(){Y("feed","visit_question","feed_answer_vote_question")}).on("click",'div[data-feedtype="ANSWER_CREATE"] h2 a[href^="/question"]',function(){Y("feed","visit_question","feed_answer_answer_question")}).on("click",'div[data-feedtype="QUESTION_FOLLOW"] h2 a[href^="/question"]',function(){Y("feed","visit_question","feed_question_follow_question")}).on("click",'div[data-feedtype="QUESTION_CREATE"] a.meta-item[href^="/question"]',function(){var b=parseInt($(this).text(),10);b?Y("feed","visit_question",
"feed_question_follow_has_answers",b):Y("feed","visit_question","feed_question_follow_has_no_answer")}).on("click",'div[data-feedtype="QUESTION_CREATE"] h2 a[href^="/question"]',function(){Y("feed","visit_question","feed_question_ask_question")});N(W,"ga_serach_select",function(b){"question"===b.data.type&&Y("search","visit_question","top_search_list_"+(b.data.index+1))});var E=$('#zh-search3-list[data-type="question"]').on("click",'.zm-search3-item .question-title a[href^="/question"]',function(b){b=
$(b.delegateTarget).find('.zm-search3-item .question-title a[href^="/question"]').index(this)+1;Y("search","visit_question","search_result_all_list_"+b+"_question")}).on("click",'.zm-search3-item .question-content a[href^="/question"]',function(b){b=$(b.delegateTarget).find(".zm-search3-item").index($(this).parents(".zm-search3-item"))+1;Y("search","visit_question","search_result_all_list_"+b+"_answer")}).on("click",'.zm-search3-item .meta a.answer[href^="/question"]',function(b){b=$(b.delegateTarget).find('.zm-search3-item .meta a.answer[href^="/question"]').index(this)+
1;Y("search","visit_question","search_result_all_list_"+b+"_answers_count")});$("#zh-question-related-questions").on("click","a",function(b){b=$(b.delegateTarget).find("a").index(this)+1;Y("question_answer","visit_question","question_answer_sidebar_related_questions_"+b)});E.on("click",'a[href^="/question"][href$="/followers"]',function(b){b=$(b.delegateTarget).find('a[href^="/question"][href$="/followers"]').index(this)+1;Y("search","visit_question_followers","search_result_all_list_"+b+"_followers_count")});
$('#zh-question-followers-sidebar a[href^="/question"][href$="/followers"]').click(function(){Y("question_answer","visit_question_followers","question_followers_count")});l.on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/question"]',function(){Y("notification","visit_question_log","top_nav_noti_message_edit_question")});$('.zu-main-sidebar a[href^="/question"][href$="/log"]').click(function(){Y("question_answer","visit_question_log","question_log")});$('div[data-feedtype="ANSWER_CREATE"] .answer-date-link').click(function(){Y("feed",
"visit_answer","feed_answer_answer_date")});$('div[data-feedtype="ANSWER_VOTE_UP"] .answer-date-link').click(function(){Y("feed","visit_answer","feed_answer_vote_date")});$("zh-single-question-page .answer-date-link").click(function(){Y("question_answer","visit_answer","question_answer_date")});$('a.zm-side-nav-link[href="/draft"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);Y("navigation","visit_draft","sidebar_my_draft",b)});$('a.zm-side-nav-link[href="/collections"]').click(function(){var b=
parseInt($(this).find(".zg-num").text()||0,10);Y("navigation","visit_collections","sidebar_my_collections",b)});$('a.zm-side-nav-link[href="/question/invited"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);Y("navigation","visit_question_invited","sidebar_question_invited",b)});$('a[href="http://creativecommons.org"]').click(function(){Y("navigation","visit_cc_license")});N(W,"ga_click_back_to_top",function(){Y("navigation","click_back_to_top")});N(W,"ga_click_follow",function(c){if("people"===
c.data.type&&c.data.uj){var d=$(c.target);0<d.parents("#zh-top-nav-live-new").length?(c=l.find('a[name="focus"]').index(c.target)+1,Y("notification","click_follow_people","top_nav_noti_follower_follow",c)):0<d.parents("#zh-tooltip").length?Y("navigation","click_follow_people","hovercard_follow"):0<d.parents("#zh-trendings").length?(c=b.find("a.follow").index(c.target)+1,Y("navigation","click_follow_people","sidebar_intresting_people_"+c+"_follow")):0<d.parents(".zm-search-result-topic-wrap").length?
Y("search","click_follow_people","search_result_card_people_follow"):0<d.parents('#zh-search3-list[data-type="people"]').length?(c=x.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0)),Y("search","click_follow_people","search_result_user_list_"+c+"_people_follow")):0<d.parents("#zh-topic-top-answerer").length&&Y("topic","click_follow_people","topic_sidebar_top_answerer_follow")}});N(W,"ga_click_follow",function(c){if("people"===c.data.type&&!c.data.uj){var d=$(c.target);0<d.parents("#zh-top-nav-live-new").length?
(c=l.find('a[name="focus"]').index(c.target)+1,Y("notification","click_unfollow_people","top_nav_noti_follower_unfollow",c)):0<d.parents("#zh-tooltip").length?Y("navigation","click_unfollow_people","hovercard_unfollow"):0<d.parents("#zh-trendings").length?(c=b.find("a.follow").index(c.target)+1,Y("navigation","click_unfollow_people","sidebar_intresting_people_"+c+"_unfollow")):0<d.parents(".zm-search-result-topic-wrap").length?Y("search","click_unfollow_people","search_result_card_people_unfollow"):
0<d.parents('#zh-search3-list[data-type="people"]').length?(c=x.find(".zm-search3-item").index(d.parents(".zm-search3-item").get(0))+1,Y("search","click_unfollow_people","search_result_user_list_"+c+"_people_unfollow")):0<d.parents("#zh-topic-top-answerer").length&&Y("topic","click_unfollow_people","topic_sidebar_top_answerer_unfollow")}});N(W,"ga_click_follow",function(b){"question"===b.data.type&&b.data.uj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?Y("feed","click_follow_question",
"feed_answer_vote_follow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?Y("feed","click_follow_question","feed_answer_answer_follow_question"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?Y("feed","click_follow_question","feed_question_follow_follow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?Y("feed","click_follow_question","feed_question_ask_follow_question"):0<b.parents("#zh-question-side-header-wrap").length?Y("question_answer","click_follow_question",
"question_follow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=E.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,Y("search","click_follow_question","search_result_all_list_"+b+"_follow_question")):0<b.parents(".zm-topic-list-container").length&&Y("topic","click_follow_question","topic_activity_follow_question"))});N(W,"ga_click_follow",function(b){"question"===b.data.type&&!b.data.uj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?
Y("feed","click_unfollow_question","feed_answer_vote_unfollow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?Y("feed","click_unfollow_question","feed_answer_answer_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_unFOLLOW"]').length?Y("feed","click_unfollow_question","feed_question_follow_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?Y("feed","click_unfollow_question","feed_question_ask_unfollow_question"):0<b.parents("#zh-question-side-header-wrap").length?
Y("question_answer","click_unfollow_question","question_unfollow_question"):0<b.parents('#zh-search3-list[data-type="question"]').length?(b=E.find(".zm-search3-item").index(b.parents(".zm-search3-item").get(0))+1,Y("search","click_unfollow_question","search_result_all_list_"+b+"_unfollow_question")):0<b.parents(".zm-topic-list-container").length&&Y("topic","click_unfollow_question","topic_activity_unfollow_question"))});N(W,"ga_click_follow",function(b){if("topic"===b.data.type&&b.data.uj){var c=
$(b.target);0<c.parents(".zm-search-result-topic-wrap").length?Y("search","click_follow_topic","search_result_card_topic_follow"):0<c.parents(".zm-search3-side-topic").length?(b=$(".zm-search3-side-topic").find('a[name="focus"][id^="topic"]').index(b.target)+1,Y("search","click_follow_topic","search_result_sidebar_topics_"+b+"_follow")):0<c.parents('#zh-search3-list[data-type="topic"]').length&&(b=g.find(".zm-search3-item").index(c.parents(".zm-search3-item").get(0))+1,Y("search","click_follow_topic",
"search_result_topic_list_"+b+"_follow"))}});N(W,"ga_click_follow",function(b){"topic"===b.data.type&&!b.data.uj&&0<$(b.target).parents(".zm-search-result-topic-wrap").length&&Y("search","click_unfollow_topic","search_result_card_topic_unfollow")});N(W,"ga_click_follow",function(b){"favlist"===b.data.type&&(b.data.uj?Y("collection","click_follow_collection","collection_follow"):Y("collection","click_unfollow_collection","collection_follow"))});N(W,"ga_click_top_nav_noti",function(b){0<b.data.UH?Y("notification",
"click_top_nav_noti","top_nav_noti_alert",b.data.UH):Y("notification","click_top_nav_noti","top_nav_noti_no_alert")});N(W,"ga_click_top_nav_noti_tab",function(b){Y("notification","click_top_nav_noti_tab",["top_nav_noti_tab_message","top_nav_noti_tab_follower","top_nav_noti_tab_vote"][b.data.jh])});N(W,"ga_click_enlarge_image",function(b){b=$(b.target).parents("div[data-feedtype]").attr("data-feedtype");"ANSWER_CREATE"===b?Y("navigation","click_enlarge_image","feed_answer_answer_image"):"ANSWER_VOTE_UP"===
b&&Y("navigation","click_enlarge_image","feed_answer_vote_image")});N(W,"ga_click_feed_more",function(b){b.data&&b.data.$n?Y("feed","click_feed_more","feed_more_button"):Y("feed","click_feed_more","feed_more_auto_load")});N(W,"ga_click_feed_fresh",function(b){Y("feed","click_feed_fresh","feed_fresh_button",b.data.count)});E.on("click","#zh-load-more",function(){Y("search","click_search_result_more","search_result_all_more_buttion")});x.on("click","#zh-load-more",function(){Y("search","click_search_result_more",
"search_result_user_more_buttion")});g.on("click","#zh-load-more",function(){Y("search","click_search_result_more","search_result_topic_more_buttion")});N(W,"ga_click_topic_more",function(b){var c="activity";-1<location.href.indexOf("questions")&&(c="questions");b.data&&b.data.$n?Y("feed","click_topic_more","topic_"+c+"_more_button"):Y("feed","click_topic_more","topic_"+c+"_more_auto_load")});n.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.inline-block[name="toggleExpanded"]',function(){Y("feed",
"click_expand","feed_answer_vote_expand")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.zm-item-vote-count[name="toggleExpanded"]',function(){Y("feed","click_expand","feed_answer_vote_vote_count")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.inline-block[name="toggleExpanded"]',function(){Y("feed","click_expand","feed_answer_answer_expand")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.zm-item-vote-count[name="toggleExpanded"]',function(){Y("feed","click_expand","feed_answer_answer_vote_count")});
c=$("zh-single-question").on("click",'#zh-question-detail a.inline-block[name="expand"]',function(){Y("question_answer","click_expand","question_supplement_expand")});c.on("click",'.zm-item-answer a[name="more"]',function(){Y("question_answer","click_expand","question_answer_voters_more")});c.on("click","#zh-question-collapsed-switcher",function(){Y("question_answer","click_expand","question_answer_folded_expand")});h.on("click",'a.inline-block[name="expand"]',function(){Y("topic","click_expand",
"topic_activity_expand")}).on("click",'a.zm-item-vote-count[name="expand"]',function(){Y("topic","click_expand","topic_activity_vote_count")});N(W,"ga_click_sorter_item",function(b){(b={added_time:"time",vote:"vote"}[b.data.key])&&Y("question_answer","click_sort_answer","question_answer_sorting_"+b)});N(W,"ga_click_vote_up",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_up";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_up";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_up";else return;Y("vote","click_vote_up_answer",b)});N(W,"ga_click_vote_down",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_down";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_down";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_down";else return;Y("vote","click_vote_down_answer",
b)});N(W,"ga_click_thank_answer",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_thank";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_thank";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_thank";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_thank";else return;Y("vote","click_thank_answer",b)});N(W,"ga_click_share_answer_box",function(b){b=$(b.target);
if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_share";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_share";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_share";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_share";else return;Y("share","click_share_answer_box",b)});N(W,"ga_click_share_question_box",function(b){$(b.target);var c="question_question_share",d={sina:"question_sidebar_share_weibo",
mail:"question_sidebar_share_email",letter:"question_sidebar_share_message"};b.data&&b.data.type&&(c=d[b.data.type]);Y("share","click_share_answer_box",c)});N(W,"ga_click_share_answer_weibo",function(b){b=b.data.EA;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_answer_sina_tencent_weibo";else if(z.contains(b,"qq"))b="share_answer_tencent_weibo";else if(z.contains(b,"sina"))b="share_answer_sina_weibo";else return;Y("share","click_share_answer_weibo",b)});N(W,"ga_click_share_answer_email",function(){Y("share",
"click_share_answer_email")});N(W,"ga_click_share_answer_message",function(){Y("share","click_share_answer_message")});N(W,"ga_click_share_question_weibo",function(b){b=b.data.EA;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_tencent_weibo";else if(z.contains(b,"qq")&&!z.contains(b,"sina"))b="share_question_tencent_weibo";else if(!z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_weibo";else return;Y("share","click_share_answer_weibo",b)});N(W,"ga_click_share_question_email",
function(){Y("share","click_share_question_email")});N(W,"ga_click_share_question_message",function(){Y("share","click_share_question_message")});N(W,"ga_click_report_box",function(b){Y("share","click_report_"+{member:"people",answer:"answer",comment:"comment",favlist:"collection",question:"question"}[b.data.type]+"_box")});N(W,"ga_click_report",function(b){Y("share","click_report_"+{member:"people",answer:"answer",comment:"comment",favlist:"collection",question:"question"}[b.data.type])});N(W,"ga_click_collect_answer_box",
function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_collect";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_collect";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_collect";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_collect";else return;Y("collection","click_collect_answer_box",b)});N(W,"ga_click_collect_answer",function(b){Y("collection","click_collect_answer",
"collection_count",b.data.count)});N(W,"ga_click_add_collection",function(){Y("collection","click_add_collection","collect_answer_window_add_collection")});N(W,"ga_click_answer_not_helpful",function(b){b=$(b.target);if(0<b.closest('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_not_helpful";else if(0<b.closest('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_not_helpful";else if(0<b.closest("#zh-question-answer-wrap").length)b="question_answer_not_helpful";else if(0<
b.closest(".zm-topic-list-container").length)b="topic_activity_not_helpful";else return;Y("vote","click_answer_not_helpful",b)});n.on("click");N(W,"ga_click_question_ignore",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_ignore_question";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length)b="feed_question_follow_ignore_question";
else if(0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length)b="feed_question_ask_ignore_question";else return;Y("feed","click_question_ignore",b)});N(W,"ga_question_topic_edit_start",function(){Y("edit","click_edit_question_topic","question_topic_edit_start")});N(W,"ga_question_topic_edit_finish_changed",function(){Y("edit","click_edit_question_topic","question_topic_edit_finish_changed")});N(W,"ga_question_title_edit_start",function(){Y("edit","click_edit_question_titile","question_title_edit_start")});
N(W,"ga_question_title_edit_cancel",function(){Y("edit","click_edit_question_titile","question_title_edit_cancel")});N(W,"ga_question_title_edit_save_changed",function(){Y("edit","click_edit_question_titile","question_title_edit_save_changed")});N(W,"ga_question_title_edit_save_unchanged",function(){Y("edit","click_edit_question_titile","question_title_edit_save_unchanged")});N(W,"ga_question_supplement_edit_start",function(){Y("edit","click_edit_question_supplement","question_supplement_edit_start")});
N(W,"ga_question_supplement_edit_cancel",function(){Y("edit","click_edit_question_supplement","question_supplement_edit_cancel")});N(W,"ga_question_supplement_edit_save_changed",function(){Y("edit","click_edit_question_supplement","question_supplement_edit_save_changed")});N(W,"ga_question_supplement_edit_save_unchanged",function(){Y("edit","click_edit_question_supplement","question_supplement_edit_save_unchanged")});$("#zu-top-add-question").click(function(){Y("question_answer","click_add_question",
"top_nav_question_add_start")});$(".zm-topic-ask-in-topic").click(function(){Y("question_answer","click_add_question","topic_question_add_start")});N(W,"ga_click_add_question",function(b){Y("question_answer","click_add_question","question_add_submit_with_topics",b.data.total);Y("question_answer","click_add_question","question_add_submit_with_suggested_topics",b.data.At);Y("question_answer","click_add_question","question_add_submit_with_suggested_topics_percent",Math.round(100*(b.data.At/b.data.total)))});
$("#zh-question-answer-form-wrap .editable").focus(function(){Y("question_answer","click_add_answer","question_answer_add_start")});$("#zh-question-answer-form-wrap .submit-button").click(function(){Y("question_answer","click_add_answer","question_answer_add_publish")});N(W,"ga_hover_hovercard",function(c){var c=$(c.target),d,e,g,h;c.is('[href^="/people"]')?(e="hover_people_hovercard",0<c.parents("div[data-feedtype]").length?(d="feed",0<c.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?0<c.parents(".zm-item-answer-author-wrap").length?
g="feed_answer_vote_author_name":0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_answer_vote_source_people_avatar":"feed_answer_vote_author_name"):0<c.parents('div[data-feedtype="ANSWER_CREATE"]').length?0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_answer_answer_source_people_avatar":"feed_answer_answer_source_people_name"):0<c.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_question_follow_source_people_avatar":
"feed_question_follow_source_people_name"):0<c.parents('div[data-feedtype="QUESTION_CREATE"]').length&&0<c.parents("div.source").length&&(g=0<c.find("img").length?"feed_question_ask_source_people_avatar":"feed_question_ask_source_people_name")):0<c.parents("#zh-trendings").length?(d="navigation",$.contains(b.find("li:nth-child(1)").get(0),c.get(0))?g="sidebar_intresting_people_1":$.contains(b.find("li:nth-child(2)").get(0),c.get(0))?g="sidebar_intresting_people_2":$.contains(b.find("li:nth-child(3)").get(0),
c.get(0))&&(g="sidebar_intresting_people_3")):0<c.parents("#zh-single-question-page").length?(d="question_answer",0<c.parents(".zm-item-answer-author-wrap").length?g=0<c.find("img").length?"question_answer_author_avatar":"question_answer_author_name":0<c.parents(".voters").length?(g=c.parents(".voters").find('a[href^="/people"]').index(c.get(0))+1,g="question_answer_voters_"+g):0<c.parents(".zm-comment-list").length&&(g=0<c.find("img").length?"question_answer_comment_author_avatar":"question_answer_comment_author_name")):
0<c.parents(".zm-search3-side.user").length?(d="search",g=c.parents(".zm-search3-side.user").find('a[href^="/people"]').index(c.get(0))+1,g="search_result_sidebar_people_"+g+"_avatar"):0<c.parents("#zh-topic-top-answerer").length&&(d="topic",g=0<c.find("img").length?"topic_sidebar_top_answerer_people_avatar":"topic_sidebar_top_answerer_people_name")):c.is('[href^="/topic"]')&&(e="hover_topic_hovercard",h=j,0<c.parents("#zh-single-question-page").length?(d="question_answer",g="question_topic"):0<c.parents(".zm-search3-side-topic").length&&
(d="search",0<c.find("img").length?(g=c.parents(".zm-search3-side-topic").find("a.zm-item-link-avatar").index(c.get(0)),g="search_result_sidebar_topics_"+g+"_avatar"):(g=c.parents(".zm-search3-side-topic").find('.content a[href^="/topic/"]').index(c.get(0))+1,g="search_result_sidebar_topics_"+g+"_name")));d&&(e&&g)&&Y(d,e,g,i,h)});0<$(".zm-search3-card.people").length&&Y("search","show_search_result_card","search_result_card_people");0<$(".zm-search3-card.topic").length&&Y("search","show_search_result_card",
"search_result_card_topic");N(W,"ga_click_sign_in",function(b){b.data&&b.data.label?Y("sign_in","click_sign_in",b.data.label):Y("sign_in","click_sign_in")});N(W,"ga_click_sign_in_close",function(){Y("sign_in","click_sign_in_close","sign_in_box_main")});N(W,"ga_click_sign_in_weibo",function(b){Y("sign_in","click_sign_in_weibo",b.label)});N(W,"ga_click_sign_in_switch",function(b){"signin"===b.data?Y("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_in"):"signup"===b.data&&Y("sign_in","click_sign_in_switch",
"sign_in_box_switch_to_sign_up")});N(W,"ga_click_sign_in_link_account",function(b){b.target?(b=$(b.target),Va(b.parent().text(),"该邮箱已注册")?Y("sign_in","click_sign_in_link_account","sign_up_error_user_exists_link_account"):Va(b.parent().text(),"如果你已有知乎账号")?$(".view-warmup").is(":visible")?Y("sign_in","click_sign_in_link_account","sign_in_box_splash_link_account"):$(".view-info").is(":visible")&&Y("sign_in","click_sign_in_link_account","sign_in_box_sign_up_link_account"):Va(b.text(),"返回注册")&&Y("sign_in",
"click_sign_in_link_account","sign_in_box_link_account_back")):b.label&&Y("sign_in","click_sign_in_link_account",b.label)});N(W,"ga_click_sign_in_connect",function(){Y("sign_in","click_sign_in_weibo","sign_in_connect_weibo")});N(W,"ga_click_sign_in_avatar",function(){Y("sign_in","click_sign_in_avatar","sign_in_avatar_upload")});N(W,"ga_click_sign_in_previous_step",function(){Y("sign_in","click_sign_in_previous_step","sign_in_box_follow_user_previous")});N(W,"ga_click_follow_topic",function(b){0<b.data?
Y("sign_in","click_follow_topic","sign_in_box_follow_topic_next",b.data):0===b.data&&Y("sign_in","click_follow_topic","sign_in_box_follow_topic_skip")});N(W,"ga_click_follow_people",function(b){0<b.data?Y("sign_in","click_follow_people","sign_in_box_follow_people_next",b.data):0===b.data&&Y("sign_in","click_follow_people","sign_in_box_follow_people_skip")})},a.Gr=function(){(new cl).v();(new kn).v();var b=$("#rq3-sidenav-link"),c=$(".tour",b);c.length&&$(".close-button",c).click(function(){var b=
$(this).data("feature");$.get("/notifeature",{feature:b});c.fadeOut(100,function(){c.remove()})});b=new dl;window.console&&console.info&&console.info(b.WJ+"\n\n"+b.link)},a.Hr=function(b,c){c=c||3E3;if(b){var d=H("zh-message-container");d&&(d.innerHTML=b[1],D.set(d,b[0]?"zg-error-message":"zg-info-message"),R(d,j),0<c&&$(d).delay(c).fadeOut())}},a.qk=function(){if(window.console){var b=z.toArray(arguments);b.unshift("["+(new Date).toLocaleTimeString()+"]:\t");console.log.apply?console.log.apply(console,
b):console.log(b[0],b.slice(1).join(","))}},a.Ir=vf.D(),a.Jr=new Te;Jr.FC=m;Ir.Wx=Jr;a.Kr=fa.PLOVR_MODULE_INFO,a.Lr=void 0;for(Lr in Kr)Ir.ld[Lr]=new rf(Kr[Lr],Lr);Ir.AC==Ir.lq&&(Ir.AC=k,Ir.lq.Ho(v(Ir.AD,Ir))&&Df(Ir,Ef));a.Mr=fa.PLOVR_MODULE_URIS,a.Nr=void 0;for(Nr in Mr)Ir.ld[Nr].rg=Mr[Nr];Gf("app_core");
Ca("ZH.main",function(){Ar.on(["click!","show!","visit!"],Br);Gd=window;sb=Bg.vc;$.ajaxPrefilter(function(b,c){var d,e;c.processData!==m&&"get"!==b.type&&(e=Lf.get("_xsrf"),d=c.data||{},"string"===$.type(d)?d=d+"&_xsrf="+e:(d._xsrf=e,d=$.param(d)),b.data=d)});(new wr).v();$("#js-reg-with-mail-in-top").click(function(){var b=nk.D();b.Ga="header_sign_up";vr(b,j);b.w(j)});$("#js-reg-with-sina-in-top").click(function(){var b=nk.D();W.X({type:"ga_click_sign_in_weibo",label:"header_sign_up"});vr(b,j);b.g().c(W,
"accountcallback",function(c){if(1===c.sb.login)return location.reload(),m;b.w(j);b.Uf&&b.Uf.GF(c)})});Ii.dispatchEvent("init");$(function(){Ii.dispatchEvent("postinit")});S.Ma()?(Fi.push({rU:"json",filter:function(b){(b=b.profile_result)&&$(b).css("border-top","1px solid #eee").appendTo(document.body)}}),Bg.vc&&($.fx.off=j),$(function(){var b=$("#zh-report");b[0]&&(new Dr({pH:j})).n(b[0]);(new el).v()}),Cr()):$("body").addClass("no-auth");$("img.lazy").lazyload({data_attribute:"actualsrc",event:"scroll updatelazy",
threshold:400});Va(location.host,"zhihu.com")||(zg=j);$(function(){if(window.localStorage){var b=Wc(localStorage.getItem("zhga"));localStorage.removeItem("zhga");"null"===b||"undefined"===b||b&&z.forEach(b,function(b){1===b.length?sk(b[0]):rk(b[0],b[1],b[2],b[3])})}});$(document.body).children("div.zu-main").attr("role",Vc.HI);document.addEventListener&&document.addEventListener("touchstart",ha,m);$(Gr);$(Fr)});Ca("ZH.setGlobalInfoMessage",function(b){W&&b&&Lk(b)});
Ca("ZH.cm",function(b,c){W.dispatchEvent(new Jk(b,c))});Ca("ZH.m",Hr);Ca("ZH.i",function(b){W.dispatchEvent(new Jk("iframe_data",b))});Ca("ZH.ill",function(){Wj&&Wj.v()});}})(zhihu);