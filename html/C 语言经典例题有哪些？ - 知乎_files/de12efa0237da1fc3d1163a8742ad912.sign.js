(function(a){with(a){
a.Qr=function(b){var c=ua(b),d=Or;return function(){var e=this||fa,e=e[Pr]||(e[Pr]={}),g=d(c,arguments);return e.hasOwnProperty(g)?e[g]:e[g]=b.apply(this,arguments)}},a.Pr="closure_memoize_cache_",a.Or=function(b,c){for(var d=[b],e=c.length-1;0<=e;--e)d.push(typeof c[e],c[e]);return d.join("\x0B")};a.Rr=function(){T.call(this)};y(Rr,T);Rr.prototype.v=function(){this.n(document.body)};
Rr.prototype.z=function(b){function c(b,c,d){if(r){var e=function(){c.hide();var b=x;nr(b);or(b,d)};c.show().fadeOut(150,function(){b.css({opacity:0.5,right:-20,position:"relative",display:"block"}).animate({opacity:1,right:0},150,e)})}else{r=j;b.show();var g=x;nr(g);or(g,d)}}function d(){q.hide();n.show()}function e(){var b=l.filter(".current");b.length&&h.css("top",b.position().top+b.height()/2-10)}Rr.m.z.call(this,b);var g={member:Qr(function(b){return $.get("/node/HomeHeroStoryV2",{params:{member_hash:b}})}),
topic:Qr(function(b){return $.get("/node/HomeTopicStoryV2",{params:{url_token:b}})})},h=$("div.single-story > .icon-sign").addClass("visible"),l=$("div.rep");l.click(function(){$(this).trigger("requestStory")}).on("requestStory",function(){var b=$(this),c=b.data(),d=c.type,c=c.token;b.addClass("current").siblings().removeClass("current");e();g[d](c).done(function(c){$(".single-story-inner").fadeOut(150,function(){$(this).remove();$(c).insertAfter(h).hide().fadeIn(150)});b.trigger("afterRequestStory")})});
e();var n=$("div.mobi-front"),q=$("div.desk-front");n.find(".js-signin, .js-signup").click(function(){r=m;q.find(".js-title-label").text("返回");q.find(".return").off().click(d);n.hide();q.show()});var r=m,b=location.hash.slice(1),b="signin"===b||"signup"!==b&&$("div.view-signin").hasClass("selected"),x=new lr({Cv:function(b,d){"signin"===b?c(mr(x,"signin"),mr(x,"signup"),b):"signup"===b?c(mr(x,"signup"),mr(x,"signin"),b):x.R.Cv.call(x,b,d)}});x.$f=j;x.Ki=b?"signin":"signup";x.n(H("js-sign-flow"));
if(!sb){var b=$("div.single-story"),E=$("div.rep"),G=k,I=function(){var b=E.filter(":not(.current)").get();z.$S(b);return b[0]},Q=function(){G||(G=setInterval(function(){$(I()).trigger("requestStory")},8E3))},X=function(){clearInterval(G);G=k};b.hover(X,Q);E.on("requestStory",X).on("afterRequestStory",Q);b={start:Q,stop:X};b.start();b=b.stop;this.Do||(this.Do=[]);this.Do.push(v(b,i))}};Ca("ZH.entrySignPage",function(){(new Rr).v()});Gf("sign");}})(zhihu);
//@ sourceURL=http://static.zhihu.com/static/compiled/sign.js